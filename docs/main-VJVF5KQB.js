var ib=Object.create;var Ru=Object.defineProperty,sb=Object.defineProperties,ob=Object.getOwnPropertyDescriptor,ab=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertyNames,Sa=Object.getOwnPropertySymbols,lb=Object.getPrototypeOf,xu=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable;var ly=(n,e,t)=>e in n?Ru(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||={})xu.call(e,t)&&ly(n,t,e[t]);if(Sa)for(var t of Sa(e))uy.call(e,t)&&ly(n,t,e[t]);return n},ve=(n,e)=>sb(n,ab(e));var dy=(n,e)=>{var t={};for(var r in n)xu.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Sa)for(var r of Sa(n))e.indexOf(r)<0&&uy.call(n,r)&&(t[r]=n[r]);return t};var wn=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ub=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cb(e))!xu.call(n,i)&&i!==t&&Ru(n,i,{get:()=>e[i],enumerable:!(r=ob(e,i))||r.enumerable});return n};var db=(n,e,t)=>(t=n!=null?ib(lb(n)):{},ub(e||!n||!n.__esModule?Ru(t,"default",{value:n,enumerable:!0}):t,n));var w=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(l){i(l)}},o=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});var lI=wn((cI,fp)=>{"use strict";(function(n,e,t){function r(a){var c=this,l=o();c.next=function(){var u=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=u-(c.c=u|0)},c.c=1,c.s0=l(" "),c.s1=l(" "),c.s2=l(" "),c.s0-=l(a),c.s0<0&&(c.s0+=1),c.s1-=l(a),c.s1<0&&(c.s1+=1),c.s2-=l(a),c.s2<0&&(c.s2+=1),l=null}function i(a,c){return c.c=a.c,c.s0=a.s0,c.s1=a.s1,c.s2=a.s2,c}function s(a,c){var l=new r(a),u=c&&c.state,d=l.next;return d.int32=function(){return l.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&i(u,l),d.state=function(){return i(l,{})}),d}function o(){var a=4022871197,c=function(l){l=String(l);for(var u=0;u<l.length;u++){a+=l.charCodeAt(u);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=d*4294967296}return(a>>>0)*23283064365386963e-26};return c}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.alea=s})(cI,typeof fp=="object"&&fp,typeof define=="function"&&define)});var dI=wn((uI,hp)=>{"use strict";(function(n,e,t){function r(o){var a=this,c="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var u=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^u^u>>>8},o===(o|0)?a.x=o:c+=o;for(var l=0;l<c.length+64;l++)a.x^=c.charCodeAt(l)|0,a.next()}function i(o,a){return a.x=o.x,a.y=o.y,a.z=o.z,a.w=o.w,a}function s(o,a){var c=new r(o),l=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,f=(c.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&i(l,c),u.state=function(){return i(c,{})}),u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xor128=s})(uI,typeof hp=="object"&&hp,typeof define=="function"&&define)});var hI=wn((fI,pp)=>{"use strict";(function(n,e,t){function r(o){var a=this,c="";a.next=function(){var u=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(u^u<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,o===(o|0)?a.x=o:c+=o;for(var l=0;l<c.length+64;l++)a.x^=c.charCodeAt(l)|0,l==c.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function i(o,a){return a.x=o.x,a.y=o.y,a.z=o.z,a.w=o.w,a.v=o.v,a.d=o.d,a}function s(o,a){var c=new r(o),l=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,f=(c.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&i(l,c),u.state=function(){return i(c,{})}),u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xorwow=s})(fI,typeof pp=="object"&&pp,typeof define=="function"&&define)});var mI=wn((pI,mp)=>{"use strict";(function(n,e,t){function r(o){var a=this;a.next=function(){var l=a.x,u=a.i,d,f,h;return d=l[u],d^=d>>>7,f=d^d<<24,d=l[u+1&7],f^=d^d>>>10,d=l[u+3&7],f^=d^d>>>3,d=l[u+4&7],f^=d^d<<7,d=l[u+7&7],d=d^d<<13,f^=d^d<<9,l[u]=f,a.i=u+1&7,f};function c(l,u){var d,f,h=[];if(u===(u|0))f=h[0]=u;else for(u=""+u,d=0;d<u.length;++d)h[d&7]=h[d&7]<<15^u.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?f=h[7]=-1:f=h[d],l.x=h,l.i=0,d=256;d>0;--d)l.next()}c(a,o)}function i(o,a){return a.x=o.x.slice(),a.i=o.i,a}function s(o,a){o==null&&(o=+new Date);var c=new r(o),l=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,f=(c.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(l.x&&i(l,c),u.state=function(){return i(c,{})}),u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xorshift7=s})(pI,typeof mp=="object"&&mp,typeof define=="function"&&define)});var yI=wn((gI,gp)=>{"use strict";(function(n,e,t){function r(o){var a=this;a.next=function(){var l=a.w,u=a.X,d=a.i,f,h;return a.w=l=l+1640531527|0,h=u[d+34&127],f=u[d=d+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,h=u[d]=h^f,a.i=d,h+(l^l>>>16)|0};function c(l,u){var d,f,h,p,m,g=[],I=128;for(u===(u|0)?(f=u,u=null):(u=u+"\0",f=0,I=Math.max(I,u.length)),h=0,p=-32;p<I;++p)u&&(f^=u.charCodeAt((p+32)%u.length)),p===0&&(m=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,p>=0&&(m=m+1640531527|0,d=g[p&127]^=f+m,h=d==0?h+1:0);for(h>=128&&(g[(u&&u.length||0)&127]=-1),h=127,p=4*128;p>0;--p)f=g[h+34&127],d=g[h=h+1&127],f^=f<<13,d^=d<<17,f^=f>>>15,d^=d>>>12,g[h]=f^d;l.w=m,l.X=g,l.i=h}c(a,o)}function i(o,a){return a.i=o.i,a.w=o.w,a.X=o.X.slice(),a}function s(o,a){o==null&&(o=+new Date);var c=new r(o),l=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,f=(c.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(l.X&&i(l,c),u.state=function(){return i(c,{})}),u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.xor4096=s})(gI,typeof gp=="object"&&gp,typeof define=="function"&&define)});var _I=wn((vI,yp)=>{"use strict";(function(n,e,t){function r(o){var a=this,c="";a.next=function(){var u=a.b,d=a.c,f=a.d,h=a.a;return u=u<<25^u>>>7^d,d=d-f|0,f=f<<24^f>>>8^h,h=h-u|0,a.b=u=u<<20^u>>>12^d,a.c=d=d-f|0,a.d=f<<16^d>>>16^h,a.a=h-u|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,o===Math.floor(o)?(a.a=o/4294967296|0,a.b=o|0):c+=o;for(var l=0;l<c.length+20;l++)a.b^=c.charCodeAt(l)|0,a.next()}function i(o,a){return a.a=o.a,a.b=o.b,a.c=o.c,a.d=o.d,a}function s(o,a){var c=new r(o),l=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,f=(c.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,l&&(typeof l=="object"&&i(l,c),u.state=function(){return i(c,{})}),u}e&&e.exports?e.exports=s:t&&t.amd?t(function(){return s}):this.tychei=s})(vI,typeof yp=="object"&&yp,typeof define=="function"&&define)});var wI=wn(()=>{"use strict"});var II=wn((EI,dl)=>{"use strict";(function(n,e,t){var r=256,i=6,s=52,o="random",a=t.pow(r,i),c=t.pow(2,s),l=c*2,u=r-1,d;function f(E,C,W){var M=[];C=C==!0?{entropy:!0}:C||{};var x=g(m(C.entropy?[E,N(e)]:E??I(),3),M),P=new h(M),ge=function(){for(var De=P.g(i),_t=a,Oe=0;De<c;)De=(De+Oe)*r,_t*=r,Oe=P.g(1);for(;De>=l;)De/=2,_t/=2,Oe>>>=1;return(De+Oe)/_t};return ge.int32=function(){return P.g(4)|0},ge.quick=function(){return P.g(4)/4294967296},ge.double=ge,g(N(P.S),e),(C.pass||W||function(De,_t,Oe,wt){return wt&&(wt.S&&p(wt,P),De.state=function(){return p(P,{})}),Oe?(t[o]=De,_t):De})(ge,x,"global"in C?C.global:this==t,C.state)}function h(E){var C,W=E.length,M=this,x=0,P=M.i=M.j=0,ge=M.S=[];for(W||(E=[W++]);x<r;)ge[x]=x++;for(x=0;x<r;x++)ge[x]=ge[P=u&P+E[x%W]+(C=ge[x])],ge[P]=C;(M.g=function(De){for(var _t,Oe=0,wt=M.i,vr=M.j,Ln=M.S;De--;)_t=Ln[wt=u&wt+1],Oe=Oe*r+Ln[u&(Ln[wt]=Ln[vr=u&vr+_t])+(Ln[vr]=_t)];return M.i=wt,M.j=vr,Oe})(r)}function p(E,C){return C.i=E.i,C.j=E.j,C.S=E.S.slice(),C}function m(E,C){var W=[],M=typeof E,x;if(C&&M=="object")for(x in E)try{W.push(m(E[x],C-1))}catch{}return W.length?W:M=="string"?E:E+"\0"}function g(E,C){for(var W=E+"",M,x=0;x<W.length;)C[u&x]=u&(M^=C[u&x]*19)+W.charCodeAt(x++);return N(C)}function I(){try{var E;return d&&(E=d.randomBytes)?E=E(r):(E=new Uint8Array(r),(n.crypto||n.msCrypto).getRandomValues(E)),N(E)}catch{var C=n.navigator,W=C&&C.plugins;return[+new Date,n,W,n.screen,N(e)]}}function N(E){return String.fromCharCode.apply(0,E)}if(g(t.random(),e),typeof dl=="object"&&dl.exports){dl.exports=f;try{d=wI()}catch{}}else typeof define=="function"&&define.amd?define(function(){return f}):t["seed"+o]=f})(typeof self<"u"?self:EI,[],Math)});var DI=wn((IG,CI)=>{"use strict";var Bx=lI(),$x=dI(),Hx=hI(),zx=mI(),Wx=yI(),Gx=_I(),zr=II();zr.alea=Bx;zr.xor128=$x;zr.xorwow=Hx;zr.xorshift7=zx;zr.xor4096=Wx;zr.tychei=Gx;CI.exports=zr});var Ou=null;var Pu=1,fy=Symbol("SIGNAL");function J(n){let e=Ou;return Ou=n,e}function hy(){return Ou}var ku={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fb(n){if(!(Vu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Pu)){if(!n.producerMustRecompute(n)&&!Fu(n)){n.dirty=!1,n.lastCleanEpoch=Pu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Pu}}function Lu(n){return n&&(n.nextProducerIndex=0),J(n)}function py(n,e){if(J(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Vu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Uu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fu(n){Bu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(fb(t),r!==t.version))return!0}return!1}function ju(n){if(Bu(n),Vu(n))for(let e=0;e<n.producerNode.length;e++)Uu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Uu(n,e){if(hb(n),n.liveConsumerNode.length===1&&pb(n))for(let r=0;r<n.producerNode.length;r++)Uu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Bu(i),i.producerIndexOfThis[r]=e}}function Vu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function pb(n){return n.producerNode!==void 0}function mb(){throw new Error}var gb=mb;function my(n){gb=n}function U(n){return typeof n=="function"}function fi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ba=fi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function wr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ee=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof ba?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gy(s)}catch(o){e=e??[],o instanceof ba?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ba(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gy(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wr(t,e)}remove(e){let{_finalizers:t}=this;t&&wr(t,e),e instanceof n&&e._removeParent(this)}};Ee.EMPTY=(()=>{let n=new Ee;return n.closed=!0,n})();var $u=Ee.EMPTY;function Ta(n){return n instanceof Ee||n&&"closed"in n&&U(n.remove)&&U(n.add)&&U(n.unsubscribe)}function gy(n){U(n)?n():n.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hi={setTimeout(n,e,...t){let{delegate:r}=hi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=hi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Aa(n){hi.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(n);else throw n})}function As(){}var yy=Hu("C",void 0,void 0);function vy(n){return Hu("E",void 0,n)}function _y(n){return Hu("N",n,void 0)}function Hu(n,e,t){return{kind:n,value:e,error:t}}var Er=null;function pi(n){if(jt.useDeprecatedSynchronousErrorHandling){let e=!Er;if(e&&(Er={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Er;if(Er=null,t)throw r}}else n()}function wy(n){jt.useDeprecatedSynchronousErrorHandling&&Er&&(Er.errorThrown=!0,Er.error=n)}var Ir=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ta(e)&&e.add(this)):this.destination=_b}static create(e,t,r){return new mi(e,t,r)}next(e){this.isStopped?Wu(_y(e),this):this._next(e)}error(e){this.isStopped?Wu(vy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wu(yy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yb=Function.prototype.bind;function zu(n,e){return yb.call(n,e)}var Gu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Na(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Na(r)}else Na(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Na(t)}}},mi=class extends Ir{constructor(e,t,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zu(e.next,s),error:e.error&&zu(e.error,s),complete:e.complete&&zu(e.complete,s)}):i=e}this.destination=new Gu(i)}};function Na(n){jt.useDeprecatedSynchronousErrorHandling?wy(n):Aa(n)}function vb(n){throw n}function Wu(n,e){let{onStoppedNotification:t}=jt;t&&hi.setTimeout(()=>t(n,e))}var _b={closed:!0,next:As,error:vb,complete:As};var gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lt(n){return n}function qu(...n){return Ku(n)}function Ku(n){return n.length===0?lt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=Eb(t)?t:new mi(t,r,i);return pi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ey(r),new r((i,s)=>{let o=new mi({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[gi](){return this}pipe(...t){return Ku(t)(this)}toPromise(t){return t=Ey(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ey(n){var e;return(e=n??jt.Promise)!==null&&e!==void 0?e:Promise}function wb(n){return n&&U(n.next)&&U(n.error)&&U(n.complete)}function Eb(n){return n&&n instanceof Ir||wb(n)&&Ta(n)}function Yu(n){return U(n?.lift)}function ee(n){return e=>{if(Yu(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new Qu(n,e,t,r,i)}var Qu=class extends Ir{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yi(){return ee((n,e)=>{let t=null;n._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vi=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return yi()(this)}};var Iy=fi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ma(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Iy}next(t){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?$u:(this.currentObservers=null,s.push(t),new Ee(()=>{this.currentObservers=null,wr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new Ma(e,t),n})(),Ma=class extends qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$u}};var He=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zu={now(){return(Zu.delegate||Date).now()},delegate:void 0};var Ra=class extends Ee{constructor(e,t){super()}schedule(e,t=0){return this}};var Ns={setInterval(n,e,...t){let{delegate:r}=Ns;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _i=class extends Ra{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ns.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var wi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};wi.now=Zu.now;var Ei=class extends wi{constructor(e,t=wi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ju=new Ei(_i);var xa=class extends _i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Pa=class extends Ei{};var Xu=new Pa(xa);var ut=new ie(n=>n.complete());function Cy(n){return n&&U(n.schedule)}function Dy(n){return n[n.length-1]}function Sy(n){return U(Dy(n))?n.pop():void 0}function jn(n){return Cy(Dy(n))?n.pop():void 0}function ed(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ty(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function by(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(n){return this instanceof Cr?(this.v=n,this):new Cr(n)}function Ay(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,I){s.push([h,m,g,I])>1||c(h,m)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(m){f(s[0][3],m)}}function l(h){h.value instanceof Cr?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Ny(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof by=="function"?by(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Oa=n=>n&&typeof n.length=="number"&&typeof n!="function";function ka(n){return U(n?.then)}function La(n){return U(n[gi])}function Fa(n){return Symbol.asyncIterator&&U(n?.[Symbol.asyncIterator])}function ja(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ib(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ua=Ib();function Va(n){return U(n?.[Ua])}function Ba(n){return Ay(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Cr(t.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{t.releaseLock()}})}function $a(n){return U(n?.getReader)}function Le(n){if(n instanceof ie)return n;if(n!=null){if(La(n))return Cb(n);if(Oa(n))return Db(n);if(ka(n))return Sb(n);if(Fa(n))return My(n);if(Va(n))return bb(n);if($a(n))return Tb(n)}throw ja(n)}function Cb(n){return new ie(e=>{let t=n[gi]();if(U(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Db(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Sb(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Aa)})}function bb(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function My(n){return new ie(e=>{Ab(n,e).catch(t=>e.error(t))})}function Tb(n){return My(Ba(n))}function Ab(n,e){var t,r,i,s;return Ty(this,void 0,void 0,function*(){try{for(t=Ny(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function tt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Un(n,e=0){return ee((t,r)=>{t.subscribe(te(r,i=>tt(r,n,()=>r.next(i),e),()=>tt(r,n,()=>r.complete(),e),i=>tt(r,n,()=>r.error(i),e)))})}function Vn(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ry(n,e){return Le(n).pipe(Vn(e),Un(e))}function xy(n,e){return Le(n).pipe(Vn(e),Un(e))}function Py(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Oy(n,e){return new ie(t=>{let r;return tt(t,e,()=>{r=n[Ua](),tt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function Ha(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{tt(t,e,()=>{let r=n[Symbol.asyncIterator]();tt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ky(n,e){return Ha(Ba(n),e)}function Ly(n,e){if(n!=null){if(La(n))return Ry(n,e);if(Oa(n))return Py(n,e);if(ka(n))return xy(n,e);if(Fa(n))return Ha(n,e);if(Va(n))return Oy(n,e);if($a(n))return ky(n,e)}throw ja(n)}function Ne(n,e){return e?Ly(n,e):Le(n)}function B(...n){let e=jn(n);return Ne(n,e)}function Ii(n,e){let t=U(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function td(n){return!!n&&(n instanceof ie||U(n.lift)&&U(n.subscribe))}var En=fi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return ee((t,r)=>{let i=0;t.subscribe(te(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Nb}=Array;function Mb(n,e){return Nb(e)?n(...e):n(e)}function Fy(n){return X(e=>Mb(n,e))}var{isArray:Rb}=Array,{getPrototypeOf:xb,prototype:Pb,keys:Ob}=Object;function jy(n){if(n.length===1){let e=n[0];if(Rb(e))return{args:e,keys:null};if(kb(e)){let t=Ob(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function kb(n){return n&&typeof n=="object"&&xb(n)===Pb}function Uy(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function za(...n){let e=jn(n),t=Sy(n),{args:r,keys:i}=jy(n);if(r.length===0)return Ne([],e);let s=new ie(Lb(r,e,i?o=>Uy(i,o):lt));return t?s.pipe(Fy(t)):s}function Lb(n,e,t=lt){return r=>{Vy(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Vy(e,()=>{let l=Ne(n[c],e),u=!1;l.subscribe(te(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Vy(n,e,t){n?tt(t,n,e):e()}function By(n,e,t,r,i,s,o,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=m=>l<r?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;Le(t(m,u++)).subscribe(te(e,I=>{i?.(I),s?h(I):e.next(I)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){let I=c.shift();o?tt(e,o,()=>p(I)):p(I)}f()}catch(I){e.error(I)}}))};return n.subscribe(te(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Me(n,e,t=1/0){return U(e)?Me((r,i)=>X((s,o)=>e(r,s,i,o))(Le(n(r,i))),t):(typeof e=="number"&&(t=e),ee((r,i)=>By(r,i,n,t)))}function nd(n=1/0){return Me(lt,n)}function $y(){return nd(1)}function Ci(...n){return $y()(Ne(n,jn(n)))}function Wa(n){return new ie(e=>{Le(n()).subscribe(e)})}function Ut(n,e){return ee((t,r)=>{let i=0;t.subscribe(te(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Bn(n){return ee((e,t)=>{let r=null,i=!1,s;r=e.subscribe(te(t,void 0,void 0,o=>{s=Le(n(o,Bn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Hy(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(te(o,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Di(n,e){return U(e)?Me(n,e,1):Me(n,1)}function $n(n){return ee((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function In(n){return n<=0?()=>ut:ee((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rd(n){return X(()=>n)}function Ga(n=Fb){return ee((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fb(){return new En}function Ms(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Jt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,s)=>n(i,s,r)):lt,In(1),t?$n(e):Ga(()=>new En))}function Si(n){return n<=0?()=>ut:ee((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function id(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,s)=>n(i,s,r)):lt,Si(1),t?$n(e):Ga(()=>new En))}function sd(n,e){return ee(Hy(n,e,arguments.length>=2,!0))}function od(...n){let e=jn(n);return ee((t,r)=>{(e?Ci(n,t,e):Ci(n,t)).subscribe(r)})}function Vt(n,e){return ee((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(te(r,c=>{i?.unsubscribe();let l=0,u=s++;Le(n(c,u)).subscribe(i=te(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ad(n){return ee((e,t)=>{Le(n).subscribe(te(t,()=>t.complete(),As)),!t.closed&&e.subscribe(t)})}function Re(n,e,t){let r=U(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(te(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):lt}var Nv="https://g.co/ng/security#xss",v=class extends Error{constructor(e,t){super(vf(e,t)),this.code=e}};function vf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function $s(n){return{toString:n}.toString()}var qa="__parameters__";function jb(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Mv(n,e,t){return $s(()=>{let r=jb(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(qa)?c[qa]:Object.defineProperty(c,qa,{value:[]})[qa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var yd=globalThis;function pe(n){for(let e in n)if(n[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(nt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function zy(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Ub=pe({__forward_ref__:pe});function Rv(n){return n.__forward_ref__=Rv,n.toString=function(){return nt(this())},n}function Ct(n){return xv(n)?n():n}function xv(n){return typeof n=="function"&&n.hasOwnProperty(Ub)&&n.__forward_ref__===Rv}function A(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hs(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dc(n){return Wy(n,Ov)||Wy(n,kv)}function Pv(n){return Dc(n)!==null}function Wy(n,e){return n.hasOwnProperty(e)?n[e]:null}function Vb(n){let e=n&&(n[Ov]||n[kv]);return e||null}function Gy(n){return n&&(n.hasOwnProperty(qy)||n.hasOwnProperty(Bb))?n[qy]:null}var Ov=pe({\u0275prov:pe}),qy=pe({\u0275inj:pe}),kv=pe({ngInjectableDef:pe}),Bb=pe({ngInjectorDef:pe}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=A({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lv(n){return n&&!!n.\u0275providers}var $b=pe({\u0275cmp:pe}),Hb=pe({\u0275dir:pe}),zb=pe({\u0275pipe:pe}),Wb=pe({\u0275mod:pe}),nc=pe({\u0275fac:pe}),Ps=pe({__NG_ELEMENT_ID__:pe}),Ky=pe({__NG_ENV_ID__:pe});function Sc(n){return typeof n=="string"?n:n==null?"":String(n)}function Gb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sc(n)}function qb(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new v(-200,n)}function _f(n,e){throw new v(-201,!1)}var q=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(q||{}),vd;function Fv(){return vd}function It(n){let e=vd;return vd=n,e}function jv(n,e,t){let r=Dc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&q.Optional)return null;if(e!==void 0)return e;_f(n,"Injector")}var Kb={},Os=Kb,_d="__NG_DI_FLAG__",rc="ngTempTokenPath",Yb="ngTokenPath",Qb=/\n/gm,Zb="\u0275",Yy="__source",Ni;function Jb(){return Ni}function Hn(n){let e=Ni;return Ni=n,e}function Xb(n,e=q.Default){if(Ni===void 0)throw new v(-203,!1);return Ni===null?jv(n,void 0,e):Ni.get(n,e&q.Optional?null:void 0,e)}function H(n,e=q.Default){return(Fv()||Xb)(Ct(n),e)}function y(n,e=q.Default){return H(n,bc(e))}function bc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wd(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new v(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){let a=r[o],c=e0(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function Uv(n,e){return n[_d]=e,n.prototype[_d]=e,n}function e0(n){return n[_d]}function t0(n,e,t,r){let i=n[rc];throw e[Yy]&&i.unshift(e[Yy]),n.message=n0(`
`+n.message,i,t,r),n[Yb]=i,n[rc]=null,n}function n0(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Zb?n.slice(2):n;let i=nt(e);if(Array.isArray(e))i=e.map(nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Qb,`
  `)}`}var bt=Uv(Mv("Optional"),8);var wf=Uv(Mv("SkipSelf"),4);function Ri(n,e){let t=n.hasOwnProperty(nc);return t?n[nc]:null}function r0(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function i0(n){return n.flat(Number.POSITIVE_INFINITY)}function Ef(n,e){n.forEach(t=>Array.isArray(t)?Ef(t,e):e(t))}function Vv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ic(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function s0(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}var ks={},Xt=[],xi=new L(""),Bv=new L("",-1),$v=new L(""),sc=class{get(e,t=Os){if(t===Os){let r=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw r.name="NullInjectorError",r}return t}},Hv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Hv||{}),nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nn||{}),Gn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Gn||{});function o0(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ed(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];a0(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function zv(n){return n===3||n===4||n===6}function a0(n){return n.charCodeAt(0)===64}function If(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Qy(n,t,i,null,e[++r]):Qy(n,t,i,null,null))}}return n}function Qy(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var Wv="ng-template";function c0(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&o0(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Cf(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Cf(n){return n.type===4&&n.value!==Wv}function l0(n,e,t){let r=n.type===4&&!t?Wv:n.value;return e===r}function u0(n,e,t){let r=4,i=n.attrs,s=i!==null?h0(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Bt(r)&&!Bt(c))return!1;if(o&&Bt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!l0(n,c,t)||c===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!c0(n,i,c,t)){if(Bt(r))return!1;o=!0}}else{let l=e[++a],u=d0(c,i,Cf(n),t);if(u===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(n){return(n&1)===0}function d0(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return p0(e,n)}function Gv(n,e,t=!1){for(let r=0;r<e.length;r++)if(u0(n,e[r],t))return!0;return!1}function f0(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function h0(n){for(let e=0;e<n.length;e++){let t=n[e];if(zv(t))return e}return n.length}function p0(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function m0(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Zy(n,e){return n?":not("+e.trim()+")":e}function g0(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=Zy(s,i),i=""),r=o,s=s||!Bt(r);t++}return i!==""&&(e+=Zy(s,i)),e}function y0(n){return n.map(g0).join(",")}function v0(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:t}}function be(n){return $s(()=>{let e=Zv(n),t=ve(b({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Hv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""});Jv(t);let r=n.dependencies;return t.directiveDefs=Xy(r,!1),t.pipeDefs=Xy(r,!0),t.id=E0(t),t})}function _0(n){return Sr(n)||qv(n)}function w0(n){return n!==null}function zs(n){return $s(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jy(n,e){if(n==null)return ks;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=Gn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Gn.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Qn(n){return $s(()=>{let e=Zv(n);return Jv(e),e})}function Sr(n){return n[$b]||null}function qv(n){return n[Hb]||null}function Kv(n){return n[zb]||null}function Yv(n){let e=Sr(n)||qv(n)||Kv(n);return e!==null?e.standalone:!1}function Qv(n,e){let t=n[Wb]||null;if(!t&&e===!0)throw new Error(`Type ${nt(n)} does not have '\u0275mod' property.`);return t}function Zv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ks,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jy(n.inputs,e),outputs:Jy(n.outputs),debugInfo:null}}function Jv(n){n.features?.forEach(e=>e(n))}function Xy(n,e){if(!n)return null;let t=e?Kv:_0;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(w0)}function E0(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zn(n){return{\u0275providers:n}}function I0(...n){return{\u0275providers:Xv(!0,n),\u0275fromNgModule:!0}}function Xv(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Ef(e,o=>{let a=o;Id(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&e_(i,s),t}function e_(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Df(i,s=>{e(s,r)})}}function Id(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,s=Gy(n),o=!s&&Sr(n);if(!s&&!o){let c=n.ngModule;if(s=Gy(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Id(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Ef(s.imports,u=>{Id(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&e_(l,e)}if(!a){let l=Ri(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:$v,useValue:i,multi:!0},i),e({provide:xi,useValue:()=>H(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;Df(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Df(n,e){for(let t of n)Lv(t)&&(t=t.\u0275providers),Array.isArray(t)?Df(t,e):e(t)}var C0=pe({provide:String,useValue:pe});function t_(n){return n!==null&&typeof n=="object"&&C0 in n}function D0(n){return!!(n&&n.useExisting)}function S0(n){return!!(n&&n.useFactory)}function Cd(n){return typeof n=="function"}var Tc=new L(""),Qa={},b0={},cd;function Sf(){return cd===void 0&&(cd=new sc),cd}var St=class{},Ls=class extends St{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(e,o=>this.processProvider(o)),this.records.set(Bv,bi(void 0,this)),i.has("environment")&&this.records.set(St,bi(void 0,this));let s=this.records.get(Tc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($v,Xt,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Hn(this),r=It(void 0),i;try{return e()}finally{Hn(t),It(r)}}get(e,t=Os,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ky))return e[Ky](this);r=bc(r);let i,s=Hn(this),o=It(void 0);try{if(!(r&q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=x0(e)&&Dc(e);l&&this.injectableDefInScope(l)?c=bi(Dd(e),Qa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&q.Self?Sf():this.parent;return t=r&q.Optional&&t===Os?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[rc]=a[rc]||[]).unshift(nt(e)),s)throw a;return t0(a,e,"R3InjectorError",this.source)}else throw a}finally{It(o),Hn(s)}}resolveInjectorInitializers(){let e=J(null),t=Hn(this),r=It(void 0),i;try{let s=this.get(xi,Xt,q.Self);for(let o of s)o()}finally{Hn(t),It(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){e=Ct(e);let t=Cd(e)?e:Ct(e&&e.provide),r=A0(e);if(!Cd(e)&&e.multi===!0){let i=this.records.get(t);i||(i=bi(void 0,Qa,!0),i.factory=()=>wd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=J(null);try{return t.value===Qa&&(t.value=b0,t.value=t.factory()),typeof t.value=="object"&&t.value&&R0(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Dd(n){let e=Dc(n),t=e!==null?e.factory:Ri(n);if(t!==null)return t;if(n instanceof L)throw new v(204,!1);if(n instanceof Function)return T0(n);throw new v(204,!1)}function T0(n){if(n.length>0)throw new v(204,!1);let t=Vb(n);return t!==null?()=>t.factory(n):()=>new n}function A0(n){if(t_(n))return bi(void 0,n.useValue);{let e=N0(n);return bi(e,Qa)}}function N0(n,e,t){let r;if(Cd(n)){let i=Ct(n);return Ri(i)||Dd(i)}else if(t_(n))r=()=>Ct(n.useValue);else if(S0(n))r=()=>n.useFactory(...wd(n.deps||[]));else if(D0(n))r=()=>H(Ct(n.useExisting));else{let i=Ct(n&&(n.useClass||n.provide));if(M0(n))r=()=>new i(...wd(n.deps));else return Ri(i)||Dd(i)}return r}function bi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function M0(n){return!!n.deps}function R0(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function x0(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Sd(n,e){for(let t of n)Array.isArray(t)?Sd(t,e):t&&Lv(t)?Sd(t.\u0275providers,e):e(t)}function bn(n,e){n instanceof Ls&&n.assertNotDestroyed();let t,r=Hn(n),i=It(void 0);try{return e()}finally{Hn(r),It(i)}}function P0(){return Fv()!==void 0||Jb()!=null}function O0(n){return typeof n=="function"}var on=0,V=1,k=2,Qe=3,$t=4,rt=5,Pi=6,oc=7,Ke=8,Oi=9,rn=10,Fe=11,Fs=12,ev=13,$i=14,dt=15,br=16,Ti=17,Cn=18,Ac=19,n_=20,zn=21,ld=22,Dt=23,ft=25,bf=1;var Tr=7,ac=8,ki=9,Ye=10,cc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(cc||{});function Wn(n){return Array.isArray(n)&&typeof n[bf]=="object"}function Tn(n){return Array.isArray(n)&&n[bf]===!0}function r_(n){return(n.flags&4)!==0}function Nc(n){return n.componentOffset>-1}function Tf(n){return(n.flags&1)===1}function Hi(n){return!!n.template}function bd(n){return(n[k]&512)!==0}var Td=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function i_(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Pr(){return s_}function s_(n){return n.type.prototype.ngOnChanges&&(n.setInput=L0),k0}Pr.ngInherit=!0;function k0(){let n=a_(this),e=n?.current;if(e){let t=n.previous;if(t===ks)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function L0(n,e,t,r,i){let s=this.declaredInputs[r],o=a_(n)||F0(n,{previous:ks,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Td(l&&l.currentValue,t,c===ks),i_(n,e,i,t)}var o_="__ngSimpleChanges__";function a_(n){return n[o_]||null}function F0(n,e){return n[o_]=e}var tv=null;var en=function(n,e,t){tv?.(n,e,t)},c_="svg",j0="math";function sn(n){for(;Array.isArray(n);)n=n[on];return n}function U0(n){for(;Array.isArray(n);){if(typeof n[bf]=="object")return n;n=n[on]}return null}function V0(n,e){return sn(e[n])}function Tt(n,e){return sn(e[n.index])}function Af(n,e){return n.data[e]}function Jn(n,e){let t=e[n];return Wn(t)?t:t[on]}function B0(n){return(n[k]&4)===4}function Nf(n){return(n[k]&128)===128}function $0(n){return Tn(n[Qe])}function Li(n,e){return e==null?null:n[e]}function l_(n){n[Ti]=0}function u_(n){n[k]&1024||(n[k]|=1024,Nf(n)&&Rc(n))}function H0(n,e){for(;n>0;)e=e[$i],n--;return e}function Mc(n){return!!(n[k]&9216||n[Dt]?.dirty)}function Ad(n){n[rn].changeDetectionScheduler?.notify(8),n[k]&64&&(n[k]|=1024),Mc(n)&&Rc(n)}function Rc(n){n[rn].changeDetectionScheduler?.notify(0);let e=Ar(n);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Nf(e)));)e=Ar(e)}function d_(n,e){if((n[k]&256)===256)throw new v(911,!1);n[zn]===null&&(n[zn]=[]),n[zn].push(e)}function z0(n,e){if(n[zn]===null)return;let t=n[zn].indexOf(e);t!==-1&&n[zn].splice(t,1)}function Ar(n){let e=n[Qe];return Tn(e)?e[Qe]:e}var K={lFrame:I_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var f_=!1;function W0(){return K.lFrame.elementDepthCount}function G0(){K.lFrame.elementDepthCount++}function q0(){K.lFrame.elementDepthCount--}function h_(){return K.bindingsEnabled}function p_(){return K.skipHydrationRootTNode!==null}function K0(n){return K.skipHydrationRootTNode===n}function Y0(){K.skipHydrationRootTNode=null}function ne(){return K.lFrame.lView}function ht(){return K.lFrame.tView}function je(n){return K.lFrame.contextLView=n,n[Ke]}function Ue(n){return K.lFrame.contextLView=null,n}function pt(){let n=m_();for(;n!==null&&n.type===64;)n=n.parent;return n}function m_(){return K.lFrame.currentTNode}function Q0(){let n=K.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ws(n,e){let t=K.lFrame;t.currentTNode=n,t.isParent=e}function g_(){return K.lFrame.isParent}function y_(){K.lFrame.isParent=!1}function v_(){return f_}function nv(n){f_=n}function Mf(){let n=K.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Z0(n){return K.lFrame.bindingIndex=n}function zi(){return K.lFrame.bindingIndex++}function J0(){return K.lFrame.inI18n}function X0(n,e){let t=K.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nd(e)}function eT(){return K.lFrame.currentDirectiveIndex}function Nd(n){K.lFrame.currentDirectiveIndex=n}function tT(n){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function __(){return K.lFrame.currentQueryIndex}function Rf(n){K.lFrame.currentQueryIndex=n}function nT(n){let e=n[V];return e.type===2?e.declTNode:e.type===1?n[rt]:null}function w_(n,e,t){if(t&q.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&q.Host);)if(i=nT(s),i===null||(s=s[$i],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=K.lFrame=E_();return r.currentTNode=e,r.lView=n,!0}function xf(n){let e=E_(),t=n[V];K.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function E_(){let n=K.lFrame,e=n===null?null:n.child;return e===null?I_(n):e}function I_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function C_(){let n=K.lFrame;return K.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var D_=C_;function Pf(){let n=C_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rT(n){return(K.lFrame.contextLView=H0(n,K.lFrame.contextLView))[Ke]}function xc(){return K.lFrame.selectedIndex}function Nr(n){K.lFrame.selectedIndex=n}function Of(){let n=K.lFrame;return Af(n.tView,n.selectedIndex)}function Gs(){K.lFrame.currentNamespace=c_}function iT(){return K.lFrame.currentNamespace}var S_=!0;function kf(){return S_}function Lf(n){S_=n}function sT(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=s_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Ff(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Za(n,e,t){b_(n,e,3,t)}function Ja(n,e,t,r){(n[k]&3)===t&&b_(n,e,t,r)}function ud(n,e){let t=n[k];(t&3)===e&&(t&=16383,t+=1,n[k]=t)}function b_(n,e,t,r){let i=r!==void 0?n[Ti]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ti]+=65536),(a<s||s==-1)&&(oT(n,t,e,c),n[Ti]=(n[Ti]&4294901760)+c+2),c++}function rv(n,e){en(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),en(5,n,e)}}function oT(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[k]>>14<n[Ti]>>16&&(n[k]&3)===e&&(n[k]+=16384,rv(a,s)):rv(a,s)}var Mi=-1,js=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function aT(n){return n instanceof js}function cT(n){return(n.flags&8)!==0}function lT(n){return(n.flags&16)!==0}var dd={},Md=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=bc(r);let i=this.injector.get(e,dd,r);return i!==dd||t===dd?i:this.parentInjector.get(e,t,r)}};function T_(n){return n!==Mi}function lc(n){return n&32767}function uT(n){return n>>16}function uc(n,e){let t=uT(n),r=e;for(;t>0;)r=r[$i],t--;return r}var Rd=!0;function iv(n){let e=Rd;return Rd=n,e}var dT=256,A_=dT-1,N_=5,fT=0,tn={};function hT(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ps)&&(r=t[Ps]),r==null&&(r=t[Ps]=fT++);let i=r&A_,s=1<<i;e.data[n+(i>>N_)]|=s}function M_(n,e){let t=R_(n,e);if(t!==-1)return t;let r=e[V];r.firstCreatePass&&(n.injectorIndex=e.length,fd(r.data,n),fd(e,null),fd(r.blueprint,null));let i=jf(n,e),s=n.injectorIndex;if(T_(i)){let o=lc(i),a=uc(i,e),c=a[V].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function fd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function R_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function jf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=L_(i),r===null)return Mi;if(t++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Mi}function pT(n,e,t){hT(n,e,t)}function mT(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(zv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function x_(n,e,t){if(t&q.Optional||n!==void 0)return n;_f(e,"NodeInjector")}function P_(n,e,t,r){if(t&q.Optional&&r===void 0&&(r=null),!(t&(q.Self|q.Host))){let i=n[Oi],s=It(void 0);try{return i?i.get(e,r,t&q.Optional):jv(e,r,t&q.Optional)}finally{It(s)}}return x_(r,e,t)}function O_(n,e,t,r=q.Default,i){if(n!==null){if(e[k]&2048&&!(r&q.Self)){let o=_T(n,e,t,r,tn);if(o!==tn)return o}let s=k_(n,e,t,r,tn);if(s!==tn)return s}return P_(e,t,r,i)}function k_(n,e,t,r,i){let s=yT(t);if(typeof s=="function"){if(!w_(e,n,r))return r&q.Host?x_(i,t,r):P_(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&q.Optional))_f(t);else return o}finally{D_()}}else if(typeof s=="number"){let o=null,a=R_(n,e),c=Mi,l=r&q.Host?e[dt][rt]:null;for((a===-1||r&q.SkipSelf)&&(c=a===-1?jf(n,e):e[a+8],c===Mi||!ov(r,!1)?a=-1:(o=e[V],a=lc(c),e=uc(c,e)));a!==-1;){let u=e[V];if(sv(s,a,u.data)){let d=gT(a,e,t,o,r,l);if(d!==tn)return d}c=e[a+8],c!==Mi&&ov(r,e[V].data[a+8]===l)&&sv(s,a,e)?(o=u,a=lc(c),e=uc(c,e)):a=-1}}return i}function gT(n,e,t,r,i,s){let o=e[V],a=o.data[n+8],c=r==null?Nc(a)&&Rd:r!=o&&(a.type&3)!==0,l=i&q.Host&&s===a,u=Xa(a,o,t,c,l);return u!==null?Fi(e,o,u,a):tn}function Xa(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,u=s>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=o[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(i){let h=o[c];if(h&&Hi(h)&&h.type===t)return c}return null}function Fi(n,e,t,r){let i=n[t],s=e.data;if(aT(i)){let o=i;o.resolving&&qb(Gb(s[t]));let a=iv(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?It(o.injectImpl):null,u=w_(n,r,q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sT(t,s[t],e)}finally{l!==null&&It(l),iv(a),o.resolving=!1,D_()}}return i}function yT(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ps)?n[Ps]:void 0;return typeof e=="number"?e>=0?e&A_:vT:e}function sv(n,e,t){let r=1<<n;return!!(t[e+(n>>N_)]&r)}function ov(n,e){return!(n&q.Self)&&!(n&q.Host&&e)}var Dr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return O_(this._tNode,this._lView,e,bc(r),t)}};function vT(){return new Dr(pt(),ne())}function Uf(n){return $s(()=>{let e=n.prototype.constructor,t=e[nc]||xd(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[nc]||xd(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xd(n){return xv(n)?()=>{let e=xd(Ct(n));return e&&e()}:Ri(n)}function _T(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[k]&2048&&!(o[k]&512);){let a=k_(s,o,t,r|q.Self,tn);if(a!==tn)return a;let c=s.parent;if(!c){let l=o[n_];if(l){let u=l.get(t,tn,r);if(u!==tn)return u}c=L_(o),o=o[$i]}s=c}return i}function L_(n){let e=n[V],t=e.type;return t===2?e.declTNode:t===1?n[rt]:null}function Vf(n){return mT(pt(),n)}function av(n,e=null,t=null,r){let i=F_(n,e,t,r);return i.resolveInjectorInitializers(),i}function F_(n,e=null,t=null,r,i=new Set){let s=[t||Xt,I0(n)];return r=r||(typeof n=="object"?void 0:nt(n)),new Ls(s,e||Sf(),r||null,i)}var Ht=class n{static{this.THROW_IF_NOT_FOUND=Os}static{this.NULL=new sc}static create(e,t){if(Array.isArray(e))return av({name:""},t,e,"");{let r=e.name??"";return av({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=A({token:n,providedIn:"any",factory:()=>H(Bv)})}static{this.__NG_ELEMENT_ID__=-1}};var wT=new L("");wT.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new v(204,!1);if(e.type&2)return e.value;if(n&q.Optional)return null;throw new v(204,!1)};var ET="ngOriginalError";function hd(n){return n[ET]}var j_=!0,U_=(()=>{class n{static{this.__NG_ELEMENT_ID__=IT}static{this.__NG_ENV_ID__=t=>t}}return n})(),Pd=class extends U_{constructor(e){super(),this._lView=e}onDestroy(e){return d_(this._lView,e),()=>z0(this._lView,e)}};function IT(){return new Pd(ne())}var Wi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Od=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,P0()&&(this.destroyRef=y(U_,{optional:!0})??void 0,this.pendingTasks=y(Wi,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ee&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ae=Od;function dc(...n){}function V_(n){let e,t;function r(){n=dc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cv(n){return queueMicrotask(()=>n()),()=>{n=dc}}var Bf="isAngularZone",fc=Bf+"_ID",CT=0,he=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=j_}=e;if(typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,bT(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new v(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,DT,dc,dc);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},DT={};function $f(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ST(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){V_(()=>{n.callbackScheduled=!1,kd(n),n.isCheckStableRunning=!0,$f(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kd(n)}function bT(n){let e=()=>{ST(n)},t=CT++;n._inner=n._inner.fork({name:"angular",properties:{[Bf]:!0,[fc]:t,[fc+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(TT(c))return r.invokeTask(s,o,a,c);try{return lv(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),uv(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return lv(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!AT(c)&&e(),uv(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,kd(n),$f(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function kd(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uv(n){n._nesting--,$f(n)}var Ld=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function TT(n){return B_(n,"__ignore_ng_zone__")}function AT(n){return B_(n,"__scheduler_tick__")}function B_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Dn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hd(e);for(;t&&hd(t);)t=hd(t);return t||null}},NT=new L("",{providedIn:"root",factory:()=>{let n=y(he),e=y(Dn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function MT(){return Gi(pt(),ne())}function Gi(n,e){return new At(Tt(n,e))}var At=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=MT}}return n})();function RT(n){return n instanceof At?n.nativeElement:n}function xT(){return this._results[Symbol.iterator]()}var Fd=class n{get changes(){return this._changes??=new ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=xT)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=i0(e);(this._changesDetected=!r0(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function $_(n){return(n.flags&128)===128}var H_=new Map,PT=0;function OT(){return PT++}function kT(n){H_.set(n[Ac],n)}function jd(n){H_.delete(n[Ac])}var dv="__ngContext__";function Mr(n,e){Wn(e)?(n[dv]=e[Ac],kT(e)):n[dv]=e}function z_(n){return G_(n[Fs])}function W_(n){return G_(n[$t])}function G_(n){for(;n!==null&&!Tn(n);)n=n[$t];return n}var Ud;function q_(n){Ud=n}function LT(){if(Ud!==void 0)return Ud;if(typeof document<"u")return document;throw new v(210,!1)}var Hf=new L("",{providedIn:"root",factory:()=>FT}),FT="ng",zf=new L(""),Xn=new L("",{providedIn:"platform",factory:()=>"unknown"});var Wf=new L(""),Gf=new L("",{providedIn:"root",factory:()=>LT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jT="h",UT="b";var VT=()=>null;function qf(n,e,t=!1){return VT(n,e,t)}var K_=!1,BT=new L("",{providedIn:"root",factory:()=>K_});var Ka;function $T(){if(Ka===void 0&&(Ka=null,yd.trustedTypes))try{Ka=yd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ka}function fv(n){return $T()?.createScriptURL(n)||n}var hc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nv})`}};function Pc(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function Kf(n,e){let t=HT(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Nv})`)}return t===e}function HT(n){return n instanceof hc&&n.getTypeName()||null}var zT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Y_(n){return n=String(n),n.match(zT)?n:"unsafe:"+n}var Oc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oc||{});function WT(n){let e=Z_();return e?e.sanitize(Oc.URL,n)||"":Kf(n,"URL")?Pc(n):Y_(Sc(n))}function GT(n){let e=Z_();if(e)return fv(e.sanitize(Oc.RESOURCE_URL,n)||"");if(Kf(n,"ResourceURL"))return fv(Pc(n));throw new v(904,!1)}function qT(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?GT:WT}function Q_(n,e,t){return qT(e,t)(n)}function Z_(){let n=ne();return n&&n[rn].sanitizer}function J_(n){return n instanceof Function?n():n}var er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(er||{}),KT;function Yf(n,e){return KT(n,e)}function Ai(n,e,t,r,i){if(r!=null){let s,o=!1;Tn(r)?s=r:Wn(r)&&(o=!0,r=r[on]);let a=sn(r);n===0&&t!==null?i==null?rw(e,t,a):pc(e,t,a,i||null,!0):n===1&&t!==null?pc(e,t,a,i||null,!0):n===2?aA(e,a,o):n===3&&e.destroyNode(a),s!=null&&lA(e,n,s,t,i)}}function YT(n,e){return n.createText(e)}function QT(n,e,t){n.setValue(e,t)}function X_(n,e,t){return n.createElement(e,t)}function ZT(n,e){ew(n,e),e[on]=null,e[rt]=null}function JT(n,e,t,r,i,s){r[on]=i,r[rt]=e,Lc(n,r,t,1,i,s)}function ew(n,e){e[rn].changeDetectionScheduler?.notify(9),Lc(n,e,e[Fe],2,null,null)}function XT(n){let e=n[Fs];if(!e)return pd(n[V],n);for(;e;){let t=null;if(Wn(e))t=e[Fs];else{let r=e[Ye];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)Wn(e)&&pd(e[V],e),e=e[Qe];e===null&&(e=n),Wn(e)&&pd(e[V],e),t=e&&e[$t]}e=t}}function eA(n,e,t,r){let i=Ye+r,s=t.length;r>0&&(t[i-1][$t]=e),r<s-Ye?(e[$t]=t[i],Vv(t,Ye+r,e)):(t.push(e),e[$t]=null),e[Qe]=t;let o=e[br];o!==null&&t!==o&&tw(o,e);let a=e[Cn];a!==null&&a.insertView(n),Ad(e),e[k]|=128}function tw(n,e){let t=n[ki],r=e[Qe];if(Wn(r))n[k]|=cc.HasTransplantedViews;else{let i=r[Qe][dt];e[dt]!==i&&(n[k]|=cc.HasTransplantedViews)}t===null?n[ki]=[e]:t.push(e)}function Qf(n,e){let t=n[ki],r=t.indexOf(e);t.splice(r,1)}function Us(n,e){if(n.length<=Ye)return;let t=Ye+e,r=n[t];if(r){let i=r[br];i!==null&&i!==n&&Qf(i,r),e>0&&(n[t-1][$t]=r[$t]);let s=ic(n,Ye+e);ZT(r[V],r);let o=s[Cn];o!==null&&o.detachView(s[V]),r[Qe]=null,r[$t]=null,r[k]&=-129}return r}function kc(n,e){if(!(e[k]&256)){let t=e[Fe];t.destroyNode&&Lc(n,e,t,3,null,null),XT(e)}}function pd(n,e){if(e[k]&256)return;let t=J(null);try{e[k]&=-129,e[k]|=256,e[Dt]&&ju(e[Dt]),nA(n,e),tA(n,e),e[V].type===1&&e[Fe].destroy();let r=e[br];if(r!==null&&Tn(e[Qe])){r!==e[Qe]&&Qf(r,e);let i=e[Cn];i!==null&&i.detachView(n)}jd(e)}finally{J(t)}}function tA(n,e){let t=n.cleanup,r=e[oc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[oc]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function nA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof js)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];en(4,a,c);try{c.call(a)}finally{en(5,a,c)}}else{en(4,i,s);try{s.call(i)}finally{en(5,i,s)}}}}}function nw(n,e,t){return rA(n,e.parent,t)}function rA(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[on];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===nn.None||s===nn.Emulated)return null}return Tt(r,t)}}function pc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rw(n,e,t){n.appendChild(e,t)}function hv(n,e,t,r,i){r!==null?pc(n,e,t,r,i):rw(n,e,t)}function iw(n,e){return n.parentNode(e)}function iA(n,e){return n.nextSibling(e)}function sw(n,e,t){return oA(n,e,t)}function sA(n,e,t){return n.type&40?Tt(n,t):null}var oA=sA,pv;function Zf(n,e,t,r){let i=nw(n,r,e),s=e[Fe],o=r.parent||e[rt],a=sw(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)hv(s,i,t[c],a,!1);else hv(s,i,t,a,!1);pv!==void 0&&pv(s,r,e,t,i)}function Rs(n,e){if(e!==null){let t=e.type;if(t&3)return Tt(e,n);if(t&4)return Vd(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Rs(n,r);{let i=n[e.index];return Tn(i)?Vd(-1,i):sn(i)}}else{if(t&128)return Rs(n,e.next);if(t&32)return Yf(e,n)()||sn(n[e.index]);{let r=ow(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ar(n[dt]);return Rs(i,r)}else return Rs(n,e.next)}}}return null}function ow(n,e){if(e!==null){let r=n[dt][rt],i=e.projection;return r.projection[i]}return null}function Vd(n,e){let t=Ye+n+1;if(t<e.length){let r=e[t],i=r[V].firstChild;if(i!==null)return Rs(r,i)}return e[Tr]}function aA(n,e,t){n.removeChild(null,e,t)}function Jf(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&Mr(sn(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Jf(n,e,t.child,r,i,s,!1),Ai(e,n,i,a,s);else if(c&32){let l=Yf(t,r),u;for(;u=l();)Ai(e,n,i,u,s);Ai(e,n,i,a,s)}else c&16?aw(n,e,r,t,i,s):Ai(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lc(n,e,t,r,i,s){Jf(t,r,n.firstChild,e,i,s,!1)}function cA(n,e,t){let r=e[Fe],i=nw(n,t,e),s=t.parent||e[rt],o=sw(s,t,e);aw(r,0,e,t,i,o)}function aw(n,e,t,r,i,s){let o=t[dt],c=o[rt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ai(e,n,i,u,s)}else{let l=c,u=o[Qe];$_(r)&&(l.flags|=128),Jf(n,e,l,u,i,s,!0)}}function lA(n,e,t,r,i){let s=t[Tr],o=sn(t);s!==o&&Ai(e,n,r,s,i);for(let a=Ye;a<t.length;a++){let c=t[a];Lc(c[V],c,n,e,r,s)}}function uA(n,e,t){n.setAttribute(e,"style",t)}function cw(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lw(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Ed(n,e,r),i!==null&&cw(n,e,i),s!==null&&uA(n,e,s)}var Or={};function F(n=1){uw(ht(),ne(),xc()+n,!1)}function uw(n,e,t,r){if(!r)if((e[k]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Za(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Ja(e,s,0,t)}Nr(t)}function _e(n,e=q.Default){let t=ne();if(t===null)return H(n,e);let r=pt();return O_(r,t,Ct(n),e)}function dw(n,e,t,r,i,s){let o=J(null);try{let a=null;i&Gn.SignalBased&&(a=e[r][fy]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Gn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):i_(e,a,r,s)}finally{J(o)}}function dA(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Nr(~i);else{let s=i,o=t[++r],a=t[++r];X0(o,s);let c=e[s];a(2,c)}}}finally{Nr(-1)}}function Fc(n,e,t,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[on]=i,d[k]=r|4|128|8|64,(l!==null||n&&n[k]&2048)&&(d[k]|=2048),l_(d),d[Qe]=d[$i]=n,d[Ke]=t,d[rn]=o||n&&n[rn],d[Fe]=a||n&&n[Fe],d[Oi]=c||n&&n[Oi]||null,d[rt]=s,d[Ac]=OT(),d[Pi]=u,d[n_]=l,d[dt]=e.type==2?n[dt]:d,d}function qs(n,e,t,r,i){let s=n.data[e];if(s===null)s=fA(n,e,t,r,i),J0()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=Q0();s.injectorIndex=o===null?-1:o.injectorIndex}return Ws(s,!0),s}function fA(n,e,t,r,i){let s=m_(),o=g_(),a=o?s:s&&s.parent,c=n.data[e]=vA(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function fw(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hw(n,e,t,r,i){let s=xc(),o=r&2;try{Nr(-1),o&&e.length>ft&&uw(n,e,ft,!1),en(o?2:0,i),t(r,i)}finally{Nr(s),en(o?3:1,i)}}function pw(n,e,t){if(r_(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function mw(n,e,t){h_()&&(DA(n,e,t,Tt(t,e)),(t.flags&64)===64&&Ew(n,e,t))}function gw(n,e,t=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function yw(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xf(n,e,t,r,i,s,o,a,c,l,u){let d=ft+r,f=d+i,h=hA(d,f),p=typeof l=="function"?l():l;return h[V]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function hA(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Or);return t}function pA(n,e,t,r){let s=r.get(BT,K_)||t===nn.ShadowDom,o=n.selectRootElement(e,s);return mA(o),o}function mA(n){gA(n)}var gA=()=>null;function yA(n,e,t,r){let i=Dw(e);i.push(t),n.firstCreatePass&&Sw(n).push(r,i.length-1)}function vA(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return p_()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mv(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Gn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?gv(r,t,l,a,c):gv(r,t,l,a)}return r}function gv(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function _A(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],f=t?t.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=mv(0,d.inputs,u,c,h),l=mv(1,d.outputs,u,l,p);let m=c!==null&&o!==null&&!Cf(e)?kA(c,u,o):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function wA(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function vw(n,e,t,r,i,s,o,a){let c=Tt(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(eh(n,t,u,r,i),Nc(e)&&EA(t,e.index)):e.type&3?(r=wA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function EA(n,e){let t=Jn(e,n);t[k]&16||(t[k]|=64)}function _w(n,e,t,r){if(h_()){let i=r===null?null:{"":-1},s=bA(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ww(n,e,t,o,i,a),i&&TA(t,r,i)}t.mergedAttrs=If(t.mergedAttrs,t.attrs)}function ww(n,e,t,r,i,s){for(let l=0;l<r.length;l++)pT(M_(t,e),n,r[l].type);NA(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=fw(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=If(t.mergedAttrs,u.hostAttrs),MA(n,t,e,c,u),AA(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}_A(n,t,s)}function IA(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;CA(o)!=a&&o.push(a),o.push(t,r,s)}}function CA(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function DA(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Nc(t)&&RA(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||M_(t,e),Mr(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let c=n.data[a],l=Fi(e,n,a,t);if(Mr(l,e),o!==null&&OA(e,a-i,l,c,t,o),Hi(c)){let u=Jn(t.index,e);u[Ke]=Fi(e,n,a,t)}}}function Ew(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=eT();try{Nr(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Nd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&SA(c,l)}}finally{Nr(-1),Nd(o)}}function SA(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bA(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(Gv(e,o.selectors,!1))if(r||(r=[]),Hi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Bd(n,e,c)}else r.unshift(o),Bd(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Bd(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function TA(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new v(-301,!1);r.push(e[i],s)}}}function AA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hi(e)&&(t[""]=n)}}function NA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MA(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ri(i.type,!0)),o=new js(s,Hi(i),_e);n.blueprint[r]=o,t[r]=o,IA(n,e,r,fw(n,t,i.hostVars,Or),i)}function RA(n,e,t){let r=Tt(e,n),i=yw(t),s=n[rn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=jc(n,Fc(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function xA(n,e,t,r,i,s){let o=Tt(n,e);PA(e[Fe],o,s,n.value,t,r,i)}function PA(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Sc(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function OA(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];dw(r,t,c,l,u,d)}}function kA(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function Iw(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Cw(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Rf(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function jc(n,e){return n[Fs]?n[ev][$t]=e:n[Fs]=e,n[ev]=e,e}function $d(n,e,t){Rf(0);let r=J(null);try{e(n,t)}finally{J(r)}}function Dw(n){return n[oc]??=[]}function Sw(n){return n.cleanup??=[]}function LA(n,e,t){return(n===null||Hi(n))&&(t=U0(t[e.index])),t[Fe]}function bw(n,e){let t=n[Oi],r=t?t.get(Dn,null):null;r&&r.handleError(e)}function eh(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],l=e[o],u=n.data[o];dw(u,l,r,a,c,i)}}function FA(n,e,t){let r=V0(e,n);QT(n[Fe],r,t)}function jA(n,e){let t=Jn(e,n),r=t[V];UA(r,t);let i=t[on];i!==null&&t[Pi]===null&&(t[Pi]=qf(i,t[Oi])),th(r,t,t[Ke])}function UA(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function th(n,e,t){xf(e);try{let r=n.viewQuery;r!==null&&$d(1,r,t);let i=n.template;i!==null&&hw(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Cn]?.finishViewCreation(n),n.staticContentQueries&&Cw(n,e),n.staticViewQueries&&$d(2,n.viewQuery,t);let s=n.components;s!==null&&VA(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[k]&=-5,Pf()}}function VA(n,e){for(let t=0;t<e.length;t++)jA(n,e[t])}function Ks(n,e,t,r){let i=J(null);try{let s=e.tView,a=n[k]&4096?4096:16,c=Fc(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[br]=l;let u=n[Cn];return u!==null&&(c[Cn]=u.createEmbeddedView(s)),th(s,c,t),c}finally{J(i)}}function Tw(n,e){let t=Ye+e;if(t<n.length)return n[t]}function ji(n,e){return!e||e.firstChild===null||$_(n)}function Ys(n,e,t,r=!0){let i=e[V];if(eA(i,e,n,t),r){let o=Vd(t,n),a=e[Fe],c=iw(a,n[Tr]);c!==null&&JT(i,n[rt],a,e,c,o)}let s=e[Pi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Aw(n,e){let t=Us(n,e);return t!==void 0&&kc(t[V],t),t}function mc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(sn(s)),Tn(s)&&BA(s,r);let o=t.type;if(o&8)mc(n,e,t.child,r);else if(o&32){let a=Yf(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=ow(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ar(e[dt]);mc(c[V],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function BA(n,e){for(let t=Ye;t<n.length;t++){let r=n[t],i=r[V].firstChild;i!==null&&mc(r[V],r,i,e)}n[Tr]!==n[on]&&e.push(n[Tr])}var Nw=[];function $A(n){return n[Dt]??HA(n)}function HA(n){let e=Nw.pop()??Object.create(WA);return e.lView=n,e}function zA(n){n.lView[Dt]!==n&&(n.lView=null,Nw.push(n))}var WA=ve(b({},ku),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Rc(n.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function GA(n){let e=n[Dt]??Object.create(qA);return e.lView=n,e}var qA=ve(b({},ku),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ar(n.lView);for(;e&&!Mw(e[V]);)e=Ar(e);e&&u_(e)},consumerOnSignalRead(){this.lView[Dt]=this}});function Mw(n){return n.type!==2}var KA=100;function Rw(n,e=!0,t=0){let r=n[rn],i=r.rendererFactory,s=!1;s||i.begin?.();try{YA(n,t)}catch(o){throw e&&bw(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function YA(n,e){let t=v_();try{nv(!0),Hd(n,e);let r=0;for(;Mc(n);){if(r===KA)throw new v(103,!1);r++,Hd(n,1)}}finally{nv(t)}}function QA(n,e,t,r){let i=e[k];if((i&256)===256)return;let s=!1,o=!1;!s&&e[rn].inlineEffectRunner?.flush(),xf(e);let a=!0,c=null,l=null;s||(Mw(n)?(l=$A(e),c=Lu(l)):hy()===null?(a=!1,l=GA(e),c=Lu(l)):e[Dt]&&(ju(e[Dt]),e[Dt]=null));try{l_(e),Z0(n.bindingStartIndex),t!==null&&hw(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let h=n.preOrderCheckHooks;h!==null&&Za(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Ja(e,h,0,null),ud(e,0)}if(o||ZA(e),xw(e,0),n.contentQueries!==null&&Cw(n,e),!s)if(u){let h=n.contentCheckHooks;h!==null&&Za(e,h)}else{let h=n.contentHooks;h!==null&&Ja(e,h,1),ud(e,1)}dA(n,e);let d=n.components;d!==null&&Ow(e,d,0);let f=n.viewQuery;if(f!==null&&$d(2,f,r),!s)if(u){let h=n.viewCheckHooks;h!==null&&Za(e,h)}else{let h=n.viewHooks;h!==null&&Ja(e,h,2),ud(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ld]){for(let h of e[ld])h();e[ld]=null}s||(e[k]&=-73)}catch(u){throw s||Rc(e),u}finally{l!==null&&(py(l,c),a&&zA(l)),Pf()}}function xw(n,e){for(let t=z_(n);t!==null;t=W_(t))for(let r=Ye;r<t.length;r++){let i=t[r];Pw(i,e)}}function ZA(n){for(let e=z_(n);e!==null;e=W_(e)){if(!(e[k]&cc.HasTransplantedViews))continue;let t=e[ki];for(let r=0;r<t.length;r++){let i=t[r];u_(i)}}}function JA(n,e,t){let r=Jn(e,n);Pw(r,t)}function Pw(n,e){Nf(n)&&Hd(n,e)}function Hd(n,e){let r=n[V],i=n[k],s=n[Dt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Fu(s)),o||=!1,s&&(s.dirty=!1),n[k]&=-9217,o)QA(r,n,r.template,n[Ke]);else if(i&8192){xw(n,1);let a=r.components;a!==null&&Ow(n,a,1)}}function Ow(n,e,t){for(let r=0;r<e.length;r++)JA(n,e[r],t)}function nh(n,e){let t=v_()?64:1088;for(n[rn].changeDetectionScheduler?.notify(e);n;){n[k]|=t;let r=Ar(n);if(bd(n)&&!r)return n;n=r}return null}var Rr=class{get rootNodes(){let e=this._lView,t=e[V];return mc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(Tn(e)){let t=e[ac],r=t?t.indexOf(this):-1;r>-1&&(Us(e,r),ic(t,r))}this._attachedToViewContainer=!1}kc(this._lView[V],this._lView)}onDestroy(e){d_(this._lView,e)}markForCheck(){nh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Ad(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Rw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bd(this._lView),t=this._lView[br];t!==null&&!e&&Qf(t,this._lView),ew(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e;let t=bd(this._lView),r=this._lView[br];r!==null&&!t&&tw(r,this._lView),Ad(this._lView)}},xr=(()=>{class n{static{this.__NG_ELEMENT_ID__=tN}}return n})(),XA=xr,eN=class extends XA{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Ks(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Rr(i)}};function tN(){return rh(pt(),ne())}function rh(n,e){return n.type&4?new eN(e,n,Gi(n,e)):null}var Bz=new RegExp(`^(\\d+)*(${UT}|${jT})*(.*)`);var nN=()=>null;function Ui(n,e){return nN(n,e)}var Vi=class{},Uc=new L("",{providedIn:"root",factory:()=>!1});var kw=new L(""),Lw=new L(""),zd=class{},gc=class{};function rN(n){let e=Error(`No component factory found for ${nt(n)}.`);return e[iN]=n,e}var iN="ngComponent";var Wd=class{resolveComponentFactory(e){throw rN(e)}},Bi=class{static{this.NULL=new Wd}},qn=class{},qi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>sN()}}return n})();function sN(){let n=ne(),e=pt(),t=Jn(e.index,n);return(Wn(t)?t:n)[Fe]}var oN=(()=>{class n{static{this.\u0275prov=A({token:n,providedIn:"root",factory:()=>null})}}return n})();function Gd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=zy(i,a);else if(s==2){let c=a,l=e[++o];r=zy(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var yc=class extends Bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Sr(e);return new Vs(t,this.ngModule)}};function yv(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Gn.None;e?t.push({propName:o,templateName:r,isSignal:(a&Gn.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function aN(n){let e=n.toLowerCase();return e==="svg"?c_:e==="math"?j0:null}var Vs=class extends gc{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=yv(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return yv(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=y0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof St?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Md(e,o):e,c=a.get(qn,null);if(c===null)throw new v(407,!1);let l=a.get(oN,null),u=a.get(Vi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?pA(f,r,this.componentDef.encapsulation,a):X_(f,h,aN(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;p!==null&&(g=qf(p,a,!0));let I=Xf(0,null,null,1,0,null,null,null,null,null,null),N=Fc(null,I,null,m,null,null,d,f,a,null,g);xf(N);let E,C,W=null;try{let M=this.componentDef,x,P=null;M.findHostDirectiveDefs?(x=[],P=new Map,M.findHostDirectiveDefs(M,x,P),x.push(M)):x=[M];let ge=cN(N,p);W=lN(ge,p,M,x,N,d,f),C=Af(I,ft),p&&fN(f,M,p,r),t!==void 0&&hN(C,this.ngContentSelectors,t),E=dN(W,M,x,P,N,[pN]),th(I,N,null)}catch(M){throw W!==null&&jd(W),jd(N),M}finally{Pf()}return new qd(this.componentType,E,Gi(C,N),N,C)}finally{J(s)}}},qd=class extends zd{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Rr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;eh(s[V],s,i,e,t),this.previousInputValues.set(e,t);let o=Jn(this._tNode.index,s);nh(o,1)}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cN(n,e){let t=n[V],r=ft;return n[r]=e,qs(t,r,2,"#host",null)}function lN(n,e,t,r,i,s,o){let a=i[V];uN(r,n,e,o);let c=null;e!==null&&(c=qf(e,i[Oi]));let l=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Fc(i,yw(t),null,u,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&Bd(a,n,r.length-1),jc(i,d),i[n.index]=d}function uN(n,e,t,r){for(let i of n)e.mergedAttrs=If(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Gd(e,e.mergedAttrs,!0),t!==null&&lw(r,t,e))}function dN(n,e,t,r,i,s){let o=pt(),a=i[V],c=Tt(o,i);ww(a,i,o,t,null,r);for(let u=0;u<t.length;u++){let d=o.directiveStart+u,f=Fi(i,a,d,o);Mr(f,i)}Ew(a,i,o),c&&Mr(c,i);let l=Fi(i,a,o.directiveStart+o.componentOffset,o);if(n[Ke]=i[Ke]=l,s!==null)for(let u of s)u(l,e);return pw(a,o,i),l}function fN(n,e,t,r){if(r)Ed(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:s}=v0(e.selectors[0]);i&&Ed(n,t,i),s&&s.length>0&&cw(n,t,s.join(" "))}}function hN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function pN(){let n=pt();Ff(ne()[V],n)}var tr=(()=>{class n{static{this.__NG_ELEMENT_ID__=mN}}return n})();function mN(){let n=pt();return jw(n,ne())}var gN=tr,Fw=class extends gN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jf(this._hostTNode,this._hostLView);if(T_(e)){let t=uc(e,this._hostLView),r=lc(e),i=t[V].data[r+8];return new Dr(i,t)}else return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vv(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ye}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ui(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,ji(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!O0(e),a;if(o)a=t;else{let p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new Vs(Sr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let m=(o?l:this.parentInjector).get(St,null);m&&(s=m)}let u=Sr(c.componentType??{}),d=Ui(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,s);return this.insertImpl(h.hostView,a,ji(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if($0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qe],l=new Fw(c,c[rt],c[Qe]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Ys(o,i,s,r),e.attachToViewContainerRef(),Vv(md(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vv(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Us(this._lContainer,t);r&&(ic(md(this._lContainer),t),kc(r[V],r))}detach(e){let t=this._adjustIndex(e,-1),r=Us(this._lContainer,t);return r&&ic(md(this._lContainer),t)!=null?new Rr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vv(n){return n[ac]}function md(n){return n[ac]||(n[ac]=[])}function jw(n,e){let t,r=e[n.index];return Tn(r)?t=r:(t=Iw(r,e,null,n),e[n.index]=t,jc(e,t)),vN(t,e,n,r),new Fw(t,n,e)}function yN(n,e){let t=n[Fe],r=t.createComment(""),i=Tt(e,n),s=iw(t,i);return pc(t,s,r,iA(t,i),!1),r}var vN=EN,_N=()=>!1;function wN(n,e,t){return _N(n,e,t)}function EN(n,e,t,r){if(n[Tr])return;let i;t.type&8?i=sn(r):i=yN(e,t),n[Tr]=i}var Kd=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Yd=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ih(e,t).matches!==null&&this.queries[t].setDirty()}},Qd=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=NN(e):this.predicate=e}},Zd=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jd=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,IN(t,s)),this.matchTNodeWithReadOption(e,t,Xa(t,e,s,!1,!1))}else r===xr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xa(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===tr||i===xr&&t.type&4)this.addMatch(t.index,-2);else{let s=Xa(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function IN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function CN(n,e){return n.type&11?Gi(n,e):n.type&4?rh(n,e):null}function DN(n,e,t,r){return t===-1?CN(e,n):t===-2?SN(n,e,r):Fi(n,n[V],t,e)}function SN(n,e,t){if(t===At)return Gi(e,n);if(t===xr)return rh(e,n);if(t===tr)return jw(e,n)}function Uw(n,e,t,r){let i=e[Cn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(DN(e,u,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Xd(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=Uw(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=Ye;d<u.length;d++){let f=u[d];f[br]===f[Qe]&&Xd(f[V],f,l,r)}if(u[ki]!==null){let d=u[ki];for(let f=0;f<d.length;f++){let h=d[f];Xd(h[V],h,l,r)}}}}}return r}function bN(n,e){return n[Cn].queries[e].queryList}function TN(n,e,t){let r=new Fd((t&4)===4);return yA(n,e,r,r.destroy),(e[Cn]??=new Yd).queries.push(new Kd(r))-1}function AN(n,e,t){let r=ht();return r.firstCreatePass&&(MN(r,new Qd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),TN(r,ne(),e)}function NN(n){return n.split(",").map(e=>e.trim())}function MN(n,e,t){n.queries===null&&(n.queries=new Zd),n.queries.track(new Jd(e,t))}function ih(n,e){return n.queries.getByIndex(e)}function RN(n,e){let t=n[V],r=ih(t,e);return r.crossesNgTemplate?Xd(t,n,e,[]):Uw(t,n,r,e)}var _v=new Set;function kr(n){_v.has(n)||(_v.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function sh(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Kn=class{},Bs=class{};var ef=class extends Kn{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yc(this);let s=Qv(e);this._bootstrapComponents=J_(s.bootstrap),this._r3Injector=F_(e,t,[{provide:Kn,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver},...r],nt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tf=class extends Bs{constructor(e){super(),this.moduleType=e}create(e){return new ef(this.moduleType,e,[])}};var vc=class extends Kn{constructor(e){super(),this.componentFactoryResolver=new yc(this),this.instance=null;let t=new Ls([...e.providers,{provide:Kn,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver}],e.parent||Sf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function oh(n,e,t=null){return new vc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Vw(n){return ah(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function xN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ah(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ch(n,e,t){return n[e]=t}function PN(n,e){return n[e]}function Sn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ON(n,e,t,r){let i=Sn(n,e,t);return Sn(n,e+1,r)||i}function kN(n){return(n.flags&32)===32}function LN(n,e,t,r,i,s,o,a,c){let l=e.consts,u=qs(e,n,4,o||null,a||null);_w(e,t,u,Li(l,c)),Ff(e,u);let d=u.tView=Xf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function _c(n,e,t,r,i,s,o,a,c,l){let u=t+ft,d=e.firstCreatePass?LN(u,e,n,r,i,s,o,a,c):e.data[u];Ws(d,!1);let f=FN(e,n,d,t);kf()&&Zf(e,n,f,d),Mr(f,n);let h=Iw(f,n,f,d);return n[u]=h,jc(n,h),wN(h,d,n),Tf(d)&&mw(e,n,d),c!=null&&gw(n,d,l),d}function xe(n,e,t,r,i,s,o,a){let c=ne(),l=ht(),u=Li(l.consts,s);return _c(c,l,n,e,t,r,i,u,o,a),xe}var FN=jN;function jN(n,e,t,r){return Lf(!0),e[Fe].createComment("")}var xs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(xs||{}),UN=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}}return n})(),wv=class n{constructor(){this.ngZone=y(he),this.scheduler=y(Vi),this.errorHandler=y(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[xs.EarlyRead,xs.Write,xs.MixedReadWrite,xs.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=A({token:n,providedIn:"root",factory:()=>new n})}};function an(n,e,t,r){let i=ne(),s=zi();if(Sn(i,s,e)){let o=ht(),a=Of();xA(a,i,n,e,t,r)}return an}function VN(n,e,t,r){return Sn(n,zi(),t)?e+Sc(t)+r:Or}function ye(n,e,t){let r=ne(),i=zi();if(Sn(r,i,e)){let s=ht(),o=Of();vw(s,o,r,n,e,r[Fe],t,!1)}return ye}function Ev(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";eh(n,t,s[o],o,r)}var nf=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function gd(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function BN(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=n.at(s),u=e[s],d=gd(s,l,s,u,t);if(d!==0){d<0&&n.updateValue(s,u),s++;continue}let f=n.at(o),h=e[c],p=gd(o,f,c,h,t);if(p!==0){p<0&&n.updateValue(o,h),o--,c--;continue}let m=t(s,l),g=t(o,f),I=t(s,u);if(Object.is(I,g)){let N=t(c,h);Object.is(N,m)?(n.swap(s,o),n.updateValue(o,h),c--,o--):n.move(o,s),n.updateValue(s,u),s++;continue}if(r??=new wc,i??=Cv(n,s,o,t),rf(n,r,s,I))n.updateValue(s,u),s++,o++;else if(i.has(I))r.set(m,n.detach(s)),o--;else{let N=n.create(s,e[s]);n.attach(s,N),s++,o++}}for(;s<=c;)Iv(n,r,t,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let u=n.at(s),d=l.value,f=gd(s,u,s,d,t);if(f!==0)f<0&&n.updateValue(s,d),s++,l=c.next();else{r??=new wc,i??=Cv(n,s,o,t);let h=t(s,d);if(rf(n,r,s,h))n.updateValue(s,d),s++,o++,l=c.next();else if(!i.has(h))n.attach(s,n.create(s,d)),s++,o++,l=c.next();else{let p=t(s,u);r.set(p,n.detach(s)),o--}}}for(;!l.done;)Iv(n,r,t,n.length,l.value),l=c.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(c=>{n.destroy(c)})}function rf(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Iv(n,e,t,r,i){if(rf(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function Cv(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var wc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Se(n,e){kr("NgControlFlow");let t=ne(),r=zi(),i=t[r]!==Or?t[r]:-1,s=i!==-1?Ec(t,ft+i):void 0,o=0;if(Sn(t,r,n)){let a=J(null);try{if(s!==void 0&&Aw(s,o),n!==-1){let c=ft+n,l=Ec(t,c),u=cf(t[V],c),d=Ui(l,u.tView.ssrId),f=Ks(t,u,e,{dehydratedView:d});Ys(l,f,o,ji(u,d))}}finally{J(a)}}else if(s!==void 0){let a=Tw(s,o);a!==void 0&&(a[Ke]=e)}}var sf=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ye}};function Vc(n){return n}var of=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Qs(n,e,t,r,i,s,o,a,c,l,u,d,f){kr("NgControlFlow");let h=ne(),p=ht(),m=c!==void 0,g=ne(),I=a?o.bind(g[dt][Ke]):o,N=new of(m,I);g[ft+n]=N,_c(h,p,n+1,e,t,r,i,Li(p.consts,s)),m&&_c(h,p,n+2,c,l,u,d,Li(p.consts,f))}var af=class extends nf{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ye}at(e){return this.getLView(e)[Ke].$implicit}attach(e,t){let r=t[Pi];this.needsIndexUpdate||=e!==this.length,Ys(this.lContainer,t,e,ji(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$N(this.lContainer,e)}create(e,t){let r=Ui(this.lContainer,this.templateTNode.tView.ssrId),i=Ks(this.hostLView,this.templateTNode,new sf(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){kc(e[V],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ke].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ke].$index=e}getLView(e){return HN(this.lContainer,e)}};function Zs(n){let e=J(null),t=xc();try{let r=ne(),i=r[V],s=r[t],o=t+1,a=Ec(r,o);if(s.liveCollection===void 0){let l=cf(i,o);s.liveCollection=new af(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(BN(c,n,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=zi(),u=c.length===0;if(Sn(r,l,u)){let d=t+2,f=Ec(r,d);if(u){let h=cf(i,d),p=Ui(f,h.tView.ssrId),m=Ks(r,h,void 0,{dehydratedView:p});Ys(f,m,0,ji(h,p))}else Aw(f,0)}}}finally{J(e)}}function Ec(n,e){return n[e]}function $N(n,e){return Us(n,e)}function HN(n,e){return Tw(n,e)}function cf(n,e){return Af(n,e)}function zN(n,e,t,r,i,s){let o=e.consts,a=Li(o,i),c=qs(e,n,2,r,a);return _w(e,t,c,Li(o,s)),c.attrs!==null&&Gd(c,c.attrs,!1),c.mergedAttrs!==null&&Gd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function D(n,e,t,r){let i=ne(),s=ht(),o=ft+n,a=i[Fe],c=s.firstCreatePass?zN(o,s,i,e,t,r):s.data[o],l=WN(s,i,c,a,e,n);i[o]=l;let u=Tf(c);return Ws(c,!0),lw(a,l,c),!kN(c)&&kf()&&Zf(s,i,l,c),W0()===0&&Mr(l,i),G0(),u&&(mw(s,i,c),pw(s,c,i)),r!==null&&gw(i,c),D}function S(){let n=pt();g_()?y_():(n=n.parent,Ws(n,!1));let e=n;K0(e)&&Y0(),q0();let t=ht();return t.firstCreatePass&&(Ff(t,n),r_(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&cT(e)&&Ev(t,e,ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lT(e)&&Ev(t,e,ne(),e.stylesWithoutHost,!1),S}function Ie(n,e,t,r){return D(n,e,t,r),S(),Ie}var WN=(n,e,t,r,i,s)=>(Lf(!0),X_(r,i,iT()));function Je(){return ne()}function lh(n,e,t){let r=ne(),i=zi();if(Sn(r,i,e)){let s=ht(),o=Of(),a=tT(s.data),c=LA(a,o,r);vw(s,o,r,n,e,c,t,!0)}return lh}var Ic="en-US";var GN=Ic;function qN(n){typeof n=="string"&&(GN=n.toLowerCase().replace(/_/g,"-"))}var KN=(n,e,t)=>{};function ce(n,e,t,r){let i=ne(),s=ht(),o=pt();return QN(s,i,i[Fe],o,n,e,r),ce}function YN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[oc],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function QN(n,e,t,r,i,s,o){let a=Tf(r),l=n.firstCreatePass&&Sw(n),u=e[Ke],d=Dw(e),f=!0;if(r.type&3||o){let m=Tt(r,e),g=o?o(m):m,I=d.length,N=o?C=>o(sn(C[r.index])):r.index,E=null;if(!o&&a&&(E=YN(n,e,i,r.index)),E!==null){let C=E.__ngLastListenerFn__||E;C.__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,f=!1}else{s=Sv(r,e,u,s),KN(m,i,s);let C=t.listen(g,i,s);d.push(s,C),l&&l.push(i,N,I,I+1)}}else s=Sv(r,e,u,s);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let g=0;g<m;g+=2){let I=p[g],N=p[g+1],W=e[I][N].subscribe(s),M=d.length;d.push(s,W),l&&l.push(i,r.index,M,-(M+1))}}}function Dv(n,e,t,r){let i=J(null);try{return en(6,e,t),t(r)!==!1}catch(s){return bw(n,s),!1}finally{en(7,e,t),J(i)}}function Sv(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Jn(n.index,e):e;nh(o,5);let a=Dv(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=Dv(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function se(n=1){return rT(n)}function ZN(n,e){let t=null,r=f0(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?Gv(n,s,!0):m0(r,s))return i}return t}function Bw(n){let e=ne()[dt][rt];if(!e.projection){let t=n?n.length:1,r=e.projection=s0(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?ZN(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function $w(n,e=0,t,r,i,s){let o=ne(),a=ht(),c=r?n+1:null;c!==null&&_c(o,a,c,r,i,s,null,t);let l=qs(a,ft+n,16,null,t||null);l.projection===null&&(l.projection=e),y_();let d=!o[Pi]||p_();o[dt][rt].projection[l.projection]===null&&c!==null?JN(o,a,c):d&&(l.flags&32)!==32&&cA(a,o,l)}function JN(n,e,t){let r=ft+t,i=e.data[r],s=n[r],o=Ui(s,i.tView.ssrId),a=Ks(n,i,void 0,{dehydratedView:o});Ys(s,a,0,ji(i,o))}function Bc(n,e,t){AN(n,e,t)}function Js(n){let e=ne(),t=ht(),r=__();Rf(r+1);let i=ih(t,r);if(n.dirty&&B0(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=RN(e,r);n.reset(s,RT),n.notifyOnChanges()}return!0}return!1}function Xs(){return bN(ne(),__())}function G(n,e=""){let t=ne(),r=ht(),i=n+ft,s=r.firstCreatePass?qs(r,i,1,e,null):r.data[i],o=XN(r,t,s,e,n);t[i]=o,kf()&&Zf(r,t,o,s),Ws(s,!1)}var XN=(n,e,t,r,i)=>(Lf(!0),YT(e[Fe],r));function Nt(n){return Mt("",n,""),Nt}function Mt(n,e,t){let r=ne(),i=VN(r,n,e,t);return i!==Or&&FA(r,xc(),i),Mt}var eM=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Xv(!1,t.type),i=r.length>0?oh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:n,providedIn:"environment",factory:()=>new n(H(St))})}}return n})();function Te(n){kr("NgStandalone"),n.getStandaloneInjector=e=>e.get(eM).getOrCreateStandaloneInjector(n)}function eo(n,e,t){let r=Mf()+n,i=ne();return i[r]===Or?ch(i,r,t?e.call(t):e()):PN(i,r)}function Hw(n,e,t,r){return tM(ne(),Mf(),n,e,t,r)}function zw(n,e,t,r,i){return nM(ne(),Mf(),n,e,t,r,i)}function Ww(n,e){let t=n[e];return t===Or?void 0:t}function tM(n,e,t,r,i,s){let o=e+t;return Sn(n,o,i)?ch(n,o+1,s?r.call(s,i):r(i)):Ww(n,o+1)}function nM(n,e,t,r,i,s,o){let a=e+t;return ON(n,a,i,s)?ch(n,a+2,o?r.call(o,i,s):r(i,s)):Ww(n,a+2)}var Yn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Gw=new Yn("18.2.14");var $c=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var qw=new L("");function to(n){return!!n&&typeof n.then=="function"}function Kw(n){return!!n&&typeof n.subscribe=="function"}var Yw=new L(""),Qw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(Yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(to(s))t.push(s);else if(Kw(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uh=new L("");function rM(){my(()=>{throw new v(600,!1)})}function iM(n){return n.isBoundToModule}var sM=10;function oM(n,e,t){try{let r=t();return to(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Lr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(NT),this.afterRenderManager=y(UN),this.zonelessEnabled=y(Uc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=y(Wi).hasPendingTasks.pipe(X(t=>!t)),this._injector=y(St)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof gc;if(!this._injector.get(Qw).done){let f=!i&&Yv(t),h=!1;throw new v(405,h)}let o;i?o=t:o=this._injector.get(Bi).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=iM(o)?void 0:this._injector.get(Kn),c=r||o.selector,l=o.create(Ht.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(qw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ec(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new v(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,J(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(qn,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<sM;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)aM(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Mc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ec(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(uh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ec(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new v(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ec(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aM(n,e,t,r){if(!t&&!Mc(n))return;Rw(n,e,t&&!r?0:1)}var lf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},dh=(()=>{class n{compileModuleSync(t){return new tf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Qv(t),s=J_(i.declarations).reduce((o,a)=>{let c=Sr(a);return c&&o.push(new Vs(c)),o},[]);return new lf(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cM=(()=>{class n{constructor(){this.zone=y(he),this.changeDetectionScheduler=y(Vi),this.applicationRef=y(Lr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lM=new L("",{factory:()=>!1});function Zw({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(ve(b({},Xw()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:xi,multi:!0,useFactory:()=>{let r=y(cM,{optional:!0});return()=>r.initialize()}},{provide:xi,multi:!0,useFactory:()=>{let r=y(uM);return()=>{r.initialize()}}},e===!0?{provide:kw,useValue:!0}:[],{provide:Lw,useValue:t??j_}]}function Jw(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Zw({ngZoneFactory:()=>{let i=Xw(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&kr("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Zn([{provide:lM,useValue:!0},{provide:Uc,useValue:!1},r])}function Xw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var uM=(()=>{class n{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=y(he),this.pendingTasks=y(Wi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dM=(()=>{class n{constructor(){this.appRef=y(Lr),this.taskService=y(Wi),this.ngZone=y(he),this.zonelessEnabled=y(Uc),this.disableScheduling=y(kw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ee,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Lw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ld||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cv:V_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fM(){return typeof $localize<"u"&&$localize.locale||Ic}var fh=new L("",{providedIn:"root",factory:()=>y(fh,q.Optional|q.SkipSelf)||fM()});var uf=new L("");function Ya(n){return!n.moduleRef}function hM(n){let e=Ya(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{Ya(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Dn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Ya(n)){let s=()=>e.destroy(),o=n.platformInjector.get(uf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(uf);o.add(s),n.moduleRef.onDestroy(()=>{ec(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return oM(r,t,()=>{let s=e.get(Qw);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(fh,Ic);if(qN(o||Ic),Ya(n)){let a=e.get(Lr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return pM(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function pM(n,e){let t=n.injector.get(Lr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new v(-403,!1);e.push(n)}var tc=null,eE=new L("");function mM(n=[],e){return Ht.create({name:e,providers:[{provide:Tc,useValue:"platform"},{provide:uf,useValue:new Set([()=>tc=null])},...n]})}function gM(n=[]){if(tc)return tc;let e=mM(n);return e.get(eE,!1)||(tc=e),rM(),yM(e),e}function yM(n){n.get(zf,null)?.forEach(t=>t())}var Fr=(()=>{class n{static{this.__NG_ELEMENT_ID__=vM}}return n})();function vM(n){return _M(pt(),ne(),(n&16)===16)}function _M(n,e,t){if(Nc(n)&&!t){let r=Jn(n.index,e);return new Rr(r,r)}else if(n.type&175){let r=e[dt];return new Rr(r,e)}return null}var df=class{constructor(){}supports(e){return Vw(e)}create(e){return new ff(e)}},wM=(n,e)=>e,ff=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wM}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<bv(r,i,s)?t:r,a=bv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Vw(e))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,xN(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new hf(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hf=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},pf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Cc=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new pf,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bv(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var mf=class{constructor(){}supports(e){return e instanceof Map||ah(e)}create(){return new gf}},gf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ah(e)))throw new v(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new yf(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},yf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Tv(){return new hh([new df])}var hh=(()=>{class n{static{this.\u0275prov=A({token:n,providedIn:"root",factory:Tv})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Tv()),deps:[[n,new wf,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new v(901,!1)}}return n})();function Av(){return new ph([new mf])}var ph=(()=>{class n{static{this.\u0275prov=A({token:n,providedIn:"root",factory:Av})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Av()),deps:[[n,new wf,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new v(901,!1)}}return n})();function tE(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let s=i?.injector??gM(r);if(s.get(eE,!1)===!0&&!n.platformRef)throw new v(401,!1);let o=[Zw({}),{provide:Vi,useExisting:dM},...t||[]],a=new vc({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return hM({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}}function no(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var aE=null;function Ki(){return aE}function cE(n){aE??=n}var Hc=class{};var it=new L(""),lE=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(EM),providedIn:"platform"})}}return n})();var EM=(()=>{class n extends lE{constructor(){super(),this._doc=y(it),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(t){let r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function uE(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function nE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function jr(n){return n&&n[0]!=="?"?"?"+n:n}var Yi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(dE),providedIn:"root"})}}return n})(),IM=new L(""),dE=(()=>{class n extends Yi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uE(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(H(lE),H(IM,8))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ro=(()=>{class n{constructor(t){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SM(nE(rE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jr(r))}normalize(t){return n.stripTrailingSlash(DM(this._basePath,rE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=jr}static{this.joinWithSlash=uE}static{this.stripTrailingSlash=nE}static{this.\u0275fac=function(r){return new(r||n)(H(Yi))}}static{this.\u0275prov=A({token:n,factory:()=>CM(),providedIn:"root"})}}return n})();function CM(){return new ro(H(Yi))}function DM(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function rE(n){return n.replace(/\/index.html$/,"")}function SM(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function fE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var mh=/\s+/,iE=[],hE=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=iE,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(mh):iE}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(mh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(mh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(_e(At),_e(qi))}}static{this.\u0275dir=Qn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var gh=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pE=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gh(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),sE(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);sE(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(_e(tr),_e(xr),_e(hh))}}static{this.\u0275dir=Qn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function sE(n,e){n.context.$implicit=e.item}var mE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(_e(tr),_e(xr))}}static{this.\u0275dir=Qn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),yh=class{constructor(){this.$implicit=null,this.ngIf=null}};function oE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${nt(e)}'.`)}var gE=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:er.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(_e(At),_e(ph),_e(qi))}}static{this.\u0275dir=Qn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();var Ur=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=zs({type:n})}static{this.\u0275inj=Hs({})}}return n})(),yE="browser",bM="server";function vh(n){return n===bM}var zc=class{};var Ih=class extends Hc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ch=class n extends Ih{static makeCurrent(){cE(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=TM();return t==null?null:AM(t)}resetBaseElement(){io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fE(document.cookie,e)}},io=null;function TM(){return io=io||document.querySelector("base"),io?io.getAttribute("href"):null}function AM(n){return new URL(n,document.baseURI).pathname}var NM=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),Dh=new L(""),wE=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new v(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(H(Dh),H(he))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),Wc=class{constructor(e){this._doc=e}},wh="ng-app-id",EE=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vh(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${wh}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(wh),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(wh,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(H(it),H(Hf),H(Gf,8),H(Xn))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),Eh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bh=/%COMP%/g,IE="%COMP%",MM=`_nghost-${IE}`,RM=`_ngcontent-${IE}`,xM=!0,PM=new L("",{providedIn:"root",factory:()=>xM});function OM(n){return RM.replace(bh,n)}function kM(n){return MM.replace(bh,n)}function CE(n,e){return e.map(t=>t.replace(bh,n))}var Gc=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=vh(a),this.defaultRenderer=new so(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nn.ShadowDom&&(r=ve(b({},r),{encapsulation:nn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof qc?i.applyToHost(t):i instanceof oo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case nn.Emulated:s=new qc(c,l,r,this.appId,u,o,a,d);break;case nn.ShadowDom:return new Sh(c,l,t,r,o,a,this.nonce,d);default:s=new oo(c,l,r,u,o,a,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(H(wE),H(EE),H(Hf),H(PM),H(it),H(Xn),H(he),H(Gf))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),so=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Eh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new v(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Eh[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Eh[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(t,r,i&er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ki().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function vE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Sh=class extends so{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=CE(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oo=class extends so{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?CE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qc=class extends oo{constructor(e,t,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=OM(l),this.hostAttr=kM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},LM=(()=>{class n extends Wc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(H(it))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),_E=["alt","control","meta","shift"],FM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UM=(()=>{class n extends Wc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),_E.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=FM[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_E.forEach(o=>{if(o!==i){let a=jM[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(H(it))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})();function DE(n,e,t){return tE(b({rootComponent:n,platformRef:t?.platformRef},VM(e)))}function VM(n){return{appProviders:[...WM,...n?.providers??[]],platformProviders:zM}}function BM(){Ch.makeCurrent()}function $M(){return new Dn}function HM(){return q_(document),document}var zM=[{provide:Xn,useValue:yE},{provide:zf,useValue:BM,multi:!0},{provide:it,useFactory:HM,deps:[]}];var WM=[{provide:Tc,useValue:"root"},{provide:Dn,useFactory:$M,deps:[]},{provide:Dh,useClass:LM,multi:!0,deps:[it,he,Xn]},{provide:Dh,useClass:UM,multi:!0,deps:[it]},Gc,EE,wE,{provide:qn,useExisting:Gc},{provide:zc,useClass:NM,deps:[]},[]];var SE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(H(it))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var z="primary",Co=Symbol("RouteTitle"),Rh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ts(n){return new Rh(n)}function qM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cn(n[t],e[t]))return!1;return!0}function cn(n,e){let t=n?xh(n):void 0,r=e?xh(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!PE(n[i],e[i]))return!1;return!0}function xh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function OE(n){return n.length>0?n[n.length-1]:null}function rr(n){return td(n)?n:to(n)?Ne(Promise.resolve(n)):B(n)}var YM={exact:LE,subset:FE},kE={exact:QM,subset:ZM,ignored:()=>!0};function bE(n,e,t){return YM[t.paths](n.root,e.root,t.matrixParams)&&kE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function QM(n,e){return cn(n,e)}function LE(n,e,t){if(!Br(n.segments,e.segments)||!Qc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!LE(n.children[r],e.children[r],t))return!1;return!0}function ZM(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PE(n[t],e[t]))}function FE(n,e,t){return jE(n,e,e.segments,t)}function jE(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Br(i,t)||e.hasChildren()||!Qc(i,t,r))}else if(n.segments.length===t.length){if(!Br(n.segments,t)||!Qc(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!FE(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Br(n.segments,i)||!Qc(n.segments,i,r)||!n.children[z]?!1:jE(n.children[z],e,s,r)}}function Qc(n,e,t){return e.every((r,i)=>kE[t](n[i].parameters,r.parameters))}var Nn=class{constructor(e=new ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){return eR.serialize(this)}},ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zc(this)}},Vr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ts(this.parameters),this._parameterMap}toString(){return VE(this)}};function JM(n,e){return Br(n,e)&&n.every((t,r)=>cn(t.parameters,e[r].parameters))}function Br(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XM(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==z&&(t=t.concat(e(i,r)))}),t}var ip=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>new po,providedIn:"root"})}}return n})(),po=class{parse(e){let t=new Oh(e);return new Nn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ao(e.root,!0)}`,r=rR(e.queryParams),i=typeof e.fragment=="string"?`#${tR(e.fragment)}`:"";return`${t}${r}${i}`}},eR=new po;function Zc(n){return n.segments.map(e=>VE(e)).join("/")}function ao(n,e){if(!n.hasChildren())return Zc(n);if(e){let t=n.children[z]?ao(n.children[z],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${ao(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XM(n,(r,i)=>i===z?[ao(n.children[z],!1)]:[`${i}:${ao(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[z]!=null?`${Zc(n)}/${t[0]}`:`${Zc(n)}/(${t.join("//")})`}}function UE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(n){return UE(n).replace(/%3B/gi,";")}function tR(n){return encodeURI(n)}function Ph(n){return UE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(n){return decodeURIComponent(n)}function TE(n){return Jc(n.replace(/\+/g,"%20"))}function VE(n){return`${Ph(n.path)}${nR(n.parameters)}`}function nR(n){return Object.entries(n).map(([e,t])=>`;${Ph(e)}=${Ph(t)}`).join("")}function rR(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kc(t)}=${Kc(i)}`).join("&"):`${Kc(t)}=${Kc(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var iR=/^[^\/()?;#]+/;function Th(n){let e=n.match(iR);return e?e[0]:""}var sR=/^[^\/()?;=#]+/;function oR(n){let e=n.match(sR);return e?e[0]:""}var aR=/^[^=?&#]+/;function cR(n){let e=n.match(aR);return e?e[0]:""}var lR=/^[^&#]+/;function uR(n){let e=n.match(lR);return e?e[0]:""}var Oh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[z]=new ue(e,t)),r}parseSegment(){let e=Th(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(e),new Vr(Jc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=oR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Th(this.remaining);i&&(r=i,this.capture(r))}e[Jc(t)]=Jc(r)}parseQueryParam(e){let t=cR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=uR(this.remaining);o&&(r=o,this.capture(r))}let i=TE(t),s=TE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Th(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new v(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[z]:new ue([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new v(4011,!1)}};function BE(n){return n.segments.length>0?new ue([],{[z]:n}):n}function $E(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=$E(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ue(n.segments,e);return dR(t)}function dR(n){if(n.numberOfChildren===1&&n.children[z]){let e=n.children[z];return new ue(n.segments.concat(e.segments),e.children)}return n}function $r(n){return n instanceof Nn}function fR(n,e,t=null,r=null){let i=HE(n);return zE(i,e,t,r)}function HE(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new ue(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=BE(r);return e??i}function zE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ah(i,i,i,t,r);let s=hR(e);if(s.toRoot())return Ah(i,i,new ue([],{}),t,r);let o=pR(s,i,n),a=o.processChildren?uo(o.segmentGroup,o.index,s.commands):GE(o.segmentGroup,o.index,s.commands);return Ah(i,o.segmentGroup,a,t,r)}function Xc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mo(n){return typeof n=="object"&&n!=null&&n.outlets}function Ah(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===e?o=t:o=WE(n,e,t);let a=BE($E(o));return new Nn(a,s,i)}function WE(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=WE(s,e,t)}),new ue(n.segments,r)}var el=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xc(r[0]))throw new v(4003,!1);let i=r.find(mo);if(i&&i!==OE(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hR(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new el(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new el(t,e,r)}var Ji=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pR(n,e,t){if(n.isAbsolute)return new Ji(e,!0,0);if(!t)return new Ji(e,!1,NaN);if(t.parent===null)return new Ji(t,!0,0);let r=Xc(n.commands[0])?0:1,i=t.segments.length-1+r;return mR(t,i,n.numberOfDoubleDots)}function mR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new Ji(r,!1,i-s)}function gR(n){return mo(n[0])?n[0].outlets:{[z]:n}}function GE(n,e,t){if(n??=new ue([],{}),n.segments.length===0&&n.hasChildren())return uo(n,e,t);let r=yR(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ue(n.segments.slice(0,r.pathIndex),{});return s.children[z]=new ue(n.segments.slice(r.pathIndex),n.children),uo(s,0,i)}else return r.match&&i.length===0?new ue(n.segments,{}):r.match&&!n.hasChildren()?kh(n,e,t):r.match?uo(n,0,i):kh(n,e,t)}function uo(n,e,t){if(t.length===0)return new ue(n.segments,{});{let r=gR(t),i={};if(Object.keys(r).some(s=>s!==z)&&n.children[z]&&n.numberOfChildren===1&&n.children[z].segments.length===0){let s=uo(n.children[z],e,t);return new ue(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=GE(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ue(n.segments,i)}}function yR(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(mo(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!NE(c,l,o))return s;r+=2}else{if(!NE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kh(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(mo(s)){let c=vR(s.outlets);return new ue(r,c)}if(i===0&&Xc(t[0])){let c=n.segments[e];r.push(new Vr(c.path,AE(t[0]))),i++;continue}let o=mo(s)?s.outlets[z]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Xc(a)?(r.push(new Vr(o,AE(a))),i+=2):(r.push(new Vr(o,{})),i++)}return new ue(r,{})}function vR(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=kh(new ue([],{}),0,r))}),e}function AE(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function NE(n,e,t){return n==t.path&&cn(e,t.parameters)}var fo="imperative",ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ze||{}),Rt=class{constructor(e,t){this.id=e,this.url=t}},go=class extends Rt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends Rt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(gt||{}),Lh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Lh||{}),An=class extends Rt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hr=class extends Rt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},yo=class extends Rt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends Rt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uh=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends Rt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bh=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$h=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hh=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zh=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wh=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gh=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vo=class{},ns=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _R(n,e){return n.providers&&!n._injector&&(n._injector=oh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zt(n){return n.outlet||z}function wR(n,e){let t=n.filter(r=>zt(r)===e);return t.push(...n.filter(r=>zt(r)!==e)),t}function Do(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qh=class{get injector(){return Do(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cl(this.rootInjector),this.attachRef=null}},cl=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(H(St))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Kh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Kh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Yh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yh(e,this._root).map(t=>t.value)}};function Kh(n,e){if(n===e.value)return e;for(let t of e.children){let r=Kh(n,t);if(r)return r}return null}function Yh(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Yh(n,t);if(r.length)return r.unshift(e),r}return[]}var mt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zi(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var rl=class extends nl{constructor(e,t){super(e),this.snapshot=t,sp(this,e)}toString(){return this.snapshot.toString()}};function qE(n){let e=ER(n),t=new He([new Vr("",{})]),r=new He({}),i=new He({}),s=new He({}),o=new He(""),a=new Wt(t,r,s,o,i,z,n,e.root);return a.snapshot=e.root,new rl(new mt(a,[]),e)}function ER(n){let e={},t={},r={},i="",s=new Xi([],e,r,i,t,z,n,null,{});return new sl("",new mt(s,[]))}var Wt=class{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[Co]))??B(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function il(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),n.params),data:b(b({},e.data),n.data),resolve:b(b(b(b({},n.data),e.data),i?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},i&&YE(i)&&(r.resolve[Co]=i.title),r}var Xi=class{get title(){return this.data?.[Co]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},sl=class extends nl{constructor(e,t){super(t),this.url=e,sp(this,t)}toString(){return KE(this._root)}};function sp(n,e){e.value._routerState=n,e.children.forEach(t=>sp(n,t))}function KE(n){let e=n.children.length>0?` { ${n.children.map(KE).join(", ")} } `:"";return`${n.value}${e}`}function Nh(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cn(e.params,t.params)||n.paramsSubject.next(t.params),KM(e.url,t.url)||n.urlSubject.next(t.url),cn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qh(n,e){let t=cn(n.params,e.params)&&JM(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Qh(n.parent,e.parent))}function YE(n){return typeof n.title=="string"||n.title===null}var op=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=y(cl),this.location=y(tr),this.changeDetector=y(Fr),this.inputBinder=y(ap,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Zh(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Qn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pr]})}}return n})(),Zh=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wt?this.route:e===cl?this.childContexts:this.parent.get(e,t)}},ap=new L("");function IR(n,e,t){let r=_o(n,e._root,t?t._root:void 0);return new rl(r,e)}function _o(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=CR(n,e,t);return new mt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_o(n,a)),o}}let r=DR(e.value),i=e.children.map(s=>_o(n,s));return new mt(r,i)}}function CR(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _o(n,r,i);return _o(n,r)})}function DR(n){return new Wt(new He(n.url),new He(n.params),new He(n.queryParams),new He(n.fragment),new He(n.data),n.outlet,n.component,n)}var wo=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},QE="ngNavigationCancelingError";function ol(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=$r(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZE(!1,gt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[QE]=!0,t.cancellationCode=e,t}function SR(n){return JE(n)&&$r(n.url)}function JE(n){return!!n&&n[QE]}var bR=(n,e,t,r)=>X(i=>(new Jh(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Jh=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Zi(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Zi(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Nh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nh(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},al=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},es=class{constructor(e,t){this.component=e,this.route=t}};function TR(n,e,t){let r=n._root,i=e?e._root:null;return co(r,i,t,[r.value])}function AR(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function is(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Pv(n)?n:e.get(n):r}function co(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Zi(e);return n.children.forEach(o=>{NR(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ho(a,t.getContext(o),i)),i}function NR(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=MR(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new al(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?co(n,e,a?a.children:null,r,i):co(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new es(a.outlet.component,o))}else o&&ho(e,a,i),i.canActivateChecks.push(new al(r)),s.component?co(n,null,a?a.children:null,r,i):co(n,null,t,r,i);return i}function MR(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Br(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Br(n.url,e.url)||!cn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qh(n,e)||!cn(n.queryParams,e.queryParams);case"paramsChange":default:return!Qh(n,e)}}function ho(n,e,t){let r=Zi(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ho(o,e.children.getContext(s),t):ho(o,null,t):ho(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new es(e.outlet.component,i)):t.canDeactivateChecks.push(new es(null,i)):t.canDeactivateChecks.push(new es(null,i))}function So(n){return typeof n=="function"}function RR(n){return typeof n=="boolean"}function xR(n){return n&&So(n.canLoad)}function PR(n){return n&&So(n.canActivate)}function OR(n){return n&&So(n.canActivateChild)}function kR(n){return n&&So(n.canDeactivate)}function LR(n){return n&&So(n.canMatch)}function XE(n){return n instanceof En||n?.name==="EmptyError"}var Yc=Symbol("INITIAL_VALUE");function rs(){return Vt(n=>za(n.map(e=>e.pipe(In(1),od(Yc)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===Yc)return Yc;if(t===!1||FR(t))return t}return!0}),Ut(e=>e!==Yc),In(1)))}function FR(n){return $r(n)||n instanceof wo}function jR(n,e){return Me(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?B(ve(b({},t),{guardsResult:!0})):UR(o,r,i,n).pipe(Me(a=>a&&RR(a)?VR(r,s,n,e):B(a)),X(a=>ve(b({},t),{guardsResult:a})))})}function UR(n,e,t,r){return Ne(n).pipe(Me(i=>WR(i.component,i.route,t,e,r)),Jt(i=>i!==!0,!0))}function VR(n,e,t,r){return Ne(e).pipe(Di(i=>Ci($R(i.route.parent,r),BR(i.route,r),zR(n,i.path,t),HR(n,i.route,t))),Jt(i=>i!==!0,!0))}function BR(n,e){return n!==null&&e&&e(new Wh(n)),B(!0)}function $R(n,e){return n!==null&&e&&e(new Hh(n)),B(!0)}function HR(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(s=>Wa(()=>{let o=Do(e)??t,a=is(s,o),c=PR(a)?a.canActivate(e,n):bn(o,()=>a(e,n));return rr(c).pipe(Jt())}));return B(i).pipe(rs())}function zR(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>AR(o)).filter(o=>o!==null).map(o=>Wa(()=>{let a=o.guards.map(c=>{let l=Do(o.node)??t,u=is(c,l),d=OR(u)?u.canActivateChild(r,n):bn(l,()=>u(r,n));return rr(d).pipe(Jt())});return B(a).pipe(rs())}));return B(s).pipe(rs())}function WR(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return B(!0);let o=s.map(a=>{let c=Do(e)??i,l=is(a,c),u=kR(l)?l.canDeactivate(n,e,t,r):bn(c,()=>l(n,e,t,r));return rr(u).pipe(Jt())});return B(o).pipe(rs())}function GR(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return B(!0);let s=i.map(o=>{let a=is(o,n),c=xR(a)?a.canLoad(e,t):bn(n,()=>a(e,t));return rr(c)});return B(s).pipe(rs(),eI(r))}function eI(n){return qu(Re(e=>{if(typeof e!="boolean")throw ol(n,e)}),X(e=>e===!0))}function qR(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return B(!0);let s=i.map(o=>{let a=is(o,n),c=LR(a)?a.canMatch(e,t):bn(n,()=>a(e,t));return rr(c)});return B(s).pipe(rs(),eI(r))}var Eo=class{constructor(e){this.segmentGroup=e||null}},Io=class extends Error{constructor(e){super(),this.urlTree=e}};function Qi(n){return Ii(new Eo(n))}function KR(n){return Ii(new v(4e3,!1))}function YR(n){return Ii(ZE(!1,gt.GuardRejected))}var Xh=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[z])return KR(`${e.redirectTo}`);i=i.children[z]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:m}=i,g=bn(s,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:m}));if(g instanceof Nn)throw new Io(g);t=g}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Io(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Nn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ue(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QR(n,e,t,r,i){let s=tI(n,e,t);return s.matched?(r=_R(e,r),qR(r,e,t,i).pipe(X(o=>o===!0?s:b({},ep)))):B(s)}function tI(n,e,t){if(e.path==="**")return ZR(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?b({},ep):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qM)(t,n,e);if(!i)return b({},ep);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ZR(n){return{matched:!0,parameters:n.length>0?OE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ME(n,e,t,r){return t.length>0&&ex(n,t,r)?{segmentGroup:new ue(e,XR(r,new ue(t,n.children))),slicedSegments:[]}:t.length===0&&tx(n,t,r)?{segmentGroup:new ue(n.segments,JR(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ue(n.segments,n.children),slicedSegments:t}}function JR(n,e,t,r){let i={};for(let s of t)if(ll(n,e,s)&&!r[zt(s)]){let o=new ue([],{});i[zt(s)]=o}return b(b({},r),i)}function XR(n,e){let t={};t[z]=e;for(let r of n)if(r.path===""&&zt(r)!==z){let i=new ue([],{});t[zt(r)]=i}return t}function ex(n,e,t){return t.some(r=>ll(n,e,r)&&zt(r)!==z)}function tx(n,e,t){return t.some(r=>ll(n,e,r))}function ll(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nx(n,e,t){return e.length===0&&!n.children[t]}var tp=class{};function rx(n,e,t,r,i,s,o="emptyOnly"){return new np(n,e,t,r,i,o,s).recognize()}var ix=31,np=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Xh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new v(4002,`'${e.segmentGroup}'`)}recognize(){let e=ME(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new mt(r,t),s=new sl("",i),o=fR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Xi([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,z,t).pipe(X(r=>({children:r,rootSnapshot:t})),Bn(r=>{if(r instanceof Io)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Eo?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(X(o=>o instanceof mt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ne(s).pipe(Di(o=>{let a=r.children[o],c=wR(t,o);return this.processSegmentGroup(e,c,a,o,i)}),sd((o,a)=>(o.push(...a),o)),$n(null),id(),Me(o=>{if(o===null)return Qi(r);let a=nI(o);return sx(a),B(a)}))}processSegment(e,t,r,i,s,o,a){return Ne(t).pipe(Di(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Bn(l=>{if(l instanceof Eo)return B(null);throw l}))),Jt(c=>!!c),Bn(c=>{if(XE(c))return nx(r,i,s)?B(new tp):Qi(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return zt(r)!==o&&(o===z||!ll(i,s,r))?Qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):Qi(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=tI(t,i,s);if(!c)return Qi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ix&&(this.allowRedirects=!1));let h=new Xi(s,l,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,RE(i),zt(i),i.component??i._loadedComponent??null,i,xE(i)),p=il(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(Me(g=>this.processSegment(e,r,t,g.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=QR(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Vt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new Xi(f,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,RE(r),zt(r),r.component??r._loadedComponent??null,r,xE(r)),m=il(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:I}=ME(t,f,h,l);if(I.length===0&&g.hasChildren())return this.processChildren(u,l,g,p).pipe(X(E=>new mt(p,E)));if(l.length===0&&I.length===0)return B(new mt(p,[]));let N=zt(r)===s;return this.processSegment(u,l,g,I,N?z:s,!0,p).pipe(X(E=>new mt(p,E instanceof mt?[E]:[])))}))):Qi(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):GR(e,t,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,t).pipe(Re(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):YR(t))):B({routes:[],injector:e})}};function sx(n){n.sort((e,t)=>e.value.outlet===z?-1:t.value.outlet===z?1:e.value.outlet.localeCompare(t.value.outlet))}function ox(n){let e=n.value.routeConfig;return e&&e.path===""}function nI(n){let e=[],t=new Set;for(let r of n){if(!ox(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nI(r.children);e.push(new mt(r.value,i))}return e.filter(r=>!t.has(r))}function RE(n){return n.data||{}}function xE(n){return n.resolve||{}}function ax(n,e,t,r,i,s){return Me(o=>rx(n,e,t,r,o.extractedUrl,i,s).pipe(X(({state:a,tree:c})=>ve(b({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function cx(n,e){return Me(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return B(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of rI(c))o.add(l);let a=0;return Ne(o).pipe(Di(c=>s.has(c)?lx(c,r,n,e):(c.data=il(c,c.parent,n).resolve,B(void 0))),Re(()=>a++),Si(1),Me(c=>a===o.size?B(t):ut))})}function rI(n){let e=n.children.map(t=>rI(t)).flat();return[n,...e]}function lx(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!YE(i)&&(s[Co]=i.title),ux(s,n,e,r).pipe(X(o=>(n._resolvedData=o,n.data=il(n,n.parent,t).resolve,null)))}function ux(n,e,t,r){let i=xh(n);if(i.length===0)return B({});let s={};return Ne(i).pipe(Me(o=>dx(n[o],e,t,r).pipe(Jt(),Re(a=>{if(a instanceof wo)throw ol(new po,a);s[o]=a}))),Si(1),rd(s),Bn(o=>XE(o)?ut:Ii(o)))}function dx(n,e,t,r){let i=Do(e)??r,s=is(n,i),o=s.resolve?s.resolve(e,t):bn(i,()=>s(e,t));return rr(o)}function Mh(n){return Vt(e=>{let t=n(e);return t?Ne(t).pipe(X(()=>e)):B(e)})}var iI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[Co]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(fx),providedIn:"root"})}}return n})(),fx=(()=>{class n extends iI{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(H(SE))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cp=new L("",{providedIn:"root",factory:()=>({})}),hx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=be({type:n,selectors:[["ng-component"]],standalone:!0,features:[Te],decls:1,vars:0,template:function(r,i){r&1&&Ie(0,"router-outlet")},dependencies:[op],encapsulation:2})}}return n})();function lp(n){let e=n.children&&n.children.map(lp),t=e?ve(b({},n),{children:e}):b({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=hx),t}var up=new L(""),px=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(dh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return B(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=rr(t.loadComponent()).pipe(X(sI),Re(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ms(()=>{this.componentLoaders.delete(t)})),i=new vi(r,()=>new qe).pipe(yi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=mx(r,this.compiler,t,this.onLoadEndListener).pipe(Ms(()=>{this.childrenLoaders.delete(r)})),o=new vi(s,()=>new qe).pipe(yi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mx(n,e,t,r){return rr(n.loadChildren()).pipe(X(sI),Me(i=>i instanceof Bs||Array.isArray(i)?B(i):Ne(e.compileModuleAsync(i))),X(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(up,[],{optional:!0,self:!0}).flat()),{routes:o.map(lp),injector:s}}))}function gx(n){return n&&typeof n=="object"&&"default"in n}function sI(n){return gx(n)?n.default:n}var dp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(yx),providedIn:"root"})}}return n})(),yx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vx=new L("");var _x=new L(""),wx=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=y(px),this.environmentInjector=y(St),this.urlSerializer=y(ip),this.rootContexts=y(cl),this.location=y(ro),this.inputBindingEnabled=y(ap,{optional:!0})!==null,this.titleStrategy=y(iI),this.options=y(cp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(dp),this.createViewTransition=y(vx,{optional:!0}),this.navigationErrorHandler=y(_x,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Bh(i)),r=i=>this.events.next(new $h(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(b(b({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new He({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(s=>s.id!==0),X(s=>ve(b({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Vt(s=>{let o=!1,a=!1;return B(s).pipe(Vt(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",gt.SupersededByNewNavigation),ut;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ve(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Lh.IgnoredSameUrlNavigation)),c.resolve(!1),ut}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return B(c).pipe(Vt(d=>{let f=this.transitions?.getValue();return this.events.next(new go(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?ut:Promise.resolve(d)}),ax(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=ve(b({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new tl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=c,g=new go(d,this.urlSerializer.serialize(f),h,p);this.events.next(g);let I=qE(this.rootComponentType).snapshot;return this.currentTransition=s=ve(b({},c),{targetSnapshot:I,urlAfterRedirects:f,extras:ve(b({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,B(s)}else{let d="";return this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Lh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ut}}),Re(c=>{let l=new Fh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),X(c=>(this.currentTransition=s=ve(b({},c),{guards:TR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),jR(this.environmentInjector,c=>this.events.next(c)),Re(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ol(this.urlSerializer,c.guardsResult);let l=new jh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",gt.GuardRejected),!1)),Mh(c=>{if(c.guards.canActivateChecks.length)return B(c).pipe(Re(l=>{let u=new Uh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Vt(l=>{let u=!1;return B(l).pipe(cx(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",gt.NoDataFromResolver)}}))}),Re(l=>{let u=new Vh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Mh(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Re(f=>{u.component=f}),X(()=>{})));for(let f of u.children)d.push(...l(f));return d};return za(l(c.targetSnapshot.root)).pipe($n(null),In(1))}),Mh(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Ne(u).pipe(X(()=>s)):B(s)}),X(c=>{let l=IR(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ve(b({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Re(()=>{this.events.next(new vo)}),bR(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),In(1),Re({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),ad(this.transitionAbortSubject.pipe(Re(c=>{throw c}))),Ms(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",gt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(c=>{if(a=!0,JE(c))this.events.next(new An(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),SR(c)?this.events.next(new ns(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new yo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=bn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof wo){let{message:d,cancellationCode:f}=ol(this.urlSerializer,u);this.events.next(new An(s.id,this.urlSerializer.serialize(s.extractedUrl),d,f)),this.events.next(new ns(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);s.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return ut}))}))}cancelNavigationTransition(t,r,i){let s=new An(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ex(n){return n!==fo}var Ix=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(Cx),providedIn:"root"})}}return n})(),rp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Cx=(()=>{class n extends rp{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Uf(n)))(i||n)}})()}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:()=>y(Dx),providedIn:"root"})}}return n})(),Dx=(()=>{class n extends oI{constructor(){super(...arguments),this.location=y(ro),this.urlSerializer=y(ip),this.options=y(cp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(dp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof go)this.stateMemento=this.createStateMemento();else if(t instanceof Hr)this.rawUrlTree=r.initialUrl;else if(t instanceof tl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof vo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof An&&(t.code===gt.GuardRejected||t.code===gt.NoDataFromResolver)?this.restoreHistory(r):t instanceof yo?this.restoreHistory(r,!0):t instanceof nr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Nn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=b(b({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=b(b({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Uf(n)))(i||n)}})()}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(lo||{});function Sx(n,e){n.events.pipe(Ut(t=>t instanceof nr||t instanceof An||t instanceof yo||t instanceof Hr),X(t=>t instanceof nr||t instanceof Hr?lo.COMPLETE:(t instanceof An?t.code===gt.Redirect||t.code===gt.SupersededByNewNavigation:!1)?lo.REDIRECTING:lo.FAILED),Ut(t=>t!==lo.REDIRECTING),In(1)).subscribe(()=>{e()})}function bx(n){throw n}var Tx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ax={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y($c),this.stateManager=y(oI),this.options=y(cp,{optional:!0})||{},this.pendingTasks=y(Wi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(wx),this.urlSerializer=y(ip),this.location=y(ro),this.urlHandlingStrategy=y(dp),this._events=new qe,this.errorHandler=this.options.errorHandler||bx,this.navigated=!1,this.routeReuseStrategy=y(Ix),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(up,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(ap,{optional:!0}),this.eventsSubscription=new Ee,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof An&&r.code!==gt.Redirect&&r.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nr)this.navigated=!0;else if(r instanceof ns){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ex(i.source)},o);this.scheduleNavigation(a,fo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Mx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=b({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=b(b({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=HE(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return zE(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=$r(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,fo,null,r)}navigate(t,r={skipLocationChange:!1}){return Nx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=b({},Tx):r===!1?i=b({},Ax):i=r,$r(t))return bE(this.currentUrlTree,t,i);let s=this.parseUrl(t);return bE(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Sx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nx(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new v(4008,!1)}function Mx(n){return!(n instanceof vo)&&!(n instanceof ns)}var ul=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($r(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Q_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:$r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(_e(Mn),_e(Wt),Vf("tabindex"),_e(qi),_e(At),_e(Yi))}}static{this.\u0275dir=Qn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ce("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&an("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",no],skipLocationChange:[2,"skipLocationChange","skipLocationChange",no],replaceUrl:[2,"replaceUrl","replaceUrl",no],routerLink:"routerLink"},standalone:!0,features:[sh,Pr]})}}return n})();var Rx=new L("");function aI(n,...e){return Zn([{provide:up,multi:!0,useValue:n},[],{provide:Wt,useFactory:xx,deps:[Mn]},{provide:uh,multi:!0,useFactory:Px},e.map(t=>t.\u0275providers)])}function xx(n){return n.routerState.root}function Px(){let n=y(Ht);return e=>{let t=n.get(Lr);if(e!==t.components[0])return;let r=n.get(Mn),i=n.get(Ox);n.get(kx)===1&&r.initialNavigation(),n.get(Lx,null,q.Optional)?.setUpPreloading(),n.get(Rx,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ox=new L("",{factory:()=>new qe}),kx=new L("",{providedIn:"root",factory:()=>1});var Lx=new L("");var ln=function(n){return n.Oval="oval",n.Diamond="diamond",n.Squigle="squiggle",n}(ln||{}),ir=function(n){return n.Red="red",n.Green="green",n.Blue="blue",n}(ir||{}),xt=function(n){return n.Solid="solid",n.Striped="striped",n.Open="open",n}(xt||{});var Pt=class{Cards=[];constructor(){this.newCards()}newCards(){var e=[ln.Diamond,ln.Oval,ln.Squigle],t=[ir.Red,ir.Green,ir.Blue],r=[xt.Open,xt.Solid,xt.Striped],i=this.Cards,s=1;for(let o=1;o<=3;o++)e.forEach(a=>{t.forEach(c=>{r.forEach(l=>{var u={Color:c,Fill:l,Count:o,Shape:a,Id:s,Selected:!1,Blink:!1,Shake:!1};i.push(u),s++})})})}findMissingSetCard(e,t){let r=e.Color===t.Color,i=e.Count===t.Count,s=e.Fill===t.Fill,o=e.Shape===t.Shape,a=r?e.Color:this.missingColor(e.Color,t.Color),c=i?e.Count:this.missingCount(e.Count,t.Count),l=s?e.Fill:this.missingFill(e.Fill,t.Fill),u=o?e.Shape:this.missingShape(e.Shape,t.Shape);return this.Cards.find(d=>d.Color===a&&d.Count===c&&d.Fill===l&&d.Shape===u)}missingColor(e,t){let r=[ir.Red,ir.Green,ir.Blue];return this.removeFrom(r,e),this.removeFrom(r,t),r[0]}missingCount(e,t){let r=[1,2,3];return this.removeFrom(r,e),this.removeFrom(r,t),r[0]}missingShape(e,t){let r=[ln.Diamond,ln.Oval,ln.Squigle];return this.removeFrom(r,e),this.removeFrom(r,t),r[0]}missingFill(e,t){let r=[xt.Open,xt.Solid,xt.Striped];return this.removeFrom(r,e),this.removeFrom(r,t),r[0]}removeFrom(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}static isSet(e,t,r){return!(!this.allAreSameOrAllDiffer(e.Color,t.Color,r.Color)||!this.allAreSameOrAllDiffer(e.Count,t.Count,r.Count)||!this.allAreSameOrAllDiffer(e.Shape,t.Shape,r.Shape)||!this.allAreSameOrAllDiffer(e.Fill,t.Fill,r.Fill))}static allAreSameOrAllDiffer(e,t,r){return e===t&&t===r&&e===r||e!==t&&t!==r&&e!==r}};var jx=["*"];function Ux(n,e){if(n&1){let t=Je();D(0,"div")(1,"button",3),ce("click",function(){je(t);let i=se(2);return Ue(i.onAgain())}),G(2,"Play Again"),S()()}}function Vx(n,e){if(n&1&&(D(0,"div",1)(1,"div",2),G(2),$w(3),xe(4,Ux,3,0,"div"),S()()),n&2){let t=se();F(2),Mt(" ",t.Message," "),F(2),Se(t.PlayAgain.observed?4:-1)}}var ss=(()=>{class n{PlayAgain=new ae;Message="";Visible=!1;onAgain(){this.PlayAgain.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-dialog"]],inputs:{Message:"Message",Visible:"Visible"},outputs:{PlayAgain:"PlayAgain"},standalone:!0,features:[Te],ngContentSelectors:jx,decls:1,vars:1,consts:[["class","dialog-backdrop",4,"ngIf"],[1,"dialog-backdrop"],[1,"dialog"],[1,"poker-btn","again-btn",3,"click"]],template:function(r,i){r&1&&(Bw(),xe(0,Vx,5,2,"div",0)),r&2&&ye("ngIf",i.Visible)},dependencies:[Ur,mE],styles:[".dialog-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:999}.dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background:linear-gradient(160deg,#145c32,#0f3d22);border:2px solid #e6c85c;border-radius:18px;padding:1.5em 2em;max-width:420px;width:90%;color:#f5f5f5;text-align:center;box-shadow:0 8px 28px #000000b3,inset 0 2px 10px #ffffff0d,0 0 18px #ffd70040}.again-btn[_ngcontent-%COMP%]{margin-top:1em}"]})}return n})();var We=class{static getToday(){var e=new Date().toISOString();return e.split("T")[0]}static formatTime(e){let t=Math.floor(e/60),r=e%60;return`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}};var bo=db(DI());var un=(()=>{class n{rng=(0,bo.default)(We.getToday());constructor(){this.rng=(0,bo.default)(We.getToday())}setTodaySeed(){this.rng=(0,bo.default)(We.getToday())}setSeed(t){this.rng=(0,bo.default)(t)}getRandom(){return this.rng()}getRandomInt(t,r){return Math.floor(this.rng()*(r-t+1))+t}shuffelArray(t){let r=t.slice();for(let i=r.length-1;i>0;i--){let s=this.getRandomInt(0,i);[r[i],r[s]]=[r[s],r[i]]}return r}static generateRandomId(){return Math.floor(Math.random()*1e3).toString()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var j=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(j||{}),dn="*";function Ao(n,e){return{type:j.Trigger,name:n,definitions:e,options:{}}}function Wr(n,e=null){return{type:j.Animate,styles:e,timings:n}}function SI(n,e=null){return{type:j.Sequence,steps:n,options:e}}function Xe(n){return{type:j.Style,styles:n,offset:null}}function vp(n,e,t){return{type:j.State,name:n,styles:e,options:t}}function bI(n){return{type:j.Keyframes,steps:n}}function No(n,e,t=null){return{type:j.Transition,expr:n,animation:e,options:t}}function TI(n,e,t=null){return{type:j.Query,selector:n,animation:e,options:t}}function AI(n,e){return{type:j.Stagger,timings:n,animation:e}}var sr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},To=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},fl="!";var Kx=(n,e)=>({card:!0,selected:n,blink:e}),Yx=()=>[],Qx=n=>({color:n});function Zx(n,e){if(n&1&&(Gs(),D(0,"g",7),Ie(1,"path",10),S()),n&2){let t=se(2);F(),an("fill",t.getFilling())("stroke",t.CardInfo.Color)}}function Jx(n,e){if(n&1&&(Gs(),Ie(0,"polygon",8)),n&2){let t=se(2);an("fill",t.getFilling())("stroke",t.CardInfo.Color)}}function Xx(n,e){if(n&1&&(Gs(),Ie(0,"rect",9)),n&2){let t=se(2);an("fill",t.getFilling())("stroke",t.CardInfo.Color)}}function eP(n,e){if(n&1&&(D(0,"div",3),Gs(),D(1,"svg",4)(2,"defs")(3,"pattern",5),Ie(4,"circle",6),S()(),xe(5,Zx,2,2,":svg:g",7)(6,Jx,1,2,":svg:polygon",8)(7,Xx,1,2,":svg:rect",9),S()()),n&2){let t=se();ye("ngStyle",Hw(5,Qx,t.CardInfo.Color)),F(3),an("id",t.Id),F(2),Se(t.CardInfo.Shape===t.Shape.Squigle?5:-1),F(),Se(t.CardInfo.Shape===t.Shape.Diamond?6:-1),F(),Se(t.CardInfo.Shape===t.Shape.Oval?7:-1)}}var NI=(()=>{class n{CardInfo;CardSelected=new ae;CardUnSelected=new ae;Found=!1;Filling=xt;Shape=ln;dealIn=!0;get shake(){return this.CardInfo?.Shake?"on":"off"}Id=Math.random().toString(36).substring(2,15);clicked(){this.Found||(this.CardInfo.Selected=!this.CardInfo.Selected,this.CardInfo.Selected?this.CardSelected.emit(this.CardInfo):this.CardUnSelected.emit(this.CardInfo))}getFilling(){switch(this.CardInfo.Fill){case xt.Striped:return`url(#${this.Id})`;case xt.Solid:return this.CardInfo.Color;default:return"none"}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-card"]],hostVars:2,hostBindings:function(r,i){r&2&&lh("@dealIn",i.dealIn)("@shake",i.shake)},inputs:{CardInfo:"CardInfo",Found:"Found"},outputs:{CardSelected:"CardSelected",CardUnSelected:"CardUnSelected"},standalone:!0,features:[Te],decls:3,vars:6,consts:[[3,"click","ngClass"],[1,"card-images"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["xmlns","http://www.w3.org/2000/svg","width","100","height","100","viewBox","0 0 100 100","role","img"],["x","0","y","0","width","8","height","8","patternUnits","userSpaceOnUse"],["cx","2","cy","2","r","2.5","fill","currentColor"],["transform","rotate(110 60 50)"],["points","50,10 90,50 50,90 10,50","stroke-width","6","stroke-linejoin","round"],["x","20","y","10","width","60","height","80","rx","30","stroke-width","6"],["d","M20,70 C40,20 80,80 100,30 L100,50 C80,100 40,40 20,90 Z","stroke-width","4","stroke-linejoin","round"]],template:function(r,i){r&1&&(D(0,"div",0),ce("click",function(){return i.clicked()}),D(1,"div",1),xe(2,eP,8,7,"div",2),S()()),r&2&&(ye("ngClass",zw(2,Kx,i.CardInfo.Selected,i.CardInfo.Blink)),F(2),ye("ngForOf",eo(5,Yx).constructor(i.CardInfo.Count)))},dependencies:[Ur,hE,pE,gE],styles:[".card[_ngcontent-%COMP%]{display:block;background-color:#f6f6f6;border-radius:5px}@media (hover: hover) and (pointer: fine){.card[_ngcontent-%COMP%]{transition:transform .14s ease,box-shadow .14s ease}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinker .3s linear infinite}@keyframes _ngcontent-%COMP%_blinker{50%{background-color:#ffb700}}.selected[_ngcontent-%COMP%]{background-color:#babdee!important;transform:translateY(-2px) scale(1.01);box-shadow:0 6px 18px #00000080}.card-images[_ngcontent-%COMP%]{display:flex;gap:0;justify-content:center;align-items:center;padding:8px}.card-images[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:auto;transform-origin:center center}@media (orientation: landscape){.card-images[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5vw}}@media (orientation: portrait){.card-images[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:7.6923076923vw}}"],data:{animation:[Ao("dealIn",[No(":enter",[Xe({opacity:0,transform:"translateY(12px) scale(0.96)"}),Wr("220ms cubic-bezier(.2,.8,.2,1)",Xe({opacity:1,transform:"translateY(0) scale(1)"}))])]),Ao("shake",[vp("off",Xe({})),vp("on",Xe({})),No("off => on",[Wr("180ms ease-out",Xe({transform:"translateX(-6px)"})),Wr("140ms ease-out",Xe({transform:"translateX(6px)"})),Wr("120ms ease-out",Xe({transform:"translateX(0)"}))])])]}})}return n})();var tP=(n,e)=>e.Id;function nP(n,e){if(n&1){let t=Je();D(0,"app-card",2),ce("CardSelected",function(){let i=je(t).$implicit,s=se(2);return Ue(s.cardSelected(i))})("CardUnSelected",function(){let i=je(t).$implicit,s=se(2);return Ue(s.cardUnSelected(i))}),S()}if(n&2){let t=e.$implicit;ye("CardInfo",t),an("id",t.Id)}}function rP(n,e){if(n&1&&Qs(0,nP,1,2,"app-card",1,tP),n&2){let t=se();Zs(t.Cards)}}function iP(n,e){if(n&1&&Ie(0,"app-card",1),n&2){let t=e.$implicit;ye("CardInfo",t)}}function sP(n,e){if(n&1&&Qs(0,iP,1,1,"app-card",1,Vc),n&2){let t=se();Zs(t.Cards)}}var os=(()=>{class n{elementRef;cdr;randomService;Cards=[];UniqueIds=!1;UnSelected=new ae;Selected=new ae;constructor(t,r,i){this.elementRef=t,this.cdr=r,this.randomService=i}cardUnSelected(t){this.UnSelected.emit(t)}cardSelected(t){this.Selected.emit(t)}storeRects(){let t=this.elementRef.nativeElement.querySelector(".grid");if(!t)return this.Cards;let r=Array.from(t.querySelectorAll("app-card")),i=new Map;return r.forEach(s=>i.set(s,s.getBoundingClientRect())),{grid:t,firstRects:i}}shuffleDealtCards(){let t=this.storeRects();return this.Cards=this.randomService.shuffelArray(this.Cards),this.cdr.detectChanges(),this.runAnimation(t.grid,t.firstRects),this.Cards}removeCards(t){let r=this.storeRects();return this.Cards=this.Cards.filter(i=>!t.includes(i.Id)),this.cdr.detectChanges(),this.runAnimation(r.grid,r.firstRects),this.Cards}runAnimation(t,r){requestAnimationFrame(()=>{Array.from(t.querySelectorAll("app-card")).forEach(s=>{let o=r.get(s);if(!o)return;let a=s.getBoundingClientRect(),c=o.left-a.left,l=o.top-a.top;s.style.willChange="transform",s.style.transform=`translate(${c}px, ${l}px)`,requestAnimationFrame(()=>{s.style.transition="transform 1000ms cubic-bezier(.2,.8,.2,1)",s.style.transform="";let u=()=>{s.style.transition="",s.style.willChange="",s.removeEventListener("transitionend",u)};s.addEventListener("transitionend",u)})})})}static \u0275fac=function(r){return new(r||n)(_e(At),_e(Fr),_e(un))};static \u0275cmp=be({type:n,selectors:[["app-cards-grid"]],inputs:{Cards:"Cards",UniqueIds:"UniqueIds"},outputs:{UnSelected:"UnSelected",Selected:"Selected"},standalone:!0,features:[Te],decls:3,vars:2,consts:[[1,"grid"],[3,"CardInfo"],[3,"CardSelected","CardUnSelected","CardInfo"]],template:function(r,i){r&1&&(D(0,"div",0),xe(1,rP,2,0)(2,sP,2,0),S()),r&2&&(ye("@list",void 0),F(),Se(i.UniqueIds?1:2))},dependencies:[NI],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,auto-fit,minmax(100));gap:3px}"],data:{animation:[Ao("list",[No(":enter",[TI("app-card",[Xe({opacity:0,transformOrigin:"0% 100%"}),AI(100,[Wr("250ms linear",bI([Xe({opacity:.5,transform:"translate3d(var(--deal-x, -60vw), var(--deal-y, 60vh), 0) scale(.9) rotate(-20deg)",offset:0}),Xe({opacity:1,transform:"translate3d(0, 0, 0) scale(1) rotate(0)",offset:1})]))])],{optional:!0})])])]}})}return n})();var wp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(n,e){if(!n)throw Gr(e)},Gr=function(n){return new Error("Firebase Database ("+wp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var RI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},oP=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,o||(f=64)),r.push(t[u],t[d],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new Ep;let f=s<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ep=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Cp=function(n){let e=RI(n);return pl.encodeByteArray(e,!0)},Mo=function(n){return Cp(n).replace(/\./g,"")},Ro=function(n){try{return pl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xI(n){return PI(void 0,n)}function PI(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!aP(t)||(n[t]=PI(n[t],e[t]));return n}function aP(n){return n!=="__proto__"}function cP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lP=()=>cP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ro(n[1]);return e&&JSON.parse(e)},Dp=()=>{try{return lP()||uP()||dP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OI=n=>{var e,t;return(t=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kI=n=>{let e=OI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Sp=()=>{var n;return(n=Dp())===null||n===void 0?void 0:n.config},LI=n=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${n}`]};var or=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function FI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mo(JSON.stringify(t)),Mo(JSON.stringify(o)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function jI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UI(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ml(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hn(){return wp.NODE_CLIENT===!0||wp.NODE_ADMIN===!0}function VI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var fP="FirebaseError",fn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fP,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fn(i,a,r)}};function hP(n,e){return n.replace(pP,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pP=/\{\$([^}]+)}/g;function as(n){return JSON.parse(n)}function Ae(n){return JSON.stringify(n)}var $I=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=as(Ro(s[0])||""),t=as(Ro(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var HI=function(n){let e=$I(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},zI=function(n){let e=$I(n).claims;return typeof e=="object"&&e.admin===!0};function pn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function gl(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Po(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Oo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(MI(s)&&MI(o)){if(!Oo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function MI(n){return n!==null&&typeof n=="object"}function ko(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var hl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function WI(n,e){let t=new Ip(n,e);return t.subscribe.bind(t)}var Ip=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_p),i.error===void 0&&(i.error=_p),i.complete===void 0&&(i.complete=_p);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mP(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _p(){}function yl(n,e){return`${n} failed: ${e} argument `}var GI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,_(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Lo=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var BG=4*60*60*1e3;function Ot(n){return n&&n._delegate?n._delegate:n}var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kr="[DEFAULT]";var vl=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new or;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yP(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gP(n){return n===Kr?void 0:n}function yP(n){return n.instantiationMode==="EAGER"}var Fo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new vl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var vP=[],de=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(de||{}),_P={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},wP=de.INFO,EP={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},IP=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=EP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ar=class{constructor(e){this.name=e,this._logLevel=wP,this._logHandler=IP,this._userLogHandler=null,vP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var CP=(n,e)=>e.some(t=>n instanceof t),qI,KI;function DP(){return qI||(qI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SP(){return KI||(KI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YI=new WeakMap,Tp=new WeakMap,QI=new WeakMap,bp=new WeakMap,Np=new WeakMap;function bP(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(mn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&YI.set(t,n)}).catch(()=>{}),Np.set(e,n),e}function TP(n){if(Tp.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Tp.set(n,e)}var Ap={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZI(n){Ap=n(Ap)}function AP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(_l(this),e,...t);return QI.set(r,e.sort?e.sort():[e]),mn(r)}:SP().includes(n)?function(...e){return n.apply(_l(this),e),mn(YI.get(this))}:function(...e){return mn(n.apply(_l(this),e))}}function NP(n){return typeof n=="function"?AP(n):(n instanceof IDBTransaction&&TP(n),CP(n,DP())?new Proxy(n,Ap):n)}function mn(n){if(n instanceof IDBRequest)return bP(n);if(bp.has(n))return bp.get(n);let e=NP(n);return e!==n&&(bp.set(n,e),Np.set(e,n)),e}var _l=n=>Np.get(n);function XI(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=mn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(mn(o.result),c.oldVersion,c.newVersion,mn(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MP=["get","getKey","getAll","getAllKeys","count"],RP=["put","add","delete","clear"],Mp=new Map;function JI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MP.includes(t)))return;let s=function(o,...a){return w(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Mp.set(e,s),s}ZI(n=>ve(b({},n),{get:(e,t,r)=>JI(e,t)||n.get(e,t,r),has:(e,t)=>!!JI(e,t)||n.has(e,t)}));var xp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xP(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function xP(n){let e=n.getComponent();return e?.type==="VERSION"}var Pp="@firebase/app",eC="0.10.13";var xn=new ar("@firebase/app"),PP="@firebase/app-compat",OP="@firebase/analytics-compat",kP="@firebase/analytics",LP="@firebase/app-check-compat",FP="@firebase/app-check",jP="@firebase/auth",UP="@firebase/auth-compat",VP="@firebase/database",BP="@firebase/data-connect",$P="@firebase/database-compat",HP="@firebase/functions",zP="@firebase/functions-compat",WP="@firebase/installations",GP="@firebase/installations-compat",qP="@firebase/messaging",KP="@firebase/messaging-compat",YP="@firebase/performance",QP="@firebase/performance-compat",ZP="@firebase/remote-config",JP="@firebase/remote-config-compat",XP="@firebase/storage",eO="@firebase/storage-compat",tO="@firebase/firestore",nO="@firebase/vertexai-preview",rO="@firebase/firestore-compat",iO="firebase",sO="10.14.1";var Op="[DEFAULT]",oO={[Pp]:"fire-core",[PP]:"fire-core-compat",[kP]:"fire-analytics",[OP]:"fire-analytics-compat",[FP]:"fire-app-check",[LP]:"fire-app-check-compat",[jP]:"fire-auth",[UP]:"fire-auth-compat",[VP]:"fire-rtdb",[BP]:"fire-data-connect",[$P]:"fire-rtdb-compat",[HP]:"fire-fn",[zP]:"fire-fn-compat",[WP]:"fire-iid",[GP]:"fire-iid-compat",[qP]:"fire-fcm",[KP]:"fire-fcm-compat",[YP]:"fire-perf",[QP]:"fire-perf-compat",[ZP]:"fire-rc",[JP]:"fire-rc-compat",[XP]:"fire-gcs",[eO]:"fire-gcs-compat",[tO]:"fire-fst",[rO]:"fire-fst-compat",[nO]:"fire-vertex","fire-js":"fire-js",[iO]:"fire-js-all"};var jo=new Map,aO=new Map,kp=new Map;function tC(n,e){try{n.container.addComponent(e)}catch(t){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lr(n){let e=n.name;if(kp.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,n);for(let t of jo.values())tC(t,n);for(let t of aO.values())tC(t,n);return!0}function Up(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cs(n){return n.settings!==void 0}var cO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Rn("app","Firebase",cO);var Lp=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};var ls=sO;function Vp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(t||(t=Sp()),!t)throw cr.create("no-options");let s=jo.get(i);if(s){if(Oo(t,s.options)&&Oo(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}let o=new Fo(i);for(let c of kp.values())o.addComponent(c);let a=new Lp(t,r,o);return jo.set(i,a),a}function Vo(n=Op){let e=jo.get(n);if(!e&&n===Op&&Sp())return Vp();if(!e)throw cr.create("no-app",{appName:n});return e}function wl(){return Array.from(jo.values())}function Be(n,e,t){var r;let i=(r=oO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(a.join(" "));return}lr(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lO="firebase-heartbeat-database",uO=1,Uo="firebase-heartbeat-store",Rp=null;function sC(){return Rp||(Rp=XI(lO,uO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uo)}catch(t){console.warn(t)}}}}).catch(n=>{throw cr.create("idb-open",{originalErrorMessage:n.message})})),Rp}function dO(n){return w(this,null,function*(){try{let t=(yield sC()).transaction(Uo),r=yield t.objectStore(Uo).get(oC(n));return yield t.done,r}catch(e){if(e instanceof fn)xn.warn(e.message);else{let t=cr.create("idb-get",{originalErrorMessage:e?.message});xn.warn(t.message)}}})}function nC(n,e){return w(this,null,function*(){try{let r=(yield sC()).transaction(Uo,"readwrite");yield r.objectStore(Uo).put(e,oC(n)),yield r.done}catch(t){if(t instanceof fn)xn.warn(t.message);else{let r=cr.create("idb-set",{originalErrorMessage:t?.message});xn.warn(r.message)}}})}function oC(n){return`${n.name}!${n.options.appId}`}var fO=1024,hO=30*24*60*60*1e3,Fp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new jp(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=hO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rC(),{heartbeatsToSend:r,unsentEntries:i}=pO(this._heartbeatsCache.heartbeats),s=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return xn.warn(t),""}})}};function rC(){return new Date().toISOString().substring(0,10)}function pO(n,e=fO){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iC(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var jp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return VI()?BI().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield dO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function iC(n){return Mo(JSON.stringify({version:2,heartbeats:n})).length}function mO(n){lr(new kt("platform-logger",e=>new xp(e),"PRIVATE")),lr(new kt("heartbeat",e=>new Fp(e),"PRIVATE")),Be(Pp,eC,n),Be(Pp,eC,"esm2017"),Be("fire-js","")}mO("");var gO="firebase",yO="10.14.1";Be(gO,yO,"app");var ds=new Yn("ANGULARFIRE2_VERSION");function $p(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $o=(n,e)=>{let t=e?[e]:wl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Bo=class{constructor(){return $o(vO)}},vO="app-check";function us(){}var El=class{zone;delegate;constructor(e,t=Xu){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Bp=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us)),t.pipe(Re({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ho=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=t.run(()=>new El(Zone.current,Ju)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(H(he))};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Il(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function _O(n){return Il().ngZone.runOutsideAngular(()=>n())}function Yr(n){return Il().ngZone.run(()=>n())}function wO(n){return EO(Il())(n)}function EO(n){return function(t){return t=t.lift(new Bp(n.ngZone)),t.pipe(Vn(n.outsideAngular),Un(n.insideAngular))}}var IO=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Yr(()=>n.apply(void 0,r))},ur=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Yr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us))),r[s]=IO(r[s],t));let i=_O(()=>n.apply(this,r));if(!e)if(i instanceof ie){let s=Il();return i.pipe(Vn(s.outsideAngular),Un(s.insideAngular))}else return Yr(()=>i);return i instanceof ie?i.pipe(wO):i instanceof Promise?Yr(()=>new Promise((s,o)=>i.then(a=>Yr(()=>s(a)),a=>Yr(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Yr(()=>i)};var Qr=class{constructor(e){return e}},zo=class{constructor(){return wl()}};function CO(n){return n&&n.length===1?n[0]:new Qr(Vo())}var Hp=new L("angularfire2._apps"),DO={provide:Qr,useFactory:CO,deps:[[new bt,Hp]]},SO={provide:zo,deps:[[new bt,Hp]]};function bO(n){return(e,t)=>{let r=t.get(Xn);Be("angularfire",ds.full,"core"),Be("angularfire",ds.full,"app"),Be("angular",Gw.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Qr(i)}}function aC(n,...e){return Zn([DO,SO,{provide:Hp,useFactory:bO(n),multi:!0,deps:[he,Ht,Ho,...e]}])}var cC=ur(Vp,!0);function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yC=gC,vC=new Rn("auth","Firebase",gC());var bl=new ar("@firebase/auth");function TO(n,...e){bl.logLevel<=de.WARN&&bl.warn(`Auth (${ls}): ${n}`,...e)}function Dl(n,...e){bl.logLevel<=de.ERROR&&bl.error(`Auth (${ls}): ${n}`,...e)}function lC(n,...e){throw tm(n,...e)}function em(n,...e){return tm(n,...e)}function _C(n,e,t){let r=Object.assign(Object.assign({},yC()),{[e]:t});return new Rn("auth","Firebase",r).create(e,{appName:n.name})}function Sl(n){return _C(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vC.create(n,...e)}function le(n,e,...t){if(!n)throw tm(e,...t)}function Wo(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dl(e),new Error(e)}function Tl(n,e){n||Wo(e)}function AO(){return uC()==="http:"||uC()==="https:"}function uC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function NO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||UI()||"connection"in navigator)?navigator.onLine:!0}function MO(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Jr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tl(t>e,"Short delay should be less than long delay!"),this.isMobile=xo()||ml()}get(){return NO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function RO(n,e){Tl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Al=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PO=new Jr(3e4,6e4);function wC(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xl(s,o,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return EC(n,i,()=>w(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=ko(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:f},l);return jI()||(h.referrerPolicy="no-referrer"),Al.fetch()(IC(n,n.config.apiHost,t,d),h)}))})}function EC(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},xO),e);try{let i=new Gp(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Cl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cl(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cl(n,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _C(n,u,l);lC(n,u)}}catch(i){if(i instanceof fn)throw i;lC(n,"network-request-failed",{message:String(i)})}})}function IC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?RO(n.config,i):`${n.config.apiScheme}://${i}`}var Gp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(em(this.auth,"network-request-failed")),PO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=em(n,e,r);return i.customData._tokenResponse=t,i}function OO(n,e){return w(this,null,function*(){return xl(n,"POST","/v1/accounts:delete",e)})}function CC(n,e){return w(this,null,function*(){return xl(n,"POST","/v1/accounts:lookup",e)})}function Go(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nm(n,e=!1){return w(this,null,function*(){let t=Ot(n),r=yield t.getIdToken(e),i=DC(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Go(zp(i.auth_time)),issuedAtTime:Go(zp(i.iat)),expirationTime:Go(zp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zp(n){return Number(n)*1e3}function DC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ro(t);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dC(n){let e=DC(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qp(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof fn&&kO(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function kO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Kp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ko=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nl(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield qp(n,CC(t,{idToken:r}));le(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SC(s.providerUserInfo):[],a=LO(n.providerData,o),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ko(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})}function rm(n){return w(this,null,function*(){let e=Ot(n);yield Nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function LO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SC(n){return n.map(e=>{var{providerId:t}=e,r=ed(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FO(n,e){return w(this,null,function*(){let t=yield EC(n,{},()=>w(this,null,function*(){let r=ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=IC(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Al.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function jO(n,e){return w(this,null,function*(){return xl(n,"POST","/v2/accounts:revokeToken",wC(n,e))})}var qo=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=dC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield FO(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Wo("not implemented")}};function dr(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Yo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ed(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ko(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield qp(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return nm(this,e)}reload(){return rm(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Nl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(cs(this.auth.app))return Promise.reject(Sl(this.auth));let e=yield this.getIdToken();return yield qp(this,OO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,l,u;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,h=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,g=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=t.createdAt)!==null&&l!==void 0?l:void 0,N=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:W,providerData:M,stsTokenManager:x}=t;le(E&&x,e,"internal-error");let P=qo.fromJSON(this.name,x);le(typeof E=="string",e,"internal-error"),dr(d,e.name),dr(f,e.name),le(typeof C=="boolean",e,"internal-error"),le(typeof W=="boolean",e,"internal-error"),dr(h,e.name),dr(p,e.name),dr(m,e.name),dr(g,e.name),dr(I,e.name),dr(N,e.name);let ge=new n({uid:E,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:P,createdAt:I,lastLoginAt:N});return M&&Array.isArray(M)&&(ge.providerData=M.map(De=>Object.assign({},De))),g&&(ge._redirectEventId=g),ge}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new qo;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?SC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new qo;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ko(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var fC=new Map;function Zr(n){Tl(n instanceof Function,"Expected a class definition");let e=fC.get(n);return e?(Tl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fC.set(n,e),e)}var UO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Yp=UO;function Wp(n,e,t){return`firebase:${n}:${e}:${t}`}var Ml=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Wp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Zr(Yp),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Zr(Yp),o=Wp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(o);if(u){let d=Yo._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function hC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WO(e))return"Blackberry";if(GO(e))return"Webos";if(BO(e))return"Safari";if((e.includes("chrome/")||$O(e))&&!e.includes("edge/"))return"Chrome";if(zO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function VO(n=Gt()){return/firefox\//i.test(n)}function BO(n=Gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $O(n=Gt()){return/crios\//i.test(n)}function HO(n=Gt()){return/iemobile/i.test(n)}function zO(n=Gt()){return/android/i.test(n)}function WO(n=Gt()){return/blackberry/i.test(n)}function GO(n=Gt()){return/webos/i.test(n)}function bC(n,e=[]){let t;switch(n){case"Browser":t=hC(Gt());break;case"Worker":t=`${hC(Gt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ls}/${r}`}var Qp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qO(t){return w(this,arguments,function*(n,e={}){return xl(n,"GET","/v2/passwordPolicy",wC(n,e))})}var KO=6,Zp=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:KO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jp=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rl(this),this.idTokenSubscription=new Rl(this),this.beforeStateQueue=new Qp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield CC(this,{idToken:e}),r=yield Yo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(cs(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Nl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=MO()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(cs(this.app))return Promise.reject(Sl(this));let t=e?Ot(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return cs(this.app)?Promise.reject(Sl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cs(this.app)?Promise.reject(Sl(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield qO(this),t=new Zp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield jO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Zr(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield Ml.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TO(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function YO(n){return Ot(n)}var Rl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WI(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var QO={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZO(n){QO=n}function JO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function XO(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var j3=JO("rcb"),U3=new Jr(3e4,6e4);var V3=new Jr(2e3,1e4);var B3=10*60*1e3;var $3=new Jr(3e4,6e4);var H3=new Jr(5e3,15e3);var z3=encodeURIComponent("fac");var pC="@firebase/auth",mC="1.7.9";var Xp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ek(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tk(n){lr(new kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bC(n)},l=new Jp(r,i,s,c);return XO(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lr(new kt("auth-internal",e=>{let t=YO(e.getProvider("auth").getImmediate());return(r=>new Xp(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(pC,mC,ek(n)),Be(pC,mC,"esm2017")}var nk=5*60,W3=LI("authIdTokenMaxAge")||nk;function rk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZO({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=em("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",rk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tk("Browser");var n1="auth";var Pl=class{constructor(){return $o(n1)}};var TC="@firebase/database",AC="1.0.8";var og="";function r1(n){og=n}var dm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:as(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var fm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var sD=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dm(e)}}catch{}return new fm},ei=sD("localStorage"),hm=sD("sessionStorage");var ps=new ar("@firebase/database"),i1=function(){let n=1;return function(){return n++}}(),oD=function(n){let e=GI(n),t=new hl;t.update(e);let r=t.digest();return pl.encodeByteArray(r)},fa=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fa.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e},ni=null,NC=!0,s1=function(n,e){_(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(ps.logLevel=de.VERBOSE,ni=ps.log.bind(ps),e&&hm.set("logging_enabled",!0)):typeof n=="function"?ni=n:(ni=null,hm.remove("logging_enabled"))},Ze=function(...n){if(NC===!0&&(NC=!1,ni===null&&hm.get("logging_enabled")===!0&&s1(!0)),ni){let e=fa.apply(null,n);ni(e)}},ha=function(n){return function(...e){Ze(n,...e)}},pm=function(...n){let e="FIREBASE INTERNAL ERROR: "+fa(...n);ps.error(e)},Pn=function(...n){let e=`FIREBASE FATAL ERROR: ${fa(...n)}`;throw ps.error(e),new Error(e)},st=function(...n){let e="FIREBASE WARNING: "+fa(...n);ps.warn(e)},o1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},aD=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},a1=function(n){if(hn()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},gs="[MIN_NAME]",ri="[MAX_NAME]",Cs=function(n,e){if(n===e)return 0;if(n===gs||e===ri)return-1;if(e===gs||n===ri)return 1;{let t=MC(n),r=MC(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},c1=function(n,e){return n===e?0:n<e?-1:1},Qo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ae(e))},ag=function(n){if(typeof n!="object"||n===null)return Ae(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Ae(e[r]),t+=":",t+=ag(n[e[r]]);return t+="}",t},cD=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function ot(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var lD=function(n){_(!aD(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,s,o,a,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));let l=[];for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},l1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function d1(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var f1=new RegExp("^-?(0*)\\d{1,10}$"),h1=-2147483648,p1=2147483647,MC=function(n){if(f1.test(n)){let e=Number(n);if(e>=h1&&e<=p1)return e}return null},Ds=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw st("Exception was thrown by user callback.",t),e},Math.floor(0))}},m1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ta=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var mm=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var gm=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(e)}},na=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),kl="5",uD="v",dD="s",fD="r",hD="f",pD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mD="ls",gD="p",ym="ac",yD="websocket",vD="long_polling";var Ll=class{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function g1(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function _D(n,e,t){_(typeof e=="string","typeof type must == string"),_(typeof t=="object","typeof params must == object");let r;if(e===yD)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===vD)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);g1(n)&&(t.ns=n.namespace);let i=[];return ot(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var vm=class{constructor(){this.counters_={}}incrementCounter(e,t=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return xI(this.counters_)}};var im={},sm={};function cg(n){let e=n.toString();return im[e]||(im[e]=new vm),im[e]}function y1(n,e){let t=n.toString();return sm[t]||(sm[t]=e()),sm[t]}var _m=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ds(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var RC="start",v1="close",_1="pLPCommand",w1="pRTLPCB",wD="id",ED="pw",ID="ser",E1="cb",I1="seg",C1="ts",D1="d",S1="dframe",CD=1870,DD=30,b1=CD-DD,T1=25e3,A1=3e4,wm=class n{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(e),this.stats_=cg(t),this.urlFn=c=>(this.appCheckToken&&(c[ym]=this.appCheckToken),_D(t,vD,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _m(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(A1)),a1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Em((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===RC)this.id=a,this.password=c;else if(o===v1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[RC]="t",r[ID]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[E1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uD]=kl,this.transportSessionId&&(r[dD]=this.transportSessionId),this.lastSessionId&&(r[mD]=this.lastSessionId),this.applicationId&&(r[gD]=this.applicationId),this.appCheckToken&&(r[ym]=this.appCheckToken),typeof location<"u"&&location.hostname&&pD.test(location.hostname)&&(r[fD]=hD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return hn()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!l1()&&!u1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Ae(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=Cp(t),i=cD(r,b1);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(hn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[S1]="t",r[wD]=e,r[ED]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Ae(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Em=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,hn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=i1(),window[_1+this.uniqueCallbackIdentifier]=e,window[w1+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[wD]=this.myID,e[ED]=this.myPW,e[ID]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DD+r.length<=CD;){let o=this.pendingSegs.shift();r=r+"&"+I1+i+"="+o.seg+"&"+C1+i+"="+o.ts+"&"+D1+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(T1)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){hn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var N1=16384,M1=45e3,Fl=null;typeof MozWebSocket<"u"?Fl=MozWebSocket:typeof WebSocket<"u"&&(Fl=WebSocket);var Zo=(()=>{class n{constructor(t,r,i,s,o,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=cg(r),this.connURL=n.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){let a={};return a[uD]=kl,!hn()&&typeof location<"u"&&location.hostname&&pD.test(location.hostname)&&(a[fD]=hD),r&&(a[dD]=r),i&&(a[mD]=i),s&&(a[ym]=s),o&&(a[gD]=o),_D(t,yD,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ei.set("previous_websocket_failure",!0);try{let i;if(hn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${kl}/${og}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Fl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Fl!==null&&!n.forceDisallow_}static previouslyFailed(){return ei.isInMemoryStorage||ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){ei.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=as(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(_(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=Ae(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=cD(r,N1);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(M1))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),R1=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wm,Zo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let r=Zo&&Zo.isAvailable(),i=r&&!Zo.previouslyFailed();if(t.webSocketOnly&&(r||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Zo];else{let s=this.transports_=[];for(let o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),x1=6e4,P1=5e3,O1=10*1024,k1=100*1024,om="t",xC="d",L1="s",PC="r",F1="e",OC="o",kC="a",LC="n",FC="p",j1="h",Im=class{constructor(e,t,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new R1(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ta(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>k1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>O1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(om in e){let t=e[om];t===kC?this.upgradeIfSecondaryHealthy_():t===PC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===OC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Qo("t",e),r=Qo("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Qo("t",e),r=Qo("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Qo(om,e);if(xC in e){let r=e[xC];if(t===j1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===LC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===L1?this.onConnectionShutdown_(r):t===PC?this.onReset_(r):t===F1?pm("Server Error: "+r):t===OC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pm("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),kl!==r&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ta(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ta(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(P1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var jl=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var Ul=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var Vl=class n extends Ul{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var jC=32,UC=768,fe=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function oe(){return new fe("")}function Z(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pr(n){return n.pieces_.length-n.pieceNum_}function me(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new fe(n.pieces_,e)}function SD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function U1(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function bD(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function TD(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new fe(e,0)}function Pe(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new fe(t,0)}function Q(n){return n.pieceNum_>=n.pieces_.length}function et(n,e){let t=Z(n),r=Z(e);if(t===null)return e;if(t===r)return et(me(n),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function AD(n,e){if(pr(n)!==pr(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Kt(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(pr(n)>pr(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var Cm=class{constructor(e,t){this.errorPrefix_=t,this.parts_=bD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lo(this.parts_[r]);ND(this)}};function V1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Lo(e),ND(n)}function B1(n){let e=n.parts_.pop();n.byteLength_-=Lo(e),n.parts_.length>0&&(n.byteLength_-=1)}function ND(n){if(n.byteLength_>UC)throw new Error(n.errorPrefix_+"has a key path longer than "+UC+" bytes ("+n.byteLength_+").");if(n.parts_.length>jC)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jC+") or object contains a cycle "+Xr(n))}function Xr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var Dm=class n extends Ul{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new n}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var Jo=1e3,$1=60*5*1e3,VC=30*1e3,H1=1.3,z1=3e4,W1="server_kill",BC=3,lg=(()=>{class n extends jl{constructor(t,r,i,s,o,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jo,this.maxReconnectDelay_=$1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!hn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dm.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Vl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Ae(o)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();let r=new or,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();let o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),_(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&pn(t,"w")){let i=qr(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VC)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=HI(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),_(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);let o={p:t},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ae(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):pm("Unrecognized action received from server: "+Ae(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>z1&&(this.reconnectDelay_=Jo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*H1)}this.onConnectStatus_(!1)}establishConnection_(){return w(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Im(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,p=>{st(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(W1)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&st(f),l())}}})}interrupt(t){Ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],gl(this.interruptReasons_)&&(this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(o=>ag(o)).join("$"):i="default";let s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){let i=new fe(t).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ze("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BC&&(this.reconnectDelay_=VC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ze("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";hn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+og.replace(/\./g,"-")]=1,xo()?t["framework.cordova"]=1:ml()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=Vl.getInstance().currentlyOnline();return gl(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Y=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var ys=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new Y(gs,e),i=new Y(gs,t);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var Ol,Bl=class extends ys{static get __EMPTY_NODE(){return Ol}static set __EMPTY_NODE(e){Ol=e}compare(e,t){return Cs(e.name,t.name)}isDefinedOn(e){throw Gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Y.MIN}maxPost(){return new Y(ri,Ol)}makePost(e,t){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Ol)}toString(){return".key"}},ms=new Bl;var hs=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},qt=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Lt.EMPTY_NODE,this.right=o??Lt.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),Sm=class{copy(e,t,r,i,s){return this}insert(e,t,r){return new qt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Lt=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,qt.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new hs(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new hs(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new hs(this.root_,null,this.comparator_,!0,e)}};Lt.EMPTY_NODE=new Sm;function G1(n,e){return Cs(n.name,e.name)}function ug(n,e){return Cs(n,e)}var bm;function q1(n){bm=n}var MD=function(n){return typeof n=="number"?"number:"+lD(n):"string:"+n},RD=function(n){if(n.isLeafNode()){let e=n.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else _(n===bm||n.isEmpty(),"priority of unexpected type.");_(n===bm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var $C,vs=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RD(this.priorityNode_)}static set __childrenNodeConstructor(t){$C=t}static get __childrenNodeConstructor(){return $C}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Q(t)?this:Z(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=Z(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||pr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+MD(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=lD(this.value_):t+=this.value_,this.lazyHash_=oD(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(_(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return _(s>=0,"Unknown leaf type: "+r),_(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),xD,PD;function K1(n){xD=n}function Y1(n){PD=n}var Tm=class extends ys{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?Cs(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(ri,new vs("[PRIORITY-POST]",PD))}makePost(e,t){let r=xD(e);return new Y(t,new vs("[PRIORITY-POST]",r))}toString(){return".priority"}},Ce=new Tm;var Q1=Math.log(2),Am=class{constructor(e){let t=s=>parseInt(Math.log(s)/Q1,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},$l=function(n,e,t,r){n.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=n[c],f=t?t(d):d,new qt(f,d.node,qt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),m=i(h+1,l);return d=n[h],f=t?t(d):d,new qt(f,d.node,qt.BLACK,p,m)}},s=function(c){let l=null,u=null,d=n.length,f=function(p,m){let g=d-p,I=d;d-=p;let N=i(g+1,I),E=n[g],C=t?t(E):E;h(new qt(C,E.node,m,null,N))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let m=c.nextBitIsOne(),g=Math.pow(2,c.count-(p+1));m?f(g,qt.BLACK):(f(g,qt.BLACK),f(g,qt.RED))}return u},o=new Am(n.length),a=s(o);return new Lt(r||e,a)};var am,fs={},_s=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return _(fs&&Ce,"ChildrenNode.ts has not been loaded"),am=am||new n({".priority":fs},{".priority":Ce}),am}get(e){let t=qr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Lt?t:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,t){_(e!==ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(Y.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=$l(r,e.getCompare()):a=fs;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new n(u,l)}addToIndexes(e,t){let r=Po(this.indexes_,(i,s)=>{let o=qr(this.indexSet_,s);if(_(o,"Missing index implementation for "+s),i===fs)if(o.isDefinedOn(e.node)){let a=[],c=t.getIterator(Y.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),$l(a,o.getCompare())}else return fs;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new Y(e.name,a))),c.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=Po(this.indexes_,i=>{if(i===fs)return i;{let s=t.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new n(r,this.indexSet_)}};var Xo,$=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&RD(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xo||(Xo=new n(new Lt(ug),null,_s.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xo}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Xo:r}}getChild(t){let r=Z(t);return r===null?this:this.getImmediateChild(r).getChild(me(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(_(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new Y(t,r),s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Xo:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){let i=Z(t);if(i===null)return r;{_(Z(t)!==".priority"||pr(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(me(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ce,(a,c)=>{r[a]=c.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+MD(this.getPriority().val())+":"),this.forEachChild(Ce,(r,i)=>{let s=i.hash();s!==""&&(t+=":"+r+":"+s)}),this.lazyHash_=t===""?"":oD(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Y(t,r));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new Y(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new Y(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pa?-1:0}withIndex(t){if(t===ms||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ms||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ce),s=r.getIterator(Ce),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===ms?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),Nm=class extends ${constructor(){super(new Lt(ug),$.EMPTY_NODE,_s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}},pa=new Nm;Object.defineProperties(Y,{MIN:{value:new Y(gs,$.EMPTY_NODE)},MAX:{value:new Y(ri,pa)}});Bl.__EMPTY_NODE=$.EMPTY_NODE;vs.__childrenNodeConstructor=$;q1(pa);Y1(pa);var Z1=!0;function $e(n,e=null){if(n===null)return $.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new vs(t,$e(e))}if(!(n instanceof Array)&&Z1){let t=[],r=!1;if(ot(n,(o,a)=>{if(o.substring(0,1)!=="."){let c=$e(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new Y(o,c)))}}),t.length===0)return $.EMPTY_NODE;let s=$l(t,G1,o=>o.name,ug);if(r){let o=$l(t,Ce.getCompare());return new $(s,$e(e),new _s({".priority":o},{".priority":Ce}))}else return new $(s,$e(e),_s.Default)}else{let t=$.EMPTY_NODE;return ot(n,(r,i)=>{if(pn(n,r)&&r.substring(0,1)!=="."){let s=$e(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority($e(e))}}K1($e);var Mm=class extends ys{constructor(e){super(),this.indexPath_=e,_(!Q(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?Cs(e.name,t.name):s}makePost(e,t){let r=$e(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(t,i)}maxPost(){let e=$.EMPTY_NODE.updateChild(this.indexPath_,pa);return new Y(ri,e)}toString(){return bD(this.indexPath_,0).join("/")}};var Rm=class extends ys{compare(e,t){let r=e.node.compareTo(t.node);return r===0?Cs(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,t){let r=$e(e);return new Y(t,r)}toString(){return".value"}},J1=new Rm;function OD(n){return{type:"value",snapshotNode:n}}function ws(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function oa(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function aa(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function X1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var ca=class{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){_(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(oa(t,a)):_(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ws(t,r)):o.trackChildChange(aa(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,s)=>{t.hasChild(i)||r.trackChildChange(oa(i,s))}),t.isLeafNode()||t.forEachChild(Ce,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(aa(i,s,o))}else r.trackChildChange(ws(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Hl=class n{constructor(e){this.indexedFilter_=new ca(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new Y(t,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=$.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);let s=this;return t.forEachChild(Ce,(o,a)=>{s.matches(new Y(o,a))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var xm=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Hl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new Y(t,r))||(r=$.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();let a=e;_(a.numChildren()===this.limit_,"");let c=new Y(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){let d=a.getImmediateChild(t),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:o(f,c);if(u&&!r.isEmpty()&&h>=0)return s?.trackChildChange(aa(t,r,d)),a.updateImmediateChild(t,r);{s?.trackChildChange(oa(t,d));let m=a.updateImmediateChild(t,$.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(ws(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:u&&o(l,c)>=0?(s!=null&&(s.trackChildChange(oa(l.name,l.node)),s.trackChildChange(ws(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,$.EMPTY_NODE)):e}};var Pm=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gs}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function eL(n){return n.loadsAllData()?new ca(n.getIndex()):n.hasLimit()?new xm(n):new Hl(n)}function HC(n){let e={};if(n.isDefault())return e;let t;if(n.index_===Ce?t="$priority":n.index_===J1?t="$value":n.index_===ms?t="$key":(_(n.index_ instanceof Mm,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ae(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=Ae(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Ae(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Ae(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zC(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ce&&(e.i=n.index_.toString()),e}var Om=class n extends jl{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ha("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=n.getListenId_(e,r),a={};this.listens_[o]=a;let c=HC(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),qr(this.listens_,o)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=HC(e._queryParams),r=e._path.toString(),i=new or;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ko(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=as(a.responseText)}catch{st("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&st("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var km=class{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function zl(){return{value:null,children:new Map}}function kD(n,e,t){if(Q(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=Z(e);n.children.has(r)||n.children.set(r,zl());let i=n.children.get(r);e=me(e),kD(i,e,t)}}function Lm(n,e,t){n.value!==null?t(e,n.value):tL(n,(r,i)=>{let s=new fe(e.toString()+"/"+r);Lm(i,s,t)})}function tL(n,e){n.children.forEach((t,r)=>{e(r,t)})}var Fm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var WC=10*1e3,nL=30*1e3,rL=5*60*1e3,jm=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fm(e);let r=WC+(nL-WC)*Math.random();ta(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;ot(e,(i,s)=>{s>0&&pn(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),ta(this.reportStats_.bind(this),Math.floor(Math.random()*2*rL))}};var gn=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(gn||{});function LD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var Um=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=gn.ACK_USER_WRITE,this.source=LD()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new fe(e));return new n(oe(),t,this.revert)}}else return _(Z(this.path)===e,"operationForChild called for unrelated child."),new n(me(this.path),this.affectedTree,this.revert)}};var Wl=class n{constructor(e,t){this.source=e,this.path=t,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new n(this.source,oe()):new n(this.source,me(this.path))}};var Es=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=gn.OVERWRITE}operationForChild(e){return Q(this.path)?new n(this.source,oe(),this.snap.getImmediateChild(e)):new n(this.source,me(this.path),this.snap)}};var Gl=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=gn.MERGE}operationForChild(e){if(Q(this.path)){let t=this.children.subtree(new fe(e));return t.isEmpty()?null:t.value?new Es(this.source,oe(),t.value):new n(this.source,oe(),t)}else return _(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var yn=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;let t=Z(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Vm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function iL(n,e,t,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(X1(o.childName,o.snapshotNode))}),ea(n,i,"child_removed",e,r,t),ea(n,i,"child_added",e,r,t),ea(n,i,"child_moved",s,r,t),ea(n,i,"child_changed",e,r,t),ea(n,i,"value",e,r,t),i}function ea(n,e,t,r,i,s){let o=r.filter(a=>a.type===t);o.sort((a,c)=>oL(n,a,c)),o.forEach(a=>{let c=sL(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function sL(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function oL(n,e,t){if(e.childName==null||t.childName==null)throw Gr("Should only compare child_ events.");let r=new Y(e.childName,e.snapshotNode),i=new Y(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function ru(n,e){return{eventCache:n,serverCache:e}}function ra(n,e,t,r){return ru(new yn(e,t,r),n.serverCache)}function FD(n,e,t,r){return ru(n.eventCache,new yn(e,t,r))}function ql(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ii(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var cm,aL=()=>(cm||(cm=new Lt(c1)),cm),at=class n{constructor(e,t=aL()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return ot(e,(r,i)=>{t=t.set(new fe(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:oe(),value:this.value};if(Q(e))return null;{let r=Z(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(me(e),t);return s!=null?{path:Pe(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{let t=Z(e),r=this.children.get(t);return r!==null?r.subtree(me(e)):new n(null)}}set(e,t){if(Q(e))return new n(t,this.children);{let r=Z(e),s=(this.children.get(r)||new n(null)).set(me(e),t),o=this.children.insert(r,s);return new n(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Z(e),r=this.children.get(t);if(r){let i=r.remove(me(e)),s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{let t=Z(e),r=this.children.get(t);return r?r.get(me(e)):null}}setTree(e,t){if(Q(e))return t;{let r=Z(e),s=(this.children.get(r)||new n(null)).setTree(me(e),t),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new n(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Pe(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,oe(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(Q(e))return null;{let s=Z(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Pe(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,oe(),t)}foreachOnPath_(e,t,r){if(Q(e))return this;{this.value&&r(t,this.value);let i=Z(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Pe(t,i),r):new n(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var Yt=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new at(null))}};function ia(n,e,t){if(Q(e))return new Yt(new at(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=et(i,e);return s=s.updateChild(o,t),new Yt(n.writeTree_.set(i,s))}else{let i=new at(t),s=n.writeTree_.setTree(e,i);return new Yt(s)}}}function GC(n,e,t){let r=n;return ot(t,(i,s)=>{r=ia(r,Pe(e,i),s)}),r}function qC(n,e){if(Q(e))return Yt.empty();{let t=n.writeTree_.setTree(e,new at(null));return new Yt(t)}}function Bm(n,e){return si(n,e)!=null}function si(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(et(t.path,e)):null}function KC(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ce,(r,i)=>{e.push(new Y(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function fr(n,e){if(Q(e))return n;{let t=si(n,e);return t!=null?new Yt(new at(t)):new Yt(n.writeTree_.subtree(e))}}function $m(n){return n.writeTree_.isEmpty()}function Is(n,e){return jD(oe(),n.writeTree_,e)}function jD(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=jD(Pe(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Pe(n,".priority"),r)),t}}function iu(n,e){return $D(e,n)}function cL(n,e,t,r,i){_(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ia(n.visibleWrites,e,t)),n.lastWriteId=r}function lL(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function uL(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);_(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&dL(a,r.path)?i=!1:Kt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return fL(n),!0;if(r.snap)n.visibleWrites=qC(n.visibleWrites,r.path);else{let a=r.children;ot(a,c=>{n.visibleWrites=qC(n.visibleWrites,Pe(r.path,c))})}return!0}else return!1}function dL(n,e){if(n.snap)return Kt(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&Kt(Pe(n.path,t),e))return!0;return!1}function fL(n){n.visibleWrites=UD(n.allWrites,hL,oe()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function hL(n){return n.visible}function UD(n,e,t){let r=Yt.empty();for(let i=0;i<n.length;++i){let s=n[i];if(e(s)){let o=s.path,a;if(s.snap)Kt(t,o)?(a=et(t,o),r=ia(r,a,s.snap)):Kt(o,t)&&(a=et(o,t),r=ia(r,oe(),s.snap.getChild(a)));else if(s.children){if(Kt(t,o))a=et(t,o),r=GC(r,a,s.children);else if(Kt(o,t))if(a=et(o,t),Q(a))r=GC(r,oe(),s.children);else{let c=qr(s.children,Z(a));if(c){let l=c.getChild(me(a));r=ia(r,oe(),l)}}}else throw Gr("WriteRecord should have .snap or .children")}}return r}function VD(n,e,t,r,i){if(!r&&!i){let s=si(n.visibleWrites,e);if(s!=null)return s;{let o=fr(n.visibleWrites,e);if($m(o))return t;if(t==null&&!Bm(o,oe()))return null;{let a=t||$.EMPTY_NODE;return Is(o,a)}}}else{let s=fr(n.visibleWrites,e);if(!i&&$m(s))return t;if(!i&&t==null&&!Bm(s,oe()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Kt(l.path,e)||Kt(e,l.path))},a=UD(n.allWrites,o,e),c=t||$.EMPTY_NODE;return Is(a,c)}}}function pL(n,e,t){let r=$.EMPTY_NODE,i=si(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){let s=fr(n.visibleWrites,e);return t.forEachChild(Ce,(o,a)=>{let c=Is(fr(s,new fe(o)),a);r=r.updateImmediateChild(o,c)}),KC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=fr(n.visibleWrites,e);return KC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function mL(n,e,t,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Pe(e,t);if(Bm(n.visibleWrites,s))return null;{let o=fr(n.visibleWrites,s);return $m(o)?i.getChild(t):Is(o,i.getChild(t))}}function gL(n,e,t,r){let i=Pe(e,t),s=si(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){let o=fr(n.visibleWrites,i);return Is(o,r.getNode().getImmediateChild(t))}else return null}function yL(n,e){return si(n.visibleWrites,e)}function vL(n,e,t,r,i,s,o){let a,c=fr(n.visibleWrites,e),l=si(c,oe());if(l!=null)a=l;else if(t!=null)a=Is(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function _L(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function Kl(n,e,t,r){return VD(n.writeTree,n.treePath,e,t,r)}function hg(n,e){return pL(n.writeTree,n.treePath,e)}function YC(n,e,t,r){return mL(n.writeTree,n.treePath,e,t,r)}function Yl(n,e){return yL(n.writeTree,Pe(n.treePath,e))}function wL(n,e,t,r,i,s){return vL(n.writeTree,n.treePath,e,t,r,i,s)}function pg(n,e,t){return gL(n.writeTree,n.treePath,e,t)}function BD(n,e){return $D(Pe(n.treePath,e),n.writeTree)}function $D(n,e){return{treePath:n,writeTree:e}}var Hm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;_(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,aa(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,oa(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,ws(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,aa(r,e.snapshotNode,i.oldSnap));else throw Gr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var zm=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},HD=new zm,la=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pg(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ii(this.viewCache_),s=wL(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}};function EL(n){return{filter:n}}function IL(n,e){_(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function CL(n,e,t,r,i){let s=new Hm,o,a;if(t.type===gn.OVERWRITE){let l=t;l.source.fromUser?o=Wm(n,e,l.path,l.snap,r,i,s):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Q(l.path),o=Ql(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===gn.MERGE){let l=t;l.source.fromUser?o=SL(n,e,l.path,l.children,r,i,s):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=Gm(n,e,l.path,l.children,r,i,a,s))}else if(t.type===gn.ACK_USER_WRITE){let l=t;l.revert?o=AL(n,e,l.path,r,i,s):o=bL(n,e,l.path,l.affectedTree,r,i,s)}else if(t.type===gn.LISTEN_COMPLETE)o=TL(n,e,t.path,r,s);else throw Gr("Unknown operation type: "+t.type);let c=s.getChanges();return DL(e,o,c),{viewCache:o,changes:c}}function DL(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ql(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(OD(ql(e)))}}function zD(n,e,t,r,i,s){let o=e.eventCache;if(Yl(r,t)!=null)return e;{let a,c;if(Q(t))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ii(e),u=l instanceof $?l:$.EMPTY_NODE,d=hg(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=Kl(r,ii(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=Z(t);if(l===".priority"){_(pr(t)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=YC(r,t,u,c);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{let u=me(t),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let f=YC(r,t,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(l).updateChild(u,f):d=o.getNode().getImmediateChild(l)}else d=pg(r,l,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return ra(e,a,o.isFullyInitialized()||Q(t),n.filter.filtersNodes())}}function Ql(n,e,t,r,i,s,o,a){let c=e.serverCache,l,u=o?n.filter:n.filter.getIndexedFilter();if(Q(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=Z(t);if(!c.isCompleteForPath(t)&&pr(t)>1)return e;let p=me(t),g=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),g):l=u.updateChild(c.getNode(),h,g,p,HD,null)}let d=FD(e,l,c.isFullyInitialized()||Q(t),u.filtersNodes()),f=new la(i,d,s);return zD(n,d,t,i,f,a)}function Wm(n,e,t,r,i,s,o){let a=e.eventCache,c,l,u=new la(i,e,s);if(Q(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=ra(e,l,!0,n.filter.filtersNodes());else{let d=Z(t);if(d===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),r),c=ra(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=me(t),h=a.getNode().getImmediateChild(d),p;if(Q(f))p=r;else{let m=u.getCompleteChild(d);m!=null?SD(f)===".priority"&&m.getChild(TD(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=$.EMPTY_NODE}if(h.equals(p))c=e;else{let m=n.filter.updateChild(a.getNode(),d,p,f,u,o);c=ra(e,m,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function QC(n,e){return n.eventCache.isCompleteForChild(e)}function SL(n,e,t,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=Pe(t,c);QC(e,Z(u))&&(a=Wm(n,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=Pe(t,c);QC(e,Z(u))||(a=Wm(n,a,u,l,i,s,o))}),a}function ZC(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Gm(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;Q(t)?l=r:l=new at(null).setTree(t,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=ZC(n,h,f);c=Ql(n,c,new fe(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),m=ZC(n,p,f);c=Ql(n,c,new fe(d),m,i,s,o,a)}}),c}function bL(n,e,t,r,i,s,o){if(Yl(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Q(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Ql(n,e,t,c.getNode().getChild(t),i,s,a,o);if(Q(t)){let l=new at(null);return c.getNode().forEachChild(ms,(u,d)=>{l=l.set(new fe(u),d)}),Gm(n,e,t,l,i,s,a,o)}else return e}else{let l=new at(null);return r.foreach((u,d)=>{let f=Pe(t,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Gm(n,e,t,l,i,s,a,o)}}function TL(n,e,t,r,i){let s=e.serverCache,o=FD(e,s.getNode(),s.isFullyInitialized()||Q(t),s.isFiltered());return zD(n,o,t,r,HD,i)}function AL(n,e,t,r,i,s){let o;if(Yl(r,t)!=null)return e;{let a=new la(r,e,i),c=e.eventCache.getNode(),l;if(Q(t)||Z(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Kl(r,ii(e));else{let d=e.serverCache.getNode();_(d instanceof $,"serverChildren would be complete if leaf node"),u=hg(r,d)}u=u,l=n.filter.updateFullNode(c,u,s)}else{let u=Z(t),d=pg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=n.filter.updateChild(c,u,d,me(t),a,s):e.eventCache.getNode().hasChild(u)?l=n.filter.updateChild(c,u,$.EMPTY_NODE,me(t),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Kl(r,ii(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Yl(r,oe())!=null,ra(e,l,o,n.filter.filtersNodes())}}var qm=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ca(r.getIndex()),s=eL(r);this.processor_=EL(s);let o=t.serverCache,a=t.eventCache,c=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new yn(c,o.isFullyInitialized(),i.filtersNodes()),d=new yn(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ru(d,u),this.eventGenerator_=new Vm(this.query_)}get query(){return this.query_}};function NL(n){return n.viewCache_.serverCache.getNode()}function ML(n){return ql(n.viewCache_)}function RL(n,e){let t=ii(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Q(e)&&!t.getImmediateChild(Z(e)).isEmpty())?t.getChild(e):null}function JC(n){return n.eventRegistrations_.length===0}function xL(n,e){n.eventRegistrations_.push(e)}function XC(n,e,t){let r=[];if(t){_(e==null,"A cancel should cancel all event registrations.");let i=n.query._path;n.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){let o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function eD(n,e,t,r){e.type===gn.MERGE&&e.source.queryId!==null&&(_(ii(n.viewCache_),"We should always have a full cache before handling merges"),_(ql(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,s=CL(n.processor_,i,e,t,r);return IL(n.processor_,s.viewCache),_(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,WD(n,s.changes,s.viewCache.eventCache.getNode(),null)}function PL(n,e){let t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ce,(s,o)=>{r.push(ws(s,o))}),t.isFullyInitialized()&&r.push(OD(t.getNode())),WD(n,r,t.getNode(),e)}function WD(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return iL(n.eventGenerator_,e,t,i)}var Zl,Jl=class{constructor(){this.views=new Map}};function OL(n){_(!Zl,"__referenceConstructor has already been defined"),Zl=n}function kL(){return _(Zl,"Reference.ts has not been loaded"),Zl}function LL(n){return n.views.size===0}function mg(n,e,t,r){let i=e.source.queryId;if(i!==null){let s=n.views.get(i);return _(s!=null,"SyncTree gave us an op for an invalid query."),eD(s,e,t,r)}else{let s=[];for(let o of n.views.values())s=s.concat(eD(o,e,t,r));return s}}function GD(n,e,t,r,i){let s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=Kl(t,i?r:null),c=!1;a?c=!0:r instanceof $?(a=hg(t,r),c=!1):(a=$.EMPTY_NODE,c=!1);let l=ru(new yn(a,c,!1),new yn(r,i,!1));return new qm(e,l)}return o}function FL(n,e,t,r,i,s){let o=GD(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),xL(o,t),PL(o,t)}function jL(n,e,t,r){let i=e._queryIdentifier,s=[],o=[],a=mr(n);if(i==="default")for(let[c,l]of n.views.entries())o=o.concat(XC(l,t,r)),JC(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{let c=n.views.get(i);c&&(o=o.concat(XC(c,t,r)),JC(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!mr(n)&&s.push(new(kL())(e._repo,e._path)),{removed:s,events:o}}function qD(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function hr(n,e){let t=null;for(let r of n.views.values())t=t||RL(r,e);return t}function KD(n,e){if(e._queryParams.loadsAllData())return su(n);{let r=e._queryIdentifier;return n.views.get(r)}}function YD(n,e){return KD(n,e)!=null}function mr(n){return su(n)!=null}function su(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Xl;function UL(n){_(!Xl,"__referenceConstructor has already been defined"),Xl=n}function VL(){return _(Xl,"Reference.ts has not been loaded"),Xl}var BL=1,eu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new at(null),this.pendingWriteTree_=_L(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function QD(n,e,t,r,i){return cL(n.pendingWriteTree_,e,t,r,i),i?ga(n,new Es(LD(),e,t)):[]}function ti(n,e,t=!1){let r=lL(n.pendingWriteTree_,e);if(uL(n.pendingWriteTree_,e)){let s=new at(null);return r.snap!=null?s=s.set(oe(),!0):ot(r.children,o=>{s=s.set(new fe(o),!0)}),ga(n,new Um(r.path,s,t))}else return[]}function ma(n,e,t){return ga(n,new Es(dg(),e,t))}function $L(n,e,t){let r=at.fromObject(t);return ga(n,new Gl(dg(),e,r))}function HL(n,e){return ga(n,new Wl(dg(),e))}function zL(n,e,t){let r=yg(n,t);if(r){let i=vg(r),s=i.path,o=i.queryId,a=et(s,e),c=new Wl(fg(o),a);return _g(n,s,c)}else return[]}function ZD(n,e,t,r,i=!1){let s=e._path,o=n.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||YD(o,e))){let c=jL(o,e,t,r);LL(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(s,(f,h)=>mr(h));if(u&&!d){let f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){let h=KL(f);for(let p=0;p<h.length;++p){let m=h[p],g=m.query,I=tS(n,m);n.listenProvider_.startListening(sa(g),ua(n,g),I.hashFn,I.onComplete)}}}!d&&l.length>0&&!r&&(u?n.listenProvider_.stopListening(sa(e),null):l.forEach(f=>{let h=n.queryToTagMap.get(ou(f));n.listenProvider_.stopListening(sa(f),h)}))}YL(n,l)}return a}function JD(n,e,t,r){let i=yg(n,r);if(i!=null){let s=vg(i),o=s.path,a=s.queryId,c=et(o,e),l=new Es(fg(a),c,t);return _g(n,o,l)}else return[]}function WL(n,e,t,r){let i=yg(n,r);if(i){let s=vg(i),o=s.path,a=s.queryId,c=et(o,e),l=at.fromObject(t),u=new Gl(fg(a),c,l);return _g(n,o,u)}else return[]}function GL(n,e,t,r=!1){let i=e._path,s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=et(f,i);s=s||hr(h,p),o=o||mr(h)});let a=n.syncPointTree_.get(i);a?(o=o||mr(a),s=s||hr(a,oe())):(a=new Jl,n.syncPointTree_=n.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=$.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((h,p)=>{let m=hr(p,oe());m&&(s=s.updateImmediateChild(h,m))}));let l=YD(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=ou(e);_(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=QL();n.queryToTagMap.set(f,h),n.tagToQueryMap.set(h,f)}let u=iu(n.pendingWriteTree_,i),d=FL(a,e,t,u,s,c);if(!l&&!o&&!r){let f=KD(a,e);d=d.concat(ZL(n,e,f))}return d}function gg(n,e,t){let i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let c=et(o,e),l=hr(a,c);if(l)return l});return VD(i,e,s,t,!0)}function qL(n,e){let t=e._path,r=null;n.syncPointTree_.foreachOnPath(t,(l,u)=>{let d=et(l,t);r=r||hr(u,d)});let i=n.syncPointTree_.get(t);i?r=r||hr(i,oe()):(i=new Jl,n.syncPointTree_=n.syncPointTree_.set(t,i));let s=r!=null,o=s?new yn(r,!0,!1):null,a=iu(n.pendingWriteTree_,e._path),c=GD(i,e,a,s?o.getNode():$.EMPTY_NODE,s);return ML(c)}function ga(n,e){return XD(e,n.syncPointTree_,null,iu(n.pendingWriteTree_,oe()))}function XD(n,e,t,r){if(Q(n.path))return eS(n,e,t,r);{let i=e.get(oe());t==null&&i!=null&&(t=hr(i,oe()));let s=[],o=Z(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){let l=t?t.getImmediateChild(o):null,u=BD(r,o);s=s.concat(XD(a,c,l,u))}return i&&(s=s.concat(mg(i,n,r,t))),s}}function eS(n,e,t,r){let i=e.get(oe());t==null&&i!=null&&(t=hr(i,oe()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=t?t.getImmediateChild(o):null,l=BD(r,o),u=n.operationForChild(o);u&&(s=s.concat(eS(u,a,c,l)))}),i&&(s=s.concat(mg(i,n,r,t))),s}function tS(n,e){let t=e.query,r=ua(n,t);return{hashFn:()=>(NL(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?zL(n,t._path,r):HL(n,t._path);{let s=d1(i,t);return ZD(n,t,null,s)}}}}function ua(n,e){let t=ou(e);return n.queryToTagMap.get(t)}function ou(n){return n._path.toString()+"$"+n._queryIdentifier}function yg(n,e){return n.tagToQueryMap.get(e)}function vg(n){let e=n.indexOf("$");return _(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new fe(n.substr(0,e))}}function _g(n,e,t){let r=n.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=iu(n.pendingWriteTree_,e);return mg(r,t,i,null)}function KL(n){return n.fold((e,t,r)=>{if(t&&mr(t))return[su(t)];{let i=[];return t&&(i=qD(t)),ot(r,(s,o)=>{i=i.concat(o)}),i}})}function sa(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(VL())(n._repo,n._path):n}function YL(n,e){for(let t=0;t<e.length;++t){let r=e[t];if(!r._queryParams.loadsAllData()){let i=ou(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function QL(){return BL++}function ZL(n,e,t){let r=e._path,i=ua(n,e),s=tS(n,t),o=n.listenProvider_.startListening(sa(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)_(!mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!Q(l)&&u&&mr(u))return[su(u).query];{let f=[];return u&&(f=f.concat(qD(u).map(h=>h.query))),ot(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];n.listenProvider_.stopListening(sa(u),ua(n,u))}}return o}var Km=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},Ym=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=Pe(this.path_,e);return new n(this.syncTree_,t)}node(){return gg(this.syncTree_,this.path_)}},JL=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},tD=function(n,e,t){if(!n||typeof n!="object")return n;if(_(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return XL(n[".sv"],e,t);if(typeof n[".sv"]=="object")return eF(n[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},XL=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:_(!1,"Unexpected server value: "+n)}},eF=function(n,e,t){n.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},tF=function(n,e,t,r){return wg(e,new Ym(t,n),r)},nS=function(n,e,t){return wg(n,new Km(e),t)};function wg(n,e,t){let r=n.getPriority().val(),i=tD(r,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=tD(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new vs(a,$e(i)):n}else{let o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new vs(i))),o.forEachChild(Ce,(a,c)=>{let l=wg(c,e.getImmediateChild(a),t);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var da=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function Eg(n,e){let t=e instanceof fe?e:new fe(e),r=n,i=Z(t);for(;i!==null;){let s=qr(r.node.children,i)||{children:{},childCount:0};r=new da(i,r,s),t=me(t),i=Z(t)}return r}function Ss(n){return n.node.value}function rS(n,e){n.node.value=e,Qm(n)}function iS(n){return n.node.childCount>0}function nF(n){return Ss(n)===void 0&&!iS(n)}function au(n,e){ot(n.node.children,(t,r)=>{e(new da(t,n,r))})}function sS(n,e,t,r){t&&!r&&e(n),au(n,i=>{sS(i,e,!0,r)}),t&&r&&e(n)}function rF(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ya(n){return new fe(n.parent===null?n.name:ya(n.parent)+"/"+n.name)}function Qm(n){n.parent!==null&&iF(n.parent,n.name,n)}function iF(n,e,t){let r=nF(t),i=pn(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Qm(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Qm(n))}var sF=/[\[\].#$\/\u0000-\u001F\u007F]/,oF=/[\[\].#$\u0000-\u001F\u007F]/,lm=10*1024*1024,oS=function(n){return typeof n=="string"&&n.length!==0&&!sF.test(n)},aS=function(n){return typeof n=="string"&&n.length!==0&&!oF.test(n)},aF=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),aS(n)};var cF=function(n,e,t,r){r&&e===void 0||Ig(yl(n,"value"),e,t)},Ig=function(n,e,t){let r=t instanceof fe?new Cm(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Xr(r));if(typeof e=="function")throw new Error(n+"contains a function "+Xr(r)+" with contents = "+e.toString());if(aD(e))throw new Error(n+"contains "+e.toString()+" "+Xr(r));if(typeof e=="string"&&e.length>lm/3&&Lo(e)>lm)throw new Error(n+"contains a string greater than "+lm+" utf8 bytes "+Xr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ot(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oS(o)))throw new Error(n+" contains an invalid key ("+o+") "+Xr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V1(r,o),Ig(n,a,r),B1(r)}),i&&s)throw new Error(n+' contains ".value" child '+Xr(r)+" in addition to actual children.")}};var cS=function(n,e,t,r){if(!(r&&t===void 0)&&!aS(t))throw new Error(yl(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lF=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cS(n,e,t,r)},uF=function(n,e){if(Z(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},dF=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!aF(t))throw new Error(yl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Zm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function lS(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();t!==null&&!AD(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function vn(n,e,t){lS(n,t),fF(n,r=>Kt(r,e)||Kt(e,r))}function fF(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let s=i.path;e(s)?(hF(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function hF(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();ni&&Ze("event: "+t.toString()),Ds(r)}}}var pF="repo_interrupt",mF=25,Jm=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zl(),this.transactionQueueTree_=new da,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function gF(n,e,t){if(n.stats_=cg(n.repoInfo_),n.forceRestClient_||m1())n.server_=new Om(n.repoInfo_,(r,i,s,o)=>{nD(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>rD(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new lg(n.repoInfo_,e,(r,i,s,o)=>{nD(n,r,i,s,o)},r=>{rD(n,r)},r=>{vF(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=y1(n.repoInfo_,()=>new jm(n.stats_,n.server_)),n.infoData_=new km,n.infoSyncTree_=new eu({startListening:(r,i,s,o)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=ma(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Dg(n,"connected",!1),n.serverSyncTree_=new eu({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);vn(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function yF(n){let t=n.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Cg(n){return JL({timestamp:yF(n)})}function nD(n,e,t,r,i){n.dataUpdateCount++;let s=new fe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){let c=Po(t,l=>$e(l));o=WL(n.serverSyncTree_,s,c,i)}else{let c=$e(t);o=JD(n.serverSyncTree_,s,c,i)}else if(r){let c=Po(t,l=>$e(l));o=$L(n.serverSyncTree_,s,c)}else{let c=$e(t);o=ma(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=lu(n,s)),vn(n.eventQueue_,a,o)}function rD(n,e){Dg(n,"connected",e),e===!1&&EF(n)}function vF(n,e){ot(e,(t,r)=>{Dg(n,t,r)})}function Dg(n,e,t){let r=new fe("/.info/"+e),i=$e(t);n.infoData_.updateSnapshot(r,i);let s=ma(n.infoSyncTree_,r,i);vn(n.eventQueue_,r,s)}function uS(n){return n.nextWriteId_++}function _F(n,e,t){let r=qL(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{let s=$e(i).withIndex(e._queryParams.getIndex());GL(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=ma(n.serverSyncTree_,e._path,s);else{let a=ua(n.serverSyncTree_,e);o=JD(n.serverSyncTree_,e._path,s,a)}return vn(n.eventQueue_,e._path,o),ZD(n.serverSyncTree_,e,t,null,!0),s},i=>(cu(n,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function wF(n,e,t,r,i){cu(n,"set",{path:e.toString(),value:t,priority:r});let s=Cg(n),o=$e(t,r),a=gg(n.serverSyncTree_,e),c=nS(o,a,s),l=uS(n),u=QD(n.serverSyncTree_,e,c,l,!0);lS(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||st("set at "+e+" failed: "+f);let m=ti(n.serverSyncTree_,l,!p);vn(n.eventQueue_,e,m),CF(n,i,f,h)});let d=mS(n,e);lu(n,d),vn(n.eventQueue_,d,[])}function EF(n){cu(n,"onDisconnectEvents");let e=Cg(n),t=zl();Lm(n.onDisconnect_,oe(),(i,s)=>{let o=tF(i,s,n.serverSyncTree_,e);kD(t,i,o)});let r=[];Lm(t,oe(),(i,s)=>{r=r.concat(ma(n.serverSyncTree_,i,s));let o=mS(n,i);lu(n,o)}),n.onDisconnect_=zl(),vn(n.eventQueue_,oe(),r)}function IF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(pF)}function cu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ze(t,...e)}function CF(n,e,t,r){e&&Ds(()=>{if(t==="ok")e(null);else{let i=(t||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function dS(n,e,t){return gg(n.serverSyncTree_,e,t)||$.EMPTY_NODE}function Sg(n,e=n.transactionQueueTree_){if(e||uu(n,e),Ss(e)){let t=hS(n,e);_(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&DF(n,ya(e),t)}else iS(e)&&au(e,t=>{Sg(n,t)})}function DF(n,e,t){let r=t.map(l=>l.currentWriteId),i=dS(n,e,r),s=i,o=i.hash();for(let l=0;l<t.length;l++){let u=t[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=et(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;n.server_.put(c.toString(),a,l=>{cu(n,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(ti(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();uu(n,Eg(n.transactionQueueTree_,e)),Sg(n,n.transactionQueueTree_),vn(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ds(d[f])}else{if(l==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{st("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}lu(n,e)}},o)}function lu(n,e){let t=fS(n,e),r=ya(t),i=hS(n,t);return SF(n,i,r),r}function SF(n,e,t){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=et(t,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ti(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=mF)u=!0,d="maxretry",i=i.concat(ti(n.serverSyncTree_,c.currentWriteId,!0));else{let f=dS(n,c.path,o);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Ig("transaction failed: Data returned ",h,c.path);let p=$e(h);typeof h=="object"&&h!=null&&pn(h,".priority")||(p=p.updatePriority(f.getPriority()));let g=c.currentWriteId,I=Cg(n),N=nS(p,f,I);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=N,c.currentWriteId=uS(n),o.splice(o.indexOf(g),1),i=i.concat(QD(n.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(ti(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(ti(n.serverSyncTree_,c.currentWriteId,!0))}vn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}uu(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Ds(r[a]);Sg(n,n.transactionQueueTree_)}function fS(n,e){let t,r=n.transactionQueueTree_;for(t=Z(e);t!==null&&Ss(r)===void 0;)r=Eg(r,t),e=me(e),t=Z(e);return r}function hS(n,e){let t=[];return pS(n,e,t),t.sort((r,i)=>r.order-i.order),t}function pS(n,e,t){let r=Ss(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);au(e,i=>{pS(n,i,t)})}function uu(n,e){let t=Ss(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,rS(e,t.length>0?t:void 0)}au(e,r=>{uu(n,r)})}function mS(n,e){let t=ya(fS(n,e)),r=Eg(n.transactionQueueTree_,e);return rF(r,i=>{um(n,i)}),um(n,r),sS(r,i=>{um(n,i)}),t}function um(n,e){let t=Ss(e);if(t){let r=[],i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(_(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(_(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(ti(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rS(e,void 0):t.length=s+1,vn(n.eventQueue_,ya(e),i);for(let o=0;o<r.length;o++)Ds(r[o])}}function bF(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function TF(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):st(`Invalid query segment '${t}' in query '${n}'`)}return e}var iD=function(n,e){let t=AF(n),r=t.namespace;t.domain==="firebase.com"&&Pn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||o1();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Ll(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new fe(t.pathString)}},AF=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=bF(n.substring(u,d)));let f=TF(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")t="localhost";else if(h.split(".").length<=2)t=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Xm=class{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}},eg=class{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var tg=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var ng=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:SD(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){let e=zC(this._queryParams),t=ag(e);return t==="{}"?"default":t}get _queryObject(){return zC(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=AD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+U1(this._path)}};var On=class n extends ng{constructor(e,t){super(e,t,new Pm,!1)}get parent(){let e=TD(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},tu=class n{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new fe(e),r=nu(this.ref,e);return new n(this._node.getChild(t),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new n(i,nu(this.ref,r),Ce)))}hasChild(e){let t=new fe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function gS(n,e){return n=Ot(n),n._checkNotDeleted("ref"),e!==void 0?nu(n._root,e):n._root}function nu(n,e){return n=Ot(n),Z(n._path)===null?lF("child","path",e,!1):cS("child","path",e,!1),new On(n._repo,Pe(n._path,e))}function yS(n,e){n=Ot(n),uF("set",n._path),cF("set",e,n._path,!1);let t=new or;return wF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function vS(n){n=Ot(n);let e=new tg(()=>{}),t=new rg(e);return _F(n._repo,n,t).then(r=>new tu(r,new On(n._repo,n._path),n._queryParams.getIndex()))}var rg=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let r=t._queryParams.getIndex();return new Xm("value",this,new tu(e.snapshotNode,new On(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new eg(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};OL(On);UL(On);var NF="FIREBASE_DATABASE_EMULATOR_HOST",ig={},MF=!1;function RF(n,e,t,r){n.repoInfo_=new Ll(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function xF(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=iD(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[NF]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=iD(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new na(na.OWNER):new gm(n.name,n.options,e);dF("Invalid Firebase Database URL",o),Q(o.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=OF(a,n,u,new mm(n.name,t));return new sg(d,n)}function PF(n,e){let t=ig[e];(!t||t[n.key]!==n)&&Pn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),IF(n),delete t[n.key]}function OF(n,e,t,r){let i=ig[e.name];i||(i={},ig[e.name]=i);let s=i[n.toURLString()];return s&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Jm(n,MF,t,r),i[n.toURLString()]=s,s}var sg=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pn("Cannot call "+e+" on a deleted database.")}};function _S(n=Vo(),e){let t=Up(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=kI("database");r&&wS(t,...r)}return t}function wS(n,e,t,r={}){n=Ot(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Pn("Cannot call useEmulator() after instance has already been initialized.");let i=n._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new na(na.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:FI(r.mockUserToken,n.app.options.projectId);s=new na(o)}RF(i,e,t,s)}function kF(n){r1(ls),lr(new kt("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return xF(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Be(TC,AC,n),Be(TC,AC,"esm2017")}lg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};lg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};kF();var oi=class{constructor(e){return e}},ES="database",bg=class{constructor(){return $o(ES)}};var Tg=new L("angularfire2.database-instances");function LF(n,e){let t=$p(ES,n,e);return t&&new oi(t)}function FF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oi(r)}}var jF={provide:bg,deps:[[new bt,Tg]]},UF={provide:oi,useFactory:LF,deps:[[new bt,Tg],Qr]};function IS(n,...e){return Be("angularfire",ds.full,"rtdb"),Zn([UF,jF,{provide:Tg,useFactory:FF(n),multi:!0,deps:[he,Ht,Ho,zo,[new bt,Pl],[new bt,Bo],...e]}])}var Ag=ur(vS,!0),CS=ur(_S,!0);var Ng=ur(gS,!0);var DS=ur(yS,!0);var gr=(()=>{class n{nameKey="trios-user-name";db=y(oi);username=localStorage.getItem(this.nameKey)??"Guest";storeResult(t,r,i){return w(this,null,function*(){let s=`${t}/${i}/${this.username}`,o=Ng(this.db,s);(yield Ag(o)).exists()||(yield DS(o,{time:r}))})}getTopList(t,r,i=10){return w(this,null,function*(){if(t==="")throw new Error("getTopList called with empty gameId");let s=Ng(this.db,`${t}/${r}`),o=yield Ag(s);if(!o.exists())return[];let a=[];return o.forEach(c=>{let l=c.key,u=c.val().time;a.push({user:l,time:u})}),a.sort((c,l)=>c.time-l.time).slice(0,i)})}getUserName(){return localStorage.getItem(this.nameKey)}setUserName(){let t=localStorage.getItem(this.nameKey);t||(t=prompt("What is your name?"),t?localStorage.setItem(this.nameKey,t):t="Guest"),this.username=t}changeUserName(){let t=prompt("What is your name?");t?localStorage.setItem(this.nameKey,t):t="Guest",this.username=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var du=(()=>{class n{fire(t=3e3){let r=document.getElementById("confetti-canvas");if(!r)return;let i=r.getContext("2d");if(!i)return;let s=r.width=window.innerWidth,o=r.height=window.innerHeight,a=160,c=s/2,l=o*.9,u=600,d=250,f=750,h=65,p=W=>W*Math.PI/180,m=["hsla(0, 100%, 60%, OPACITY)","hsla(30, 100%, 55%, OPACITY)","hsla(45, 100%, 60%, OPACITY)","hsla(0, 0%, 100%, OPACITY)"],g=Array.from({length:a}).map(()=>{let W=-90+(Math.random()*2-1)*h,M=d+Math.random()*(f-d),x=m[Math.floor(Math.random()*m.length)];return{x:c,y:l,vx:Math.cos(p(W))*M,vy:Math.sin(p(W))*M,r:2+Math.random()*4,rot:Math.random()*Math.PI,vr:(-.2+Math.random()*.4)*4,color:x}}),I=performance.now(),N=I,E=1,C=W=>{let M=Math.min(32,W-N)/1e3;N=W;for(let P of g)P.vy+=u*M,P.x+=P.vx*M,P.y+=P.vy*M,P.rot+=P.vr*M;let x=W-I;E=Math.max(0,1-x/t),i.clearRect(0,0,s,o);for(let P of g)i.save(),i.translate(P.x,P.y),i.rotate(P.rot),i.fillStyle=P.color.replace("OPACITY",E.toString()),i.shadowBlur=12,i.shadowColor=i.fillStyle,i.fillRect(-P.r,-P.r,P.r*2,P.r*2),i.restore();x<t?requestAnimationFrame(C):i.clearRect(0,0,s,o)};requestAnimationFrame(C)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VF(n,e){if(n&1){let t=Je();D(0,"button",5),ce("click",function(){je(t);let i=se();return Ue(i.addCards())}),G(1," Add "),Ie(2,"img",6),S()}}function BF(n,e){if(n&1){let t=Je();D(0,"button",5),ce("click",function(){je(t);let i=se();return Ue(i.shuffleCardsTable())}),G(1," Shuffle "),Ie(2,"img",7),S()}}function $F(n,e){if(n&1){let t=Je();D(0,"button",5),ce("click",function(){je(t);let i=se();return Ue(i.giveHint())}),G(1," Hint "),Ie(2,"img",8),S()}}function HF(n,e){if(n&1){let t=Je();D(0,"button",5),ce("click",function(){je(t);let i=se();return Ue(i.showToplist())}),G(1," Toplist "),Ie(2,"img",9),S()}}var fu=(()=>{class n{ShowTopList=new ae;GiveHint=new ae;ShuffleCardsTable=new ae;AddCards=new ae;showToplist(){this.ShowTopList.emit()}giveHint(){this.GiveHint.emit()}shuffleCardsTable(){this.ShuffleCardsTable.emit()}addCards(){this.AddCards.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-game-buttons"]],outputs:{ShowTopList:"ShowTopList",GiveHint:"GiveHint",ShuffleCardsTable:"ShuffleCardsTable",AddCards:"AddCards"},standalone:!0,features:[Te],decls:10,vars:4,consts:[[1,"outer-buttons"],[1,"buttons"],[1,"poker-btn"],["routerLink","",1,"poker-btn"],[1,"icon"],[1,"poker-btn",3,"click"],["src","icons/addcard.svg","alt","","height","20px",1,"icon"],["src","icons/shuffle.svg","alt","","height","20px",1,"icon"],["src","icons/hint.svg","alt","","height","20px",1,"icon"],["src","icons/toplist.svg","alt","",1,"icon"]],template:function(r,i){r&1&&(D(0,"div",0)(1,"div",1),xe(2,VF,3,0,"button",2)(3,BF,3,0,"button",2)(4,$F,3,0,"button",2)(5,HF,3,0,"button",2),S(),D(6,"button",3),G(7," Home "),D(8,"span",4),G(9,"\u{1F3E0}"),S()()()),r&2&&(F(2),Se(i.AddCards.observed?2:-1),F(),Se(i.ShuffleCardsTable.observed?3:-1),F(),Se(i.GiveHint.observed?4:-1),F(),Se(i.ShowTopList.observed?5:-1))},dependencies:[ul],styles:[".buttons[_ngcontent-%COMP%]{display:inline-flex;gap:1vw;max-width:100%}.outer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;overflow:auto;padding:5px 5px 10px}"]})}return n})();function zF(n,e){n&1&&(D(0,"td"),G(1,"No results today yet."),S())}function WF(n,e){if(n&1&&(D(0,"tr")(1,"td"),G(2),S(),D(3,"td",1),G(4),S(),D(5,"td"),G(6),S()()),n&2){let t=e.$implicit,r=e.$index,i=se();F(2),Mt("",r+1,"."),F(2),Nt(t.user),F(2),Nt(i.formatTime(t.time))}}var hu=(()=>{class n{data=y(gr);Date="";GameName="";onClose=new ae;Toplist=[];constructor(){}formatTime(t){return We.formatTime(t)}ngOnChanges(){this.getTopList()}getTopList(){this.data.getTopList(this.Date,this.GameName).then(t=>{this.Toplist=t})}close(){this.onClose.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-top-list"]],inputs:{Date:"Date",GameName:"GameName"},outputs:{onClose:"onClose"},standalone:!0,features:[Pr,Te],decls:5,vars:3,consts:[[3,"click","Visible","Message"],[1,"name"]],template:function(r,i){r&1&&(D(0,"app-dialog",0),ce("click",function(){return i.close()}),D(1,"table"),xe(2,zF,2,0,"td"),Qs(3,WF,7,3,"tr",null,Vc),S()()),r&2&&(ye("Visible",!0)("Message",""),F(2),Se(i.Toplist.length==0?2:-1),F(),Zs(i.Toplist))},dependencies:[ss]})}return n})();function GF(n,e){if(n&1){let t=Je();D(0,"app-cards-grid",13),ce("Selected",function(i){je(t);let s=se();return Ue(s.cardSelected(i))})("UnSelected",function(i){je(t);let s=se();return Ue(s.cardUnSelected(i))}),S()}if(n&2){let t=se();ye("Cards",t.DealtCards)("UniqueIds",!0)}}function qF(n,e){if(n&1){let t=Je();D(0,"app-top-list",14),ce("onClose",function(){je(t);let i=se();return Ue(i.ShowToplist=!1)}),S()}if(n&2){let t=se();ye("Date",t.Today)("GameName",t.GameName)}}var Mg=(()=>{class n{data=y(gr);randomService=y(un);route=y(Wt);router=y(Mn);confetti=y(du);GameName="puzzle";GameType="daily";title="Card Matching";Deck=new Pt;SelectedCards=[];DealtCards=[];Found=[];FoundIds=[];ExistingIds=[];SetCount=0;TotalSeconds=0;Time="00:00";Started=new Date().getTime();TimeHandle=null;showDialog=!1;dialogMessage="";Today=We.getToday();HintCount=0;UserName=this.data.getUserName();Toplist=[];ShowToplist=!1;GameId="";RenderGrid=!0;constructor(){this.route.params.subscribe(t=>{let r=t.id;r?this.startRandom(r):this.startDaily()})}cardsGrid;showToplist(){this.data.getTopList(this.Today,this.GameName).then(t=>{this.Toplist=t,this.ShowToplist=!0})}shuffleDealtCards(){this.DealtCards=this.cardsGrid.shuffleDealtCards()}startTime(){this.TimeHandle=setInterval(()=>{let r=new Date().getTime()-this.Started,i=Math.floor(r/1e3);i+=this.HintCount*60,this.TotalSeconds=i;let s=We.formatTime(i);this.Time=s},1e3)}cardUnSelected(t){let r=this.SelectedCards.indexOf(t);r>-1&&this.SelectedCards.splice(r,1)}shake(t){t.forEach(r=>r.Shake=!0),setTimeout(()=>t.forEach(r=>r.Shake=!1),450)}cardSelected(t){let r=this.SelectedCards;if(r.push(t),r.length==3)if(Pt.isSet(r[0],r[1],r[2])){r.forEach(s=>s.Selected=!1);let i=this.getId(this.SelectedCards);this.FoundIds.indexOf(i)==-1?(this.FoundIds.push(i),this.Found.push(structuredClone(this.SelectedCards)),this.SelectedCards.forEach(s=>this.blink(s)),this.Found.length===this.SetCount&&(this.data.storeResult(this.Today,this.TotalSeconds,this.GameName),clearInterval(this.TimeHandle),this.dialogMessage="Your time is "+this.Time,this.showDialog=!0,this.confetti.fire(1200))):this.Found.forEach(s=>{let o=this.getId(s);i===o&&s.forEach(a=>this.blink(a))}),this.SelectedCards=[]}else this.shake(r),setTimeout(()=>{this.SelectedCards.forEach(i=>i.Selected=!1),this.SelectedCards=[]},500)}getId(t){return t.sort((i,s)=>i.Id-s.Id).map(i=>i.Id).join("_")}dealCards(){for(this.addRandomcard();this.DealtCards.length<11&&(this.addRandomcard(),this.DealtCards.length!==11);){let i=this.DealtCards.length,s=this.DealtCards[i-1],o=this.DealtCards[i-2];this.createSetOrAddRandom(s,o)}let t=this.DealtCards[10],r=this.DealtCards[0];this.createSetOrAddRandom(t,r),this.DealtCards=this.randomService.shuffelArray(this.DealtCards)}createSetOrAddRandom(t,r){let i=this.Deck.findMissingSetCard(t,r);i&&!this.DealtCards.find(s=>s.Id===i.Id)?this.DealtCards.push(i):this.addRandomcard()}addRandomcard(){let t=this.randomService.getRandomInt(0,80),r=this.Deck.Cards[t];this.DealtCards.find(i=>i.Id===r.Id)?this.addRandomcard():this.DealtCards.push(r)}countSets(){let t=[];for(let r=0;r<this.DealtCards.length;r++)for(let i=r+1;i<this.DealtCards.length;i++)for(let s=i+1;s<this.DealtCards.length;s++)if(Pt.isSet(this.DealtCards[r],this.DealtCards[i],this.DealtCards[s])){let o=this.getId([this.DealtCards[r],this.DealtCards[i],this.DealtCards[s]]);t.indexOf(o)<0&&t.push(o)}this.SetCount=t.length,this.ExistingIds=t}giveHint(){for(let t of this.ExistingIds){let r=t;if(this.FoundIds.indexOf(r)==-1){let i=r.split("_"),s=this.HintCount%2==0?i[0]:i[1],o=this.DealtCards.find(a=>a.Id===parseInt(s));o&&this.blink(o),this.HintCount++;return}}}blink(t){t.Blink=!0,setTimeout(()=>{t.Blink=!1},500)}changeUserName(){this.data.changeUserName()}formatTime(t){return We.formatTime(t)}restart(){this.GameType==="daily"?this.startDaily():this.GameType==="random"&&this.router.navigate(["/game",un.generateRandomId()])}startRandom(t){this.GameType="random",this.GameId=t,this.randomService.setSeed(t),this.startGame()}startDaily(){this.GameType="daily",this.randomService.setTodaySeed(),this.startGame()}startGame(){this.RenderGrid=!1,setTimeout(()=>{this.SelectedCards=[],this.DealtCards=[],this.Found=[],this.FoundIds=[],this.ExistingIds=[],this.SetCount=0,this.Time="00:00",this.TotalSeconds=0,this.HintCount=0,this.Started=new Date().getTime(),this.showDialog=!1,this.dialogMessage="",this.Today=We.getToday(),this.Deck=new Pt,this.Deck.Cards=this.randomService.shuffelArray(this.Deck.Cards),this.dealCards(),this.countSets(),this.startTime(),this.RenderGrid=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-root"]],viewQuery:function(r,i){if(r&1&&Bc(os,5),r&2){let s;Js(s=Xs())&&(i.cardsGrid=s.first)}},standalone:!0,features:[Te],decls:21,vars:10,consts:[[3,"ShowTopList","GiveHint","ShuffleCardsTable"],[1,"card-container"],[1,"sub-header"],["id","cards-grid",3,"Cards","UniqueIds"],[1,"founds-container"],[1,"found-count"],[3,"Cards"],[1,"usertime"],["href","#",1,"user",3,"click"],[1,"time"],[3,"click","PlayAgain","Visible","Message"],[3,"Date","GameName"],["id","confetti-canvas",1,"confetti"],["id","cards-grid",3,"Selected","UnSelected","Cards","UniqueIds"],[3,"onClose","Date","GameName"]],template:function(r,i){r&1&&(D(0,"app-game-buttons",0),ce("ShowTopList",function(){return i.showToplist()})("GiveHint",function(){return i.giveHint()})("ShuffleCardsTable",function(){return i.shuffleDealtCards()}),S(),D(1,"div",1)(2,"div")(3,"div",2)(4,"span"),G(5),S(),D(6,"span"),G(7),S()(),xe(8,GF,1,2,"app-cards-grid",3),S(),D(9,"div",4)(10,"div",5),G(11),S(),Ie(12,"app-cards-grid",6),S()(),D(13,"div",7)(14,"a",8),ce("click",function(){return i.changeUserName()}),G(15),S(),D(16,"div",9),G(17),S()(),D(18,"app-dialog",10),ce("click",function(){return i.showDialog=!1})("PlayAgain",function(){return i.restart()}),S(),xe(19,qF,1,2,"app-top-list",11),Ie(20,"canvas",12)),r&2&&(F(5),Mt("Find ",i.SetCount,""),F(2),Nt(i.GameType=="random"?"Id: "+i.GameId:i.Today),F(),Se(i.RenderGrid?8:-1),F(3),Mt("Found ",i.Found.length,""),F(),ye("Cards",i.Found.flat()),F(3),Nt(i.UserName),F(2),Nt(i.Time),F(),ye("Visible",i.showDialog)("Message",i.dialogMessage),F(),Se(i.ShowToplist?19:-1))},dependencies:[Ur,ss,os,fu,hu],styles:[".card-container[_ngcontent-%COMP%]{display:flex}@media (orientation: landscape){.card-container[_ngcontent-%COMP%]{flex-direction:row}}@media (orientation: portrait){.card-container[_ngcontent-%COMP%]{flex-direction:column}}@media (orientation: landscape){.table[_ngcontent-%COMP%]{max-width:50vw}}.founds-container[_ngcontent-%COMP%]{font-size:x-large;margin-left:1em;scale:.6;transform-origin:top left}@media (orientation: portrait){.founds-container[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}}.founds-container[_ngcontent-%COMP%]   .found-count[_ngcontent-%COMP%]{display:block;text-align:left}.founds-container[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]{margin-right:5px}.founds-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:8px}.sub-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.confetti[_ngcontent-%COMP%]{position:fixed;pointer-events:none;inset:0}.usertime[_ngcontent-%COMP%]{position:absolute;bottom:1em;right:1em}.time[_ngcontent-%COMP%]{font-size:1.5em}"]})}return n})();var KF=()=>["/game"],YF=()=>["/solitaire"],Rg=(()=>{class n{router;constructor(t){this.router=t}navigateToRandomPuzzle(){let t=this.getRandomId();this.router.navigate(["/game",t])}navigateToRandomSolitaire(){let t=this.getRandomId();this.router.navigate(["/solitaire",t])}getRandomId(){return un.generateRandomId()}static \u0275fac=function(r){return new(r||n)(_e(Mn))};static \u0275cmp=be({type:n,selectors:[["app-start-page"]],standalone:!0,features:[Te],decls:31,vars:4,consts:[[1,"start-title"],[1,"mode-grid"],[1,"mode-card"],[1,"mode-head"],["aria-hidden","true",1,"chip","chip-blue"],[1,"mode-actions"],[1,"poker-btn",3,"routerLink"],[1,"poker-btn",3,"click"],["aria-hidden","true",1,"chip","chip-amber"]],template:function(r,i){r&1&&(D(0,"h1",0),G(1,"The Card Matching Game"),S(),D(2,"section",1)(3,"article",2)(4,"header",3)(5,"span",4),G(6,"\u{1F9E9}"),S(),D(7,"div")(8,"h2"),G(9,"Puzzle"),S(),D(10,"p"),G(11,"Find matching cards \u2014 daily or endless random."),S()()(),D(12,"div",5)(13,"button",6),G(14,"Daily Puzzle"),S(),D(15,"button",7),ce("click",function(){return i.navigateToRandomPuzzle()}),G(16," Random Puzzle "),S()()(),D(17,"article",2)(18,"header",3)(19,"span",8),G(20,"\u{1F0CF}"),S(),D(21,"div")(22,"h2"),G(23,"Solitaire"),S(),D(24,"p"),G(25,"Solo mode \u2014 new board every day or shuffle forever."),S()()(),D(26,"div",5)(27,"button",6),G(28," Daily Solitaire "),S(),D(29,"button",7),ce("click",function(){return i.navigateToRandomSolitaire()}),G(30," Random Solitaire "),S()()()()),r&2&&(F(13),ye("routerLink",eo(2,KF)),F(14),ye("routerLink",eo(3,YF)))},dependencies:[ul],styles:[".start-title[_ngcontent-%COMP%]{text-align:center;margin:.6rem 0 1.2rem;font-weight:700;letter-spacing:.3px}.mode-grid[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:0 16px 24px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}.mode-card[_ngcontent-%COMP%]{background:#00000059;border:1px solid rgba(255,255,255,.14);border-radius:16px;box-shadow:0 10px 20px #00000073,inset 0 1px #ffffff0f;padding:14px 14px 16px;display:grid;grid-template-rows:auto 1fr;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}.mode-wide[_ngcontent-%COMP%]{grid-column:span 2}@media (max-width: 720px){.mode-wide[_ngcontent-%COMP%]{grid-column:auto}}.mode-head[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:10px;align-items:center}.mode-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.15rem;color:#fff}.mode-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#cfcfcf;opacity:.85;font-size:.95rem}.chip[_ngcontent-%COMP%]{width:44px;height:44px;display:grid;place-items:center;border-radius:50%;font-size:22px;box-shadow:0 4px 10px #0006,inset 0 2px 6px #fff3;border:2px solid rgba(255,255,255,.25);background:radial-gradient(circle at 30% 30%,#ffffff40,#fff0 60%),#00000059}.chip-blue[_ngcontent-%COMP%]{background-color:#38bdf859}.chip-amber[_ngcontent-%COMP%]{background-color:#f59e0b59}.chip-red[_ngcontent-%COMP%]{background-color:#ef444459}.mode-actions[_ngcontent-%COMP%]{margin-top:10px;display:grid;grid-template-columns:1fr 1fr;gap:10px}.mode-actions.single[_ngcontent-%COMP%]{grid-template-columns:1fr}.mode-actions[_ngcontent-%COMP%]   .poker-btn[_ngcontent-%COMP%]{justify-content:center;width:100%;min-width:0}"]})}return n})();function QF(n,e){if(n&1){let t=Je();D(0,"app-cards-grid",11),ce("Selected",function(i){je(t);let s=se();return Ue(s.cardSelected(i))})("UnSelected",function(i){je(t);let s=se();return Ue(s.cardUnSelected(i))}),S()}if(n&2){let t=se();ye("Cards",t.DealtCards)("UniqueIds",!0)}}function ZF(n,e){if(n&1){let t=Je();D(0,"app-top-list",12),ce("onClose",function(){je(t);let i=se();return Ue(i.ShowToplist=!1)}),S()}if(n&2){let t=se();ye("Date",t.Today)("GameName",t.GameName)}}var xg=(()=>{class n{randomService=y(un);route=y(Wt);router=y(Mn);data=y(gr);confetti=y(du);GameName="solitaire";GameType="daily";GameId="";Today=We.getToday();RenderGrid=!0;DealtCards=[];FoundSets=0;Deck=new Pt;SelectedCards=[];Time="00:00";TotalSeconds=0;Started=new Date().getTime();TimeHandle=null;showDialog=!1;dialogMessage="";ShowToplist=!1;Hints=0;UserName=this.data.getUserName();cardsGrid;constructor(){this.route.params.subscribe(t=>{let r=t.id;r?this.startRandom(r):this.startDaily()})}cardSelected(t){let r=this.SelectedCards;r.push(t),r.length==3&&(Pt.isSet(r[0],r[1],r[2])?(this.FoundSets++,this.dealNewCards()):this.shake(r),setTimeout(()=>{r.forEach(i=>i.Selected=!1),this.SelectedCards=[],this.checkForWin()},500))}checkForWin(){this.Deck.Cards.length===0&&(this.hasSet(!1)||(clearInterval(this.TimeHandle),this.TimeHandle=null,this.storeResult(),this.dialogMessage=`You finished in ${this.Time}`,this.showDialog=!0,this.confetti.fire()))}storeResult(){this.data.storeResult(this.Today,this.TotalSeconds,this.GameName)}dealNewCards(){let t=this.DealtCards.filter(s=>s.Selected).map(s=>s.Id),r=this.DealtCards.length<=12,i=0;t.forEach((s,o)=>{let a=this.Deck.Cards.pop();a&&r?setTimeout(()=>{let c=this.DealtCards.findIndex(l=>l.Id===s);c!==-1&&this.DealtCards.splice(c,1,a)},30*o):i++}),i>0&&(this.DealtCards=this.cardsGrid.removeCards(t))}shake(t){t.forEach(r=>r.Shake=!0),setTimeout(()=>t.forEach(r=>r.Shake=!1),450)}cardUnSelected(t){let r=this.SelectedCards.indexOf(t);r>-1&&this.SelectedCards.splice(r,1)}shuffleDealtCards(){this.DealtCards=this.cardsGrid.shuffleDealtCards()}hasSet(t){for(let r=0;r<this.DealtCards.length;r++)for(let i=r+1;i<this.DealtCards.length;i++)for(let s=i+1;s<this.DealtCards.length;s++)if(Pt.isSet(this.DealtCards[r],this.DealtCards[i],this.DealtCards[s]))return t&&(this.Hints%2===0?this.blink(this.DealtCards[r]):this.blink(this.DealtCards[i]),this.Hints++),!0;return!1}blink(t){t.Blink=!0,setTimeout(()=>{t.Blink=!1},500)}showToplist(){this.ShowToplist=!0}restart(){this.GameType==="daily"?this.startDaily():this.GameType==="random"&&this.router.navigate(["/solitaire",un.generateRandomId()])}startRandom(t){this.GameType="random",this.GameId=t,this.randomService.setSeed(t),this.startGame()}startDaily(){this.GameType="daily",this.randomService.setTodaySeed(),this.startGame()}startGame(){this.RenderGrid=!1,setTimeout(()=>{this.SelectedCards=[],this.DealtCards=[],this.Time="00:00",this.TotalSeconds=0,this.Hints=0,this.Started=new Date().getTime(),this.showDialog=!1,this.dialogMessage="",this.Today=We.getToday(),this.Deck=new Pt,this.Deck.Cards=this.randomService.shuffelArray(this.Deck.Cards),this.dealCards(12),this.startTime(),this.RenderGrid=!0})}startTime(){this.TimeHandle=setInterval(()=>{let r=new Date().getTime()-this.Started,i=Math.floor(r/1e3);i+=this.Hints*30,this.TotalSeconds=i;let s=We.formatTime(i);this.Time=s},1e3)}dealThreeCards(){this.hasSet(!0)||this.dealCards(3)}dealCards(t){for(let r=0;r<t;r++){let i=this.Deck.Cards.pop();i&&this.DealtCards.push(i)}}changeUserName(){this.data.changeUserName()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-solitaire"]],viewQuery:function(r,i){if(r&1&&Bc(os,5),r&2){let s;Js(s=Xs())&&(i.cardsGrid=s.first)}},standalone:!0,features:[Te],decls:22,vars:9,consts:[[3,"ShowTopList","GiveHint","ShuffleCardsTable","AddCards"],[1,"card-container"],[1,"sub-header"],["id","cards-grid",3,"Cards","UniqueIds"],[1,"founds-container"],[1,"usertime"],["href","#",1,"user",3,"click"],[1,"time"],[3,"click","PlayAgain","Visible","Message"],[3,"Date","GameName"],["id","confetti-canvas",1,"confetti"],["id","cards-grid",3,"Selected","UnSelected","Cards","UniqueIds"],[3,"onClose","Date","GameName"]],template:function(r,i){r&1&&(D(0,"app-game-buttons",0),ce("ShowTopList",function(){return i.showToplist()})("GiveHint",function(){return i.hasSet(!0)})("ShuffleCardsTable",function(){return i.shuffleDealtCards()})("AddCards",function(){return i.dealThreeCards()}),S(),D(1,"div",1)(2,"div")(3,"div",2)(4,"span"),G(5,"Find all trios in the deck"),S(),D(6,"span"),G(7),S()(),xe(8,QF,1,2,"app-cards-grid",3),S(),D(9,"div",4)(10,"p"),G(11),S(),D(12,"p"),G(13),S()()(),D(14,"div",5)(15,"a",6),ce("click",function(){return i.changeUserName()}),G(16),S(),D(17,"div",7),G(18),S()(),D(19,"app-dialog",8),ce("click",function(){return i.showDialog=!1})("PlayAgain",function(){return i.restart()}),S(),xe(20,ZF,1,2,"app-top-list",9),Ie(21,"canvas",10)),r&2&&(F(7),Nt(i.GameType=="random"?"Id: "+i.GameId:i.Today),F(),Se(i.RenderGrid?8:-1),F(3),Mt("Found trios: ",i.FoundSets,""),F(2),Mt("Remaining cards: ",i.Deck.Cards.length,""),F(3),Nt(i.UserName),F(2),Nt(i.Time),F(),ye("Visible",i.showDialog)("Message",i.dialogMessage),F(),Se(i.ShowToplist?20:-1))},dependencies:[fu,os,ss,hu],styles:[".sub-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-container[_ngcontent-%COMP%]{display:flex}@media (orientation: landscape){.card-container[_ngcontent-%COMP%]{flex-direction:row}}@media (orientation: portrait){.card-container[_ngcontent-%COMP%]{flex-direction:column}}.founds-container[_ngcontent-%COMP%]{margin-left:10px}@media (orientation: portrait){.founds-container[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}}.usertime[_ngcontent-%COMP%]{position:absolute;bottom:1em;right:1em}.time[_ngcontent-%COMP%]{font-size:1.5em}.confetti[_ngcontent-%COMP%]{position:fixed;pointer-events:none;inset:0}"]})}return n})();var SS=[{path:"",component:Rg},{path:"solitaire",component:xg},{path:"solitaire/:id",component:xg},{path:"game",component:Mg},{path:"game/:id",component:Mg},{path:"**",component:Rg}];function bS(n){return new v(3e3,!1)}function JF(){return new v(3100,!1)}function XF(){return new v(3101,!1)}function ej(n){return new v(3001,!1)}function tj(n){return new v(3003,!1)}function nj(n){return new v(3004,!1)}function rj(n,e){return new v(3005,!1)}function ij(){return new v(3006,!1)}function sj(){return new v(3007,!1)}function oj(n,e){return new v(3008,!1)}function aj(n){return new v(3002,!1)}function cj(n,e,t,r,i){return new v(3010,!1)}function lj(){return new v(3011,!1)}function uj(){return new v(3012,!1)}function dj(){return new v(3200,!1)}function fj(){return new v(3202,!1)}function hj(){return new v(3013,!1)}function pj(n){return new v(3014,!1)}function mj(n){return new v(3015,!1)}function gj(n){return new v(3016,!1)}function yj(n,e){return new v(3404,!1)}function vj(n){return new v(3502,!1)}function _j(n){return new v(3503,!1)}function wj(){return new v(3300,!1)}function Ej(n){return new v(3504,!1)}function Ij(n){return new v(3301,!1)}function Cj(n,e){return new v(3302,!1)}function Dj(n){return new v(3303,!1)}function Sj(n,e){return new v(3400,!1)}function bj(n){return new v(3401,!1)}function Tj(n){return new v(3402,!1)}function Aj(n,e){return new v(3505,!1)}function yr(n){switch(n.length){case 0:return new sr;case 1:return n[0];default:return new To(n)}}function VS(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((f,h)=>{let p=h,m=f;if(h!=="offset")switch(p=n.normalizePropertyName(p,i),m){case fl:m=t.get(h);break;case dn:m=r.get(h);break;default:m=n.normalizeStyleValue(h,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=l}),i.length)throw vj(i);return s}function ty(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Pg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Pg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Pg(t,"destroy",n)));break}}function Pg(n,e,t){let r=t.totalTime,i=!!t.disabled,s=ny(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function ny(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function vt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function TS(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Nj=typeof document>"u"?null:document.documentElement;function ry(n){let e=n.parentNode||n.host||null;return e===Nj?null:e}function Mj(n){return n.substring(1,6)=="ebkit"}var ai=null,AS=!1;function Rj(n){ai||(ai=xj()||{},AS=ai.style?"WebkitAppearance"in ai.style:!1);let e=!0;return ai.style&&!Mj(n)&&(e=n in ai.style,!e&&AS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ai.style)),e}function xj(){return typeof document<"u"?document.body:null}function BS(n,e){for(;e;){if(e===n)return!0;e=ry(e)}return!1}function $S(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var iy=(()=>{class n{validateStyleProperty(t){return Rj(t)}containsElement(t,r){return BS(t,r)}getParentElement(t){return ry(t)}query(t,r,i){return $S(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new sr(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})(),ui=class{static{this.NOOP=new iy}},di=class{};var Pj=1e3,HS="{{",Oj="}}",zS="ng-enter",Ug="ng-leave",pu="ng-trigger",_u=".ng-trigger",NS="ng-animating",Vg=".ng-animating";function kn(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bg(parseFloat(e[1]),e[2])}function Bg(n,e){switch(e){case"s":return n*Pj;default:return n}}function wu(n,e,t){return n.hasOwnProperty("duration")?n:kj(n,e,t)}function kj(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(bS(n)),{duration:0,delay:0,easing:""};i=Bg(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=Bg(parseFloat(c),a[4]));let l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(JF()),a=!0),s<0&&(e.push(XF()),a=!0),a&&e.splice(c,0,bS(n))}return{duration:i,delay:s,easing:o}}function Lj(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function _n(n,e,t){e.forEach((r,i)=>{let s=sy(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function li(n,e){e.forEach((t,r)=>{let i=sy(r);n.style[i]=""})}function va(n){return Array.isArray(n)?n.length==1?n[0]:SI(n):n}function Fj(n,e,t){let r=e.params||{},i=WS(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(ej(s))})}var $g=new RegExp(`${HS}\\s*(.+?)\\s*${Oj}`,"g");function WS(n){let e=[];if(typeof n=="string"){let t;for(;t=$g.exec(n);)e.push(t[1]);$g.lastIndex=0}return e}function wa(n,e,t){let r=`${n}`,i=r.replace($g,(s,o)=>{let a=e[o];return a==null&&(t.push(tj(o)),a=""),a.toString()});return i==r?n:i}var jj=/-+([a-z0-9])/g;function sy(n){return n.replace(jj,(...e)=>e[1].toUpperCase())}function Uj(n,e){return n===0||e===0}function Vj(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,oy(n,a)))}}return e}function yt(n,e,t){switch(e.type){case j.Trigger:return n.visitTrigger(e,t);case j.State:return n.visitState(e,t);case j.Transition:return n.visitTransition(e,t);case j.Sequence:return n.visitSequence(e,t);case j.Group:return n.visitGroup(e,t);case j.Animate:return n.visitAnimate(e,t);case j.Keyframes:return n.visitKeyframes(e,t);case j.Style:return n.visitStyle(e,t);case j.Reference:return n.visitReference(e,t);case j.AnimateChild:return n.visitAnimateChild(e,t);case j.AnimateRef:return n.visitAnimateRef(e,t);case j.Query:return n.visitQuery(e,t);case j.Stagger:return n.visitStagger(e,t);default:throw nj(e.type)}}function oy(n,e){return window.getComputedStyle(n)[e]}var Bj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Eu=class extends di{normalizePropertyName(e,t){return sy(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(Bj.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(rj(e,r))}return o+s}};var Iu="*";function $j(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>Hj(r,t,e)):t.push(n),t}function Hj(n,e,t){if(n[0]==":"){let c=zj(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(mj(n)),e;let i=r[1],s=r[2],o=r[3];e.push(MS(i,o));let a=i==Iu&&o==Iu;s[0]=="<"&&!a&&e.push(MS(o,i))}function zj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(gj(n)),"* => *"}}var mu=new Set(["true","1"]),gu=new Set(["false","0"]);function MS(n,e){let t=mu.has(n)||gu.has(n),r=mu.has(e)||gu.has(e);return(i,s)=>{let o=n==Iu||n==i,a=e==Iu||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?mu.has(n):gu.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?mu.has(e):gu.has(e)),o&&a}}var GS=":self",Wj=new RegExp(`s*${GS}s*,?`,"g");function qS(n,e,t,r){return new Hg(n).build(e,t,r)}var RS="",Hg=class{constructor(e){this._driver=e}build(e,t,r){let i=new zg(t);return this._resetContextStyleTimingState(i),yt(this,va(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=RS,e.collectedStyles=new Map,e.collectedStyles.set(RS,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(ij()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==j.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,t))}),c.name=l}else if(a.type==j.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(sj())}),{type:j.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{WS(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&t.errors.push(oj(e.name,[...s.values()]))}return{type:j.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=yt(this,va(e.animation),t),i=$j(e.expr,t.errors);return{type:j.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ci(e.options)}}visitSequence(e,t){return{type:j.Sequence,steps:e.steps.map(r=>yt(this,r,t)),options:ci(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=yt(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:j.Group,steps:s,options:ci(e.options)}}visitAnimate(e,t){let r=Yj(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Xe({});if(s.type==j.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=Xe(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:j.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===dn?r.push(a):t.errors.push(aj(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(HS)>=0){s=!0;break}}}),{type:j.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(cj(c,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:i}),t.options&&Fj(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:j.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(lj()),r;let i=1,s=0,o=[],a=!1,c=!1,l=0,u=e.steps.map(I=>{let N=this._makeStyleAst(I,t),E=N.offset!=null?N.offset:Kj(N.styles),C=0;return E!=null&&(s++,C=N.offset=E),c=c||C<0||C>1,a=a||C<l,l=C,o.push(C),N});c&&t.errors.push(uj()),a&&t.errors.push(dj());let d=e.steps.length,f=0;s>0&&s<d?t.errors.push(fj()):s==0&&(f=i/(d-1));let h=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((I,N)=>{let E=f>0?N==h?1:f*N:o[N],C=E*g;t.currentTime=p+m.delay+C,m.duration=C,this._validateStyleAst(I,t),I.offset=E,r.styles.push(I)}),r}visitReference(e,t){return{type:j.Reference,animation:yt(this,va(e.animation),t),options:ci(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:j.AnimateChild,options:ci(e.options)}}visitAnimateRef(e,t){return{type:j.AnimateRef,animation:this.visitReference(e.animation,t),options:ci(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Gj(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,vt(t.collectedStyles,t.currentQuerySelector,new Map);let a=yt(this,va(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:j.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ci(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(hj());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wu(e.timings,t.errors,!0);return{type:j.Stagger,animation:yt(this,va(e.animation),t),timings:r,options:null}}};function Gj(n){let e=!!n.split(/\s*,\s*/).find(t=>t==GS);return e&&(n=n.replace(Wj,"")),n=n.replace(/@\*/g,_u).replace(/@\w+/g,t=>_u+"-"+t.slice(1)).replace(/:animating/g,Vg),[n,e]}function qj(n){return n?b({},n):null}var zg=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Kj(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Yj(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=wu(n,e).duration;return Og(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Og(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=wu(t,e);return Og(i.duration,i.delay,i.easing)}function ci(n){return n?(n=b({},n),n.params&&(n.params=qj(n.params))):n={},n}function Og(n,e,t){return{duration:n,delay:e,easing:t}}function ay(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Ea=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Qj=1,Zj=":enter",Jj=new RegExp(Zj,"g"),Xj=":leave",eU=new RegExp(Xj,"g");function KS(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return new Wg().buildKeyframes(n,e,t,r,i,s,o,a,c,l)}var Wg=class{buildKeyframes(e,t,r,i,s,o,a,c,l,u=[]){l=l||new Ea;let d=new Gg(e,t,l,i,s,u,[]);d.options=c;let f=c.delay?kn(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,c),yt(this,r,d);let h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){let g=h[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[ay(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:kn(wa(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?kn(r.duration):null,a=r.delay!=null?kn(r.delay):null;return o!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),yt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==j.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cu);let o=kn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>yt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?kn(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),yt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?wa(r,t.params,t.errors):r;return wu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==j.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?kn(i.delay):0;s&&(t.previousNode.type===j.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cu);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(c=d.currentTimeline),yt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;yt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Cu={},Gg=class n{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Du(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=kn(r.duration)),r.delay!=null&&(i.delay=kn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=wa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Cu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new qg(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Jj,"."+this._enterClassName),e=e.replace(eU,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(pj(t)),a}},Du=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Qj,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||dn),this._currentKeyframe.set(t,dn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=tU(e,this._globalTimelineStyles);for(let[a,c]of o){let l=wa(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??dn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===fl?e.add(d):u===dn&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return ay(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},qg=class extends Du{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let l=new Map(e[0]);l.set("offset",xS(a)),s.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),p=t+h*r;f.set("offset",xS(p/o)),s.push(f)}r=o,t=0,i="",e=s}return ay(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function xS(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function tU(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,dn)}else for(let[s,o]of i)t.set(s,o)}),t}function PS(n,e,t,r,i,s,o,a,c,l,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}var kg={},Su=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return nU(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,u){let d=[],f=this.ast.options&&this.ast.options.params||kg,h=a&&a.params||kg,p=this.buildStyles(r,h,d),m=c&&c.params||kg,g=this.buildStyles(i,m,d),I=new Set,N=new Map,E=new Map,C=i==="void",W={params:YS(m,f),delay:this.ast.options?.delay},M=u?[]:KS(e,t,this.ast.animation,s,o,p,g,W,l,d),x=0;return M.forEach(P=>{x=Math.max(P.duration+P.delay,x)}),d.length?PS(t,this._triggerName,r,i,C,p,g,[],[],N,E,x,d):(M.forEach(P=>{let ge=P.element,De=vt(N,ge,new Set);P.preStyleProps.forEach(Oe=>De.add(Oe));let _t=vt(E,ge,new Set);P.postStyleProps.forEach(Oe=>_t.add(Oe)),ge!==t&&I.add(ge)}),PS(t,this._triggerName,r,i,C,p,g,M,[...I.values()],N,E,x))}};function nU(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function YS(n,e){let t=b({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Kg=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=YS(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=wa(o,i,t));let c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}};function rU(n,e,t){return new Yg(n,e,t)}var Yg=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Kg(i.style,s,r))}),OS(this.states,"true","1"),OS(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Su(e,i,this.states))}),this.fallbackTransition=iU(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function iU(n,e,t){let r=[(o,a)=>!0],i={type:j.Sequence,steps:[],options:null},s={type:j.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Su(n,s,e)}function OS(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var sU=new Ea,Qg=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=qS(this._driver,t,r,i);if(r.length)throw _j(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=VS(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=KS(this._driver,t,s,zS,Ug,new Map,new Map,r,sU,i),o.forEach(u=>{let d=vt(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(wj()),o=[]),i.length)throw Ej(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,dn))})});let c=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=yr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ij(e);return t}listen(e,t,r,i){let s=ny(t,"","","");return ty(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},kS="ng-animate-queued",oU=".ng-animate-queued",Lg="ng-animate-disabled",aU=".ng-animate-disabled",cU="ng-star-inserted",lU=".ng-star-inserted",uU=[],QS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qt="__ng_removed",Ia=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=hU(i),r){let s=e,{value:o}=s,a=dy(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},_a="void",Fg=new Ia(_a),Zg=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ft(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Cj(r,t);if(r==null||r.length==0)throw Dj(t);if(!pU(r))throw Sj(r,t);let s=vt(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=vt(this._engine.statesByElement,e,new Map);return a.has(t)||(Ft(e,pu),Ft(e,pu+"-"+t),a.set(t,Fg)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw bj(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Ca(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ft(e,pu),Ft(e,pu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Ia(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Fg),!(l.value===_a)&&c.value===l.value){if(!yU(c.params,l.params)){let m=[],g=s.matchStyles(c.value,c.params,m),I=s.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{li(e,g),_n(e,I)})}return}let f=vt(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(Ft(e,kS),o.onStart(()=>{bs(e,kS)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let g=this._engine.playersByElement.get(e);if(g){let I=g.indexOf(o);I>=0&&g.splice(I,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,_u,!0);r.forEach(i=>{if(i[Qt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,_a,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&yr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,l=r.get(o)||Fg,u=new Ia(_a),d=new Ca(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[Qt];(!s||s===QS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ft(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=ny(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ty(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Jg=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Zg(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(yu(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!yu(t))return;let s=t[Qt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ft(e,Lg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bs(e,Lg))}removeNode(e,t,r){if(yu(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Qt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return yu(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,_u,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Vg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Qt];if(t&&t.setForRemoval){if(e[Qt]=QS,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Lg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,aU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ft(i,cU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?yr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Tj(e)}_flushAnimations(e,t){let r=new Ea,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(T=>{u.add(T);let R=this.driver.query(T,oU,!0);for(let O=0;O<R.length;O++)u.add(R[O])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=jS(f,this.collectedEnterElements),p=new Map,m=0;h.forEach((T,R)=>{let O=zS+m++;p.set(R,O),T.forEach(re=>Ft(re,O))});let g=[],I=new Set,N=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let R=this.collectedLeaveElements[T],O=R[Qt];O&&O.setForRemoval&&(g.push(R),I.add(R),O.hasAnimation?this.driver.query(R,lU,!0).forEach(re=>I.add(re)):N.add(R))}let E=new Map,C=jS(f,Array.from(I));C.forEach((T,R)=>{let O=Ug+m++;E.set(R,O),T.forEach(re=>Ft(re,O))}),e.push(()=>{h.forEach((T,R)=>{let O=p.get(R);T.forEach(re=>bs(re,O))}),C.forEach((T,R)=>{let O=E.get(R);T.forEach(re=>bs(re,O))}),g.forEach(T=>{this.processLeaveNode(T)})});let W=[],M=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(O=>{let re=O.player,ke=O.element;if(W.push(re),this.collectedEnterElements.length){let Ge=ke[Qt];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(O.triggerName)){let _r=Ge.previousTriggersValues.get(O.triggerName),Et=this.statesByElement.get(O.element);if(Et&&Et.has(O.triggerName)){let Da=Et.get(O.triggerName);Da.value=_r,Et.set(O.triggerName,Da)}}re.destroy();return}}let Zt=!d||!this.driver.containsElement(d,ke),ct=E.get(ke),Fn=p.get(ke),we=this._buildInstruction(O,r,Fn,ct,Zt);if(we.errors&&we.errors.length){M.push(we);return}if(Zt){re.onStart(()=>li(ke,we.fromStyles)),re.onDestroy(()=>_n(ke,we.toStyles)),i.push(re);return}if(O.isFallbackTransition){re.onStart(()=>li(ke,we.fromStyles)),re.onDestroy(()=>_n(ke,we.toStyles)),i.push(re);return}let cy=[];we.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||cy.push(Ge)}),we.timelines=cy,r.append(ke,we.timelines);let rb={instruction:we,player:re,element:ke};o.push(rb),we.queriedElements.forEach(Ge=>vt(a,Ge,[]).push(re)),we.preStyleProps.forEach((Ge,_r)=>{if(Ge.size){let Et=c.get(_r);Et||c.set(_r,Et=new Set),Ge.forEach((Da,Mu)=>Et.add(Mu))}}),we.postStyleProps.forEach((Ge,_r)=>{let Et=l.get(_r);Et||l.set(_r,Et=new Set),Ge.forEach((Da,Mu)=>Et.add(Mu))})});if(M.length){let T=[];M.forEach(R=>{T.push(Aj(R.triggerName,R.errors))}),W.forEach(R=>R.destroy()),this.reportError(T)}let x=new Map,P=new Map;o.forEach(T=>{let R=T.element;r.has(R)&&(P.set(R,R),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,x))}),i.forEach(T=>{let R=T.element;this._getPreviousPlayers(R,!1,T.namespaceId,T.triggerName,null).forEach(re=>{vt(x,R,[]).push(re),re.destroy()})});let ge=g.filter(T=>US(T,c,l)),De=new Map;FS(De,this.driver,N,l,dn).forEach(T=>{US(T,c,l)&&ge.push(T)});let Oe=new Map;h.forEach((T,R)=>{FS(Oe,this.driver,new Set(T),c,fl)}),ge.forEach(T=>{let R=De.get(T),O=Oe.get(T);De.set(T,new Map([...R?.entries()??[],...O?.entries()??[]]))});let wt=[],vr=[],Ln={};o.forEach(T=>{let{element:R,player:O,instruction:re}=T;if(r.has(R)){if(u.has(R)){O.onDestroy(()=>_n(R,re.toStyles)),O.disabled=!0,O.overrideTotalTime(re.totalTime),i.push(O);return}let ke=Ln;if(P.size>1){let ct=R,Fn=[];for(;ct=ct.parentNode;){let we=P.get(ct);if(we){ke=we;break}Fn.push(ct)}Fn.forEach(we=>P.set(we,ke))}let Zt=this._buildAnimation(O.namespaceId,re,x,s,Oe,De);if(O.setRealPlayer(Zt),ke===Ln)wt.push(O);else{let ct=this.playersByElement.get(ke);ct&&ct.length&&(O.parentPlayer=yr(ct)),i.push(O)}}else li(R,re.fromStyles),O.onDestroy(()=>_n(R,re.toStyles)),vr.push(O),u.has(R)&&i.push(O)}),vr.forEach(T=>{let R=s.get(T.element);if(R&&R.length){let O=yr(R);T.setRealPlayer(O)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<g.length;T++){let R=g[T],O=R[Qt];if(bs(R,Ug),O&&O.hasAnimation)continue;let re=[];if(a.size){let Zt=a.get(R);Zt&&Zt.length&&re.push(...Zt);let ct=this.driver.query(R,Vg,!0);for(let Fn=0;Fn<ct.length;Fn++){let we=a.get(ct[Fn]);we&&we.length&&re.push(...we)}}let ke=re.filter(Zt=>!Zt.destroyed);ke.length?mU(this,R,ke):this.processLeaveNode(R)}return g.length=0,wt.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let R=this.players.indexOf(T);this.players.splice(R,1)}),T.play()}),wt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==_a;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==s,d=vt(r,l,[]);this._getPreviousPlayers(l,u,o,a,t.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}li(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,f=t.timelines.map(p=>{let m=p.element;u.add(m);let g=m[Qt];if(g&&g.removedBeforeQueried)return new sr(p.duration,p.delay);let I=m!==c,N=gU((r.get(m)||uU).map(x=>x.getRealPlayer())).filter(x=>{let P=x;return P.element?P.element===m:!1}),E=s.get(m),C=o.get(m),W=VS(this._normalizer,p.keyframes,E,C),M=this._buildPlayer(p,W,N);if(p.subTimeline&&i&&d.add(m),I){let x=new Ca(e,a,m);x.setRealPlayer(M),l.push(x)}return M});l.forEach(p=>{vt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>fU(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ft(p,NS));let h=yr(f);return h.onDestroy(()=>{u.forEach(p=>bs(p,NS)),_n(c,t.toStyles)}),d.forEach(p=>{vt(i,p,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sr(e.duration,e.delay)}},Ca=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ty(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function fU(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function hU(n){return n??null}function yu(n){return n&&n.nodeType===1}function pU(n){return n=="start"||n=="done"}function LS(n,e){let t=n.style.display;return n.style.display=e??"none",t}function FS(n,e,t,r,i){let s=[];t.forEach(c=>s.push(LS(c)));let o=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let f=e.computeStyle(l,d,i);u.set(d,f),(!f||f.length==0)&&(l[Qt]=dU,o.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>LS(c,s[a++])),o}function jS(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=o(l),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&t.get(c).push(a)}),t}function Ft(n,e){n.classList?.add(e)}function bs(n,e){n.classList?.remove(e)}function mU(n,e,t){yr(t).onDone(()=>n.processLeaveNode(e))}function gU(n){let e=[];return ZS(n,e),e}function ZS(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof To?ZS(r.players,e):e.push(r)}}function yU(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function US(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var Ts=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Jg(e.body,t,r),this._timelineEngine=new Qg(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],l=[],u=qS(this._driver,s,c,l);if(c.length)throw yj(i,c);l.length&&void 0,a=rU(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=TS(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=TS(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function vU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=jg(e[0]),e.length>1&&(r=jg(e[e.length-1]))):e instanceof Map&&(t=jg(e)),t||r?new Xg(n,t,r):null}var Xg=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}};function jg(n){let e=null;return n.forEach((t,r)=>{_U(r)&&(e=e||new Map,e.set(r,t))}),e}function _U(n){return n==="display"||n==="position"}var bu=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:oy(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Tu=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return BS(e,t)}getParentElement(e){return ry(e)}query(e,t,r){return $S(e,t,r)}computeStyle(e,t,r){return oy(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let l=new Map,u=o.filter(h=>h instanceof bu);Uj(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>l.set(m,p))});let d=Lj(t).map(h=>new Map(h));d=Vj(e,d,l);let f=vU(e,d);return new bu(e,d,c,f)}};var vu="@",JS="@.disabled",Au=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==vu&&t==JS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ey=class extends Au{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==vu?t.charAt(1)=="."&&t==JS?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==vu){let i=wU(e),s=t.slice(1),o="";return s.charAt(0)!=vu&&([s,o]=EU(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function wU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function EU(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Nu=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Au(r,i,this.engine,d),l.set(i,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return t.data.animation.forEach(a),new ey(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var CU=(()=>{class n extends Ts{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(H(it),H(ui),H(di))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac})}}return n})();function DU(){return new Eu}function SU(n,e,t){return new Nu(n,e,t)}var XS=[{provide:di,useFactory:DU},{provide:Ts,useClass:CU},{provide:qn,useFactory:SU,deps:[Gc,Ts,he]}],bU=[{provide:ui,useFactory:()=>new Tu},{provide:Wf,useValue:"BrowserAnimations"},...XS],z4=[{provide:ui,useClass:iy},{provide:Wf,useValue:"NoopAnimations"},...XS];function eb(){return kr("NgEagerAnimations"),[...bU]}var tb={providers:[aC(()=>cC({projectId:"set-card-game-b7b55",appId:"1:314036741918:web:13991a7c172a1b2efecb0f",databaseURL:"https://set-card-game-b7b55-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"set-card-game-b7b55.firebasestorage.app",apiKey:"AIzaSyDZAx444-7oW19-zQFktsp_2Ef6D5lHD4A",authDomain:"set-card-game-b7b55.firebaseapp.com",messagingSenderId:"314036741918"})),IS(()=>CS()),Jw({eventCoalescing:!0}),aI(SS),eb()]};var nb=(()=>{class n{data=y(gr);constructor(){this.data.setUserName()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["app-root"]],standalone:!0,features:[Te],decls:2,vars:0,consts:[[1,"app-container"]],template:function(r,i){r&1&&(D(0,"div",0),Ie(1,"router-outlet"),S())},dependencies:[op],styles:[".app-container[_ngcontent-%COMP%]{padding:1em}"]})}return n})();DE(nb,tb).catch(n=>console.error(n));
